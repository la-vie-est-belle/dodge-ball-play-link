System.register("chunks:///_virtual/Achievements.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(e){var n,t,i,a,o,d,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,a=e.find,o=e.Label,d=e.Component},function(e){r=e.Player}],execute:function(){var c,l;t._RF.push({},"f6cebXJA1xJe7qQpEPQjHcJ","Achievements",void 0);var u=i.ccclass;i.property,e("Achievements",u("Achievements")(((l=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return(n=e.call.apply(e,[this].concat(i))||this).gameAchievements=[{id:"GAME_COLLECT_10",diamond:5,name:"10把武器",desc:"装备10把武器进行战斗\n(钻石+5)",condition:function(e){return e.player.getChildByName("Weapon").children.length>=10&&(e.updateDiamondNum(5),!0)}},{id:"GAME_COLLECT_20",diamond:50,name:"20把武器",desc:"装备20把武器进行战斗\n(钻石+50)",condition:function(e){return e.player.getChildByName("Weapon").children.length>=20&&(e.updateDiamondNum(50),!0)}},{id:"GAME_FULL_LIFE",diamond:20,name:"躲避大师",desc:"倒计时结束，滴血未扣，波次>=10\n(钻石+20)",condition:function(e){return e.waveCount>=11&&"CHOOSE_STATE"==e.gameState&&e.player.getComponent(r).allPlayerData.hp.value==e.player.getComponent(r).originalHP&&(e.updateDiamondNum(20),!0)}},{id:"GAME_SCORE_10000",diamond:20,name:"1万分数",desc:"战斗分数达到1万分\n(钻石+20)",condition:function(e){return e.score>=1e4&&(e.updateDiamondNum(20),!0)}},{id:"GAME_COIN_10000",diamond:20,name:"1万金币",desc:"金币存款达到1万\n(钻石+20)",condition:function(e){return parseInt(a("Canvas/UI/Coin Layout/Coin Count").getComponent(o).string)>=1e4&&(e.updateDiamondNum(20),!0)}},{id:"GAME_WEAPON_SAME",diamond:10,name:"整整齐齐",desc:"使用10把相同武器进行战斗\n(钻石+10)",condition:function(e){if(e.player.getChildByName("Weapon").children.length>=10){if(e.player.getChildByName("Weapon").children[0].children.length<3)return!1;for(var n=e.player.getChildByName("Weapon").children[0].children[2].name,t=1;t<e.player.getChildByName("Weapon").children.length;t++){if(n!=e.player.getChildByName("Weapon").children[t].children[2].name)return!1}return e.updateDiamondNum(10),!0}return!1}},{id:"GAME_MONSTER_KILL_1000",diamond:30,name:"1千只怪",desc:"在游戏中消灭1千只怪物\n(钻石+30)",condition:function(e){return e.killedMonsterNum>=1e3&&(e.updateDiamondNum(30),!0)}},{id:"GAME_WAVE_20",diamond:30,name:"第20波!",desc:"坚持到第20波结束!\n(钻石+30)",condition:function(e){return 21==e.waveCount&&(e.updateDiamondNum(30),!0)}},{id:"GAME_LOVE_AUTHOR",diamond:5,name:"支持作者",desc:"在游戏中看一次广告\n(钻石+5)",condition:function(e){return!!localStorage.getItem("dodge-ball-love-author")&&(e.updateDiamondNum(5),!0)}},{id:"GAME_LEARN_ADJUST",diamond:5,name:"武器策略",desc:"在升级页面尝试调整武器位置\n(钻石+5)",condition:function(e){return(e.infoScrollViewContent.children.length>=2&&a("Canvas/infoBoard/Title/Button Layout2/Move Left Button").scale.y>=1.001||e.infoScrollViewContent.children.length>=2&&a("Canvas/infoBoard/Title/Button Layout2/Move Right Button").scale.y>=1.001)&&(e.updateDiamondNum(5),!0)}},{id:"GAME_TALENT_MASTER",diamond:5,name:"天选之子",desc:"以三种天赋开始战斗\n(钻石+5)",condition:function(e){return e.startTalentKeyArray.length>=3&&(e.updateDiamondNum(5),!0)}},{id:"GAME_LEVEL_10",diamond:5,name:"升到10级",desc:"在游戏中升到10级\n(钻石+5)",condition:function(e){return e.player.getComponent(r).playerLevl>=10&&(e.updateDiamondNum(5),!0)}},{id:"GAME_ONE_PLUS_10",diamond:10,name:"+10武器",desc:"在游戏中装备一把+10武器\n(钻石+10)",condition:function(e){for(var n=0,t=0;t<e.infoScrollViewContent.children.length;t++){if(parseInt(e.infoScrollViewContent.children[t].getChildByName("updateNum").getComponent(o).string)>=10){n+=1;break}}return n>=1&&(e.updateDiamondNum(10),!0)}},{id:"GAME_ONE_PLUS_10_10",diamond:100,name:"十全十美",desc:"在游戏中装备十把+10武器\n(钻石+100)",condition:function(e){for(var n=0,t=0;t<e.infoScrollViewContent.children.length;t++){parseInt(e.infoScrollViewContent.children[t].getChildByName("updateNum").getComponent(o).string)>=10&&(n+=1)}return n>=10&&(e.updateDiamondNum(100),!0)}},{id:"GAME_ONE_PLUS_20_20",diamond:200,name:"火力压制!",desc:"在游戏中装备20把+10武器\n(钻石+200)",condition:function(e){for(var n=0,t=0;t<e.infoScrollViewContent.children.length;t++){parseInt(e.infoScrollViewContent.children[t].getChildByName("updateNum").getComponent(o).string)>=10&&(n+=1)}return n>=20&&(e.updateDiamondNum(200),!0)}},{id:"GAME_LEVEL_100",diamond:50,name:"升到100级",desc:"在游戏中升到100级\n(钻石+50)",condition:function(e){return e.player.getComponent(r).playerLevl>=100&&(e.updateDiamondNum(50),!0)}}],n}n(t,e);var i=t.prototype;return i.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},i.checkGameAchievements=function(e){var n=this.getAchievedIdArray(),t=[];this.gameAchievements.forEach((function(i){-1==n.indexOf(i.id)&&i.condition(e)&&t.push(i)})),t.length&&(this.updateAchievedIdArray(t),e.addAchievement(t))},i.getAllGameAchievements=function(){return this.gameAchievements},i.getAchievedIdArray=function(){return localStorage.getItem("achievement-id-array")?JSON.parse(localStorage.getItem("achievement-id-array")):(localStorage.setItem("achievement-id-array",JSON.stringify([])),[])},i.updateAchievedIdArray=function(e){for(var n=JSON.parse(localStorage.getItem("achievement-id-array")),t=0;t<e.length;t++)n.push(e[t].id);localStorage.setItem("achievement-id-array",JSON.stringify(n))},i.update=function(e){},t}(d))._instance=null,c=l))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/AdManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATJSSDK.ts","./ATRewardedVideoTSSDK.ts","./ATBannerTSSDK.ts","./Utils.ts"],(function(e){var n,o,d,t,i,a,r,s,A,l,c;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,d=e._decorator,t=e.sys,i=e.director,a=e.screen,r=e.Component},function(e){s=e.ATJSSDK},function(e){A=e.ATRewardedVideoSDK},function(e){l=e.ATBannerSDK},function(e){c=e.Utils}],execute:function(){var u,h;o._RF.push({},"39ebdjgI1BPYL/QQsf1Whd0","AdManager",void 0);var f=d.ccclass,g=(d.property,window.wx),w=window.tt,p=window.gamebox;window.ATRewardSceneScript=A;e("AdManager",f("AdManager")(((h=function(e){function o(){for(var n,o=arguments.length,d=new Array(o),t=0;t<o;t++)d[t]=arguments[t];return(n=e.call.apply(e,[this].concat(d))||this).isAdInited=!1,n.wxBannerAd=null,n.wxVideoAd=null,n.ttBannerAd=null,n.ttVideoAd=null,n.gameBoxAd=null,n.takuAppID="a682fcda2ee82c",n.takuAppKey="ae6c1dc6bccfd638a391ac37dc8c309a4",n.takuAndroidVideoAdID="b682fcdc9764c8",n.takuAndroidBannerAdID="",n.isTakuAndroidBannerShownBefore=!1,n.gameManager=null,n}n(o,e);var d=o.prototype;return d.start=function(){this.initAd()},d.initAd=function(){if(!this.isAdInited){if(p)this.initGameBoxAd(),this.isAdInited=!0;else if(t.platform==t.Platform.WECHAT_GAME)this.initWxAd(),this.isAdInited=!0;else if(t.platform==t.Platform.BYTEDANCE_MINI_GAME)this.initTtAd(),this.isAdInited=!0;else if(t.platform==t.Platform.ANDROID)try{this.isAdInited=!0,this.initTakuAd(),console.log("！！！！！！！！！！Taku广告初始化成功！！！！！！！！！！")}catch(e){s.printLog(e),console.log("！！！！！！！！！！Taku广告初始化失败！！！！！！！！！！")}i.addPersistRootNode(this.node)}},d.videoRewardForAllPlatforms=function(){"Start Weapon"==localStorage.getItem("dodge-ball-ad-type")||"Start Talent"==localStorage.getItem("dodge-ball-ad-type")?this.gameManager.onStartPageAllWantAdButtonClickedReward():"Update Refresh"==localStorage.getItem("dodge-ball-ad-type")?this.gameManager.onUpdatePageRefreshAdButtonClickedReward():"Update Ad Free Buy"==localStorage.getItem("dodge-ball-ad-type")?this.gameManager.onUpdatePageAdButtonClickedReward():"Revive"==localStorage.getItem("dodge-ball-ad-type")&&this.gameManager.reviveReward()},d.initGameBoxAd=function(){var e=this,n=this;console.log("gamebox广告初始化成功"),this.gameBoxAd=p.createRewardedVideoAd();this.gameBoxAd.onError((function(e){console.info("RewardedVideo onError"+e)})),this.gameBoxAd.onClose((function(e){n.gameManager.audioManager.pause(),n.gameManager.audioManager.replayBgAudio()})),this.gameBoxAd.onCompleted((function(n){e.videoRewardForAllPlatforms()}))},d.showGameBoxVideoAd=function(){var e=this;this.gameBoxAd?this.gameBoxAd.show().catch((function(){e.gameBoxAd.load().then((function(){return e.gameBoxAd.show()})).catch((function(e){console.log("激励视频 广告显示失败",e)}))})):console.log("gameboxAd不存在")},d.initTtAd=function(){this.initTtVideoAd()},d.initTtBannerAd=function(){if(!this.ttBannerAd&&w){w.getSystemInfoSync().screenWidth;var e=w.getSystemInfoSync().screenHeight;this.ttBannerAd=w.createBannerAd({adUnitId:"gpl0jfqpe6n5514243",style:{left:0,top:e/6,width:300}}),this.ttBannerAd.onError((function(e){console.log(e)}))}},d.showTtBannerAd=function(){this.ttBannerAd&&this.ttBannerAd.show()},d.hideTtBannerAd=function(){this.ttBannerAd&&this.ttBannerAd.hide()},d.initTtVideoAd=function(){if(!this.ttVideoAd&&w){this.ttVideoAd=w.createRewardedVideoAd({adUnitId:"go74sdaj23k014b22e",multiton:!1,multitonRewardMsg:["更多奖励1","更多奖励2","更多奖励3"],multitonRewardTimes:3,progressTip:!1});var e=this;this.ttVideoAd.onClose((function(n){n.isEnded&&e.videoRewardForAllPlatforms(),n.count})),this.ttVideoAd.onError((function(){console.log("error emit")})),this.ttVideoAd.onLoad((function(){console.log("广告加载完成")}))}},d.showTtVideoAd=function(e){void 0===e&&(e=null),this.ttVideoAd&&(this.ttVideoAd.load(),this.ttVideoAd.show().then((function(){console.log("广告显示成功")})).catch((function(n){console.log("广告组件出现问题",n),e&&e()})))},d.initWxAd=function(){this.initWxVideoAd()},d.initWxBannerAd=function(){if(!this.wxBannerAd&&g){var e=g.getSystemInfoSync().screenWidth,n=g.getSystemInfoSync().screenHeight;this.wxBannerAd=g.createCustomAd({adUnitId:"adunit-9461d4d27237542e",style:{left:(e-350)/2,top:n-n/5,width:350}}),this.wxBannerAd.onError((function(e){console.log(e)}))}},d.initWxVideoAd=function(){if(!this.wxVideoAd&&g){g.onAudioInterruptionEnd((function(){e.gameManager.audioManager.pause(),e.gameManager.audioManager.replayBgAudio()})),this.wxVideoAd=g.createRewardedVideoAd({adUnitId:"adunit-493ba3b506cf8d69"}),this.wxVideoAd.onLoad((function(){})),this.wxVideoAd.onError((function(e){console.log(e)}));try{this.wxVideoAd.closeHandler&&(this.wxVideoAd.offClose(this.wxVideoAd.closeHandler),console.log("---videoAd.offClose 卸载成功---"))}catch(e){console.log("---videoAd.offClose 卸载失败---"),console.error(e)}var e=this;this.wxVideoAd.closeHandler=function(n){if(n&&n.isEnded||void 0===n){console.log("播放完毕");try{e.videoRewardForAllPlatforms()}catch(e){console.log(e)}}},this.wxVideoAd.onClose(this.wxVideoAd.closeHandler)}},d.showWxBannerAd=function(){this.wxBannerAd&&this.wxBannerAd.show()},d.hideWxBannerAd=function(){this.wxBannerAd&&this.wxBannerAd.hide()},d.showWxVideoAd=function(e){var n=this;void 0===e&&(e=null),this.wxVideoAd&&this.wxVideoAd.show().catch((function(){n.wxVideoAd.load().then((function(){return n.wxVideoAd.show()})).catch((function(n){console.log("激励视频 广告显示失败"),console.log(n),e&&e()}))}))},d.initTakuAd=function(){s.initCustomMap({appCustomKey1:"appCustomValue1",appCustomKey2:"appCustomValue2"});s.setPlacementCustomMap(this.takuAndroidVideoAdID,{placementCustomKey1:"placementCustomValue1",placementCustomKey2:"placementCustomValue2"});s.getGDPRLevel();s.initSDK(this.takuAppID,this.takuAppKey),A.setAdListener(this),l.setAdListener(this)},d.loadTakuVideoAd=function(){var e={};e[A.userIdKey]="test_user_id",e[A.userDataKey]="test_user_data",A.loadRewardedVideo(this.takuAndroidVideoAdID,e)},d.loadTakuBannerAd=function(){var e={};e[l.kATBannerAdLoadingExtraBannerAdSizeStruct]=l.createLoadAdSize(a.windowSize.width,150),e[l.kATBannerAdAdaptiveWidth]=a.windowSize.width,e[l.kATBannerAdAdaptiveOrientation]=l.kATBannerAdAdaptiveOrientationCurrent,l.loadBanner(this.takuAndroidBannerAdID,e)},d.showTakuVideoAd=function(){A.showAd(this.takuAndroidVideoAdID)},d.showTakuBannerAd=function(){this.isTakuAndroidBannerShownBefore?l.reShowAd(this.takuAndroidBannerAdID):(this.isTakuAndroidBannerShownBefore=!0,l.showAdInPosition(this.takuAndroidBannerAdID,l.kATBannerAdShowingPositionTop)),s.printLog("！！！！！！！成功显示横幅广告！！！！！！！")},d.isReady=function(){var e=l.hasAdReady(this.takuAndroidBannerAdID);s.printLog("AnyThinkBannerDemo::checkReady() "+(e?"Ready":"NO"));var n=l.checkAdStatus(this.takuAndroidBannerAdID);s.printLog("AnyThinkBannerDemo::checkAdStatus()   "+n)},d.hideTakuBannerAd=function(){l.hideAd(this.takuAndroidBannerAdID),s.printLog("！！！！！！！成功隐藏横幅广告！！！！！！！")},d.onRewardedVideoAdLoaded=function(e){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdLoaded("+e+")")},d.onRewardedVideoAdFailed=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdFailed("+e+", "+n+")")},d.onRewardedVideoAdPlayStart=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayStart("+e+", "+n+")")},d.onRewardedVideoAdPlayEnd=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayEnd("+e+", "+n+")")},d.onRewardedVideoAdPlayFailed=function(e,n,o){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayFailed("+e+", "+n+", "+o+")");try{c.getInstace().showMessage("广告播放失败，请重试",1)}catch(e){s.printLog(e)}},d.onRewardedVideoAdClosed=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdClosed("+e+", "+n+")")},d.onRewardedVideoAdPlayClicked=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayClicked("+e+", "+n+")")},d.onReward=function(e,n){s.printLog("AnyThinkRewardedVideoDemo::onReward("+e+", "+n+")");try{this.videoRewardForAllPlatforms()}catch(e){console.log(e)}},d.onBannerAdLoaded=function(e){s.printLog("onBannerAdLoaded"+e)},d.onBannerAdLoadFail=function(e,n){s.printLog("onBannerAdLoadFail"+e+ +n)},d.onBannerAdShow=function(e,n){s.printLog("onBannerAdShow"+e+n)},d.onBannerAdClick=function(e,n){s.printLog("onBannerAdClick"+e+n)},d.onBannerAdAutoRefresh=function(e,n){s.printLog("onBannerAdAutoRefresh"+e+n)},d.onBannerAdAutoRefreshFail=function(e,n){s.printLog("onBannerAdAutoRefreshFail"+e+n)},d.onBannerAdCloseButtonTapped=function(e,n){s.printLog("onBannerAdCloseButtonTapped"+e+n)},d.update=function(e){},o}(r))._instance=null,u=h))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidBannerTS.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"7be153xugNG07Wv4XLQrq23","ATAndroidBannerTS",void 0);var a="com/anythink/cocosjs/ATBannerJSBridge";n("ATAndroidBannerTS",{loadBanner:function(n,t){cc.log("Android-loadBanner:"+t),jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)V",n,t)},setAdListener:function(n){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return cc.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAdInPosition:function(n,t){cc.log("Android-showAdInPosistion"),jsb.reflection.callStaticMethod(a,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInPositionAndScenario:function(n,t,i){cc.log("Android-showAdInPositionAndScenario"),jsb.reflection.callStaticMethod(a,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,i)},showAdInRectangle:function(n,t){cc.log("Android-showAdInRectangle"),jsb.reflection.callStaticMethod(a,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInRectangleAndScenario:function(n,t,i){cc.log("Android-showAdInRectangleAndScenario"),jsb.reflection.callStaticMethod(a,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,i)},removeAd:function(n){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(a,"remove","(Ljava/lang/String;)V",n)},reShowAd:function(n){cc.log("Android-reShowAd"),jsb.reflection.callStaticMethod(a,"reshow","(Ljava/lang/String;)V",n)},hideAd:function(n){cc.log("Android-hideAd"),jsb.reflection.callStaticMethod(a,"hide","(Ljava/lang/String;)V",n)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidIntersitialAutoTS.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"98f74kK/ehGGZXzoxC30t4Q","ATAndroidIntersitialAutoTS",void 0);var n="com/anythink/cocosjs/ATInterstitialAutoAdJSBridge";t("ATAndroidInterstitialAutoAdTS",{setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",t)},addPlacementIds:function(t){cc.log("Android-addPlacementIds"),jsb.reflection.callStaticMethod(n,"addPlacementIds","(Ljava/lang/String;)V",t)},removePlacementId:function(t){cc.log("Android-removePlacementId"),jsb.reflection.callStaticMethod(n,"removePlacementId","(Ljava/lang/String;)V",t)},setAdExtraData:function(t,a){cc.log("Android-setAdExtraData"),jsb.reflection.callStaticMethod(n,"setAdExtraData","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-ivautoad_showAd:"+t),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,a){cc.log("Android-ivautoad_showAdInScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},entryAdScenario:function(t,a){cc.log("Android-entryAdScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(n,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,a)}});a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidIntersitialTS.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"6bf68FI2zNDlpzkTQIOeEau","ATAndroidIntersitialTS",void 0);var a="com/anythink/cocosjs/ATInterstitialJSBridge";t("ATAndroidInterstitialJS",{loadInterstitial:function(t,n){cc.log("Android-loadInterstitial"),jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)V",t,n)},setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-showAd:"+t),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,n){cc.log("Android-showAdInScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,n)},entryAdScenario:function(t,n){cc.log("Android-entryAdScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(a,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,n)}});n._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidJS.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"26ca8yhbdZBB72PvsDDGDYa","ATAndroidJS",void 0);var n="com/anythink/cocosjs/ATJSBridge";t("ATAndroidJS",{printJsLog:function(t){null!=t&&null!=t&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","AT-Cocos-JS",t)},initSDK:function(t,e){jsb.reflection.callStaticMethod(n,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},initCustomMap:function(t){jsb.reflection.callStaticMethod(n,"initCustomMap","(Ljava/lang/String;)V",t)},setPlacementCustomMap:function(t,e){jsb.reflection.callStaticMethod(n,"setPlacementCustomMap","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setGDPRLevel:function(t){jsb.reflection.callStaticMethod(n,"setGDPRLevel","(I)V",t)},getGDPRLevel:function(){return jsb.reflection.callStaticMethod(n,"getGDPRLevel","()I")},getUserLocation:function(t){jsb.reflection.callStaticMethod(n,"getUserLocation","(Ljava/lang/String;)V",t)},showGDPRAuth:function(){jsb.reflection.callStaticMethod(n,"showGDPRAuth","()V")},setLogDebug:function(t){jsb.reflection.callStaticMethod(n,"setLogDebug","(Z)V",t)},deniedUploadDeviceInfo:function(t){jsb.reflection.callStaticMethod(n,"deniedUploadDeviceInfo","(Ljava/lang/String;)V",t)},showDebuggerUI:function(t){try{jsb.reflection.callStaticMethod(n,"showDebuggerUI","(Ljava/lang/String;)V",t)}catch(t){t instanceof Error?console.error(t.message):console.error("unknown error",t)}}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidNativeTS.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"61ab2LEA3JDEolIB5Ce+KA+","ATAndroidNativeTS",void 0);var a="com/anythink/cocosjs/ATNativeJSBridge";n("ATAndroidNativeTS",{loadNative:function(n,t){cc.log("Android-loadNative"),jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)V",n,t)},setAdListener:function(n){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return cc.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAd:function(n,t){cc.log("Android-showAd"),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInScenario:function(n,t,e){cc.log("Android-showAdInScenario"),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,e)},removeAd:function(n){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(a,"remove","(Ljava/lang/String;)V",n)},entryAdScenario:function(n,t){cc.log("Android-entryAdScenario:"+n+"---"+t),jsb.reflection.callStaticMethod(a,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",n,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidRewardedVideoAutoTS.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"9ff8e5P1Q1Jt7Q+BcLryWHM","ATAndroidRewardedVideoAutoTS",void 0);var e="com/anythink/cocosjs/ATRewardedVideoAutoAdJSBridge";t("ATAndroidRewardedVideoAutoAdTS",{setAdListener:function(t){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(e,"setAdListener","(Ljava/lang/String;)V",t)},addPlacementIds:function(t){cc.log("Android-addPlacementIds"),jsb.reflection.callStaticMethod(e,"addPlacementIds","(Ljava/lang/String;)V",t)},removePlacementId:function(t){cc.log("Android-removePlacementId"),jsb.reflection.callStaticMethod(e,"removePlacementId","(Ljava/lang/String;)V",t)},setAdExtraData:function(t,a){cc.log("Android-setAdExtraData"),jsb.reflection.callStaticMethod(e,"setAdExtraData","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},hasAdReady:function(t){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(e,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return cc.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(e,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){cc.log("Android-rvautoad_showAd:"+t),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,a){cc.log("Android-rvautoad_showAdInScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},entryAdScenario:function(t,a){cc.log("Android-entryAdScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,a)}});a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidRewardedVideoTS.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"e8559ZAANdChKcsr6HBPWsb","ATAndroidRewardedVideoTS",void 0);var t="com/anythink/cocosjs/ATRewardedVideoJSBridge";n("ATAndroidRewardedVideoJS",{loadRewardedVideo:function(n,e){cc.log("Android-loadRewardedVideo"),jsb.reflection.callStaticMethod(t,"load","(Ljava/lang/String;Ljava/lang/String;)V",n,e)},setAdListener:function(n){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(t,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(t,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return cc.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(t,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAd:function(n){cc.log("Android-rv_showAd:"+n),jsb.reflection.callStaticMethod(t,"show","(Ljava/lang/String;)V",n)},showAdInScenario:function(n,e){cc.log("Android-rv_showAdInScenario:"+n+"---"+e),jsb.reflection.callStaticMethod(t,"show","(Ljava/lang/String;Ljava/lang/String;)V",n,e)},entryAdScenario:function(n,e){cc.log("Android-entryAdScenario:"+n+"---"+e),jsb.reflection.callStaticMethod(t,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",n,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATBannerTSSDK.ts",["cc","./ATAndroidBannerTS.ts","./ATiOSBannerTS.ts"],(function(n){var e,l,o;return{setters:[function(n){e=n.cclegacy},function(n){l=n.ATAndroidBannerTS},function(n){o=n.ATiOSBannerJS}],execute:function(){e._RF.push({},"6e279R3gTNOI7/AIoTQQ25I","ATBannerTSSDK",void 0);var a=cc.sys.os===cc.sys.OS.IOS?o:cc.sys.os===cc.sys.OS.ANDROID?l:void 0,r=n("ATBannerSDK",{kATBannerAdLoadingExtraBannerAdSizeStruct:"banner_ad_size_struct",kATBannerAdShowingPositionTop:"top",kATBannerAdShowingPositionBottom:"bottom",kATBannerAdInlineAdaptiveWidth:"inline_adaptive_width",kATBannerAdInlineAdaptiveOrientation:"inline_adaptive_orientation",kATBannerAdInlineAdaptiveOrientationCurrent:0,kATBannerAdInlineAdaptiveOrientationPortrait:1,kATBannerAdInlineAdaptiveOrientationLandscape:2,kATBannerAdAdaptiveWidth:"adaptive_width",kATBannerAdAdaptiveOrientation:"adaptive_orientation",kATBannerAdAdaptiveOrientationCurrent:0,kATBannerAdAdaptiveOrientationPortrait:1,kATBannerAdAdaptiveOrientationLandscape:2,ATBannerListener:{developerCallback:null,onBannerAdLoaded:function(n){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoaded&&null!=this.developerCallback.onBannerAdLoaded&&this.developerCallback.onBannerAdLoaded(n)},onBannerAdLoadFail:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoadFail&&null!=this.developerCallback.onBannerAdLoadFail&&this.developerCallback.onBannerAdLoadFail(n,e)},onBannerAdShow:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdShow&&null!=this.developerCallback.onBannerAdShow&&this.developerCallback.onBannerAdShow(n,e)},onBannerAdClick:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdClick&&null!=this.developerCallback.onBannerAdClick&&this.developerCallback.onBannerAdClick(n,e)},onBannerAdAutoRefresh:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefresh&&null!=this.developerCallback.onBannerAdAutoRefresh&&this.developerCallback.onBannerAdAutoRefresh(n,e)},onBannerAdAutoRefreshFail:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&this.developerCallback.onBannerAdAutoRefreshFail(n,e)},onBannerAdCloseButtonTapped:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&this.developerCallback.onBannerAdCloseButtonTapped(n,e)},onAdSourceBiddingAttempt:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(n,e)},onAdSourceBiddingFilled:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(n,e)},onAdSourceBiddingFail:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(n,e,l)},onAdSourceAttemp:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(n,e)},onAdSourceLoadFilled:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(n,e)},onAdSourceLoadFail:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(n,e,l)}},loadBanner:function(n,e){if(void 0===e&&(e={}),null!=a&&null!=a){if(e.hasOwnProperty(r.kATBannerAdLoadingExtraBannerAdSizeStruct)){var l=e[r.kATBannerAdLoadingExtraBannerAdSizeStruct];e.width=l.width,e.height=l.height}a.loadBanner(n,JSON.stringify(e))}else cc.log("You must run on Android or iOS.")},setAdListener:function(n){var e={};e[d]="ATBannerSDK.ATBannerListener.onBannerAdLoaded",e[i]="ATBannerSDK.ATBannerListener.onBannerAdLoadFail",e[t]="ATBannerSDK.ATBannerListener.onBannerAdCloseButtonTapped",e[A]="ATBannerSDK.ATBannerListener.onBannerAdClick",e[u]="ATBannerSDK.ATBannerListener.onBannerAdShow",e[c]="ATBannerSDK.ATBannerListener.onBannerAdAutoRefresh",e[s]="ATBannerSDK.ATBannerListener.onBannerAdAutoRefreshFail",e[B]="ATBannerSDK.ATBannerListener.onAdSourceBiddingAttempt",e[h]="ATBannerSDK.ATBannerListener.onAdSourceBiddingFilled",e[p]="ATBannerSDK.ATBannerListener.onAdSourceBiddingFail",e[S]="ATBannerSDK.ATBannerListener.onAdSourceAttemp",e[v]="ATBannerSDK.ATBannerListener.onAdSourceLoadFilled",e[k]="ATBannerSDK.ATBannerListener.onAdSourceLoadFail",null!=a&&null!=a?a.setAdListener(JSON.stringify(e)):cc.log("You must run on Android or iOS."),this.ATBannerListener.developerCallback=n},hasAdReady:function(n){return null!=a&&null!=a?a.hasAdReady(n):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(n){return null!=a&&null!=a?a.checkAdStatus(n):(cc.log("You must run on Android or iOS."),"")},showAdInPosition:function(n,e){null!=a&&null!=a?a.showAdInPosition(n,e):cc.log("You must run on Android or iOS.")},showAdInPositionAndScenario:function(n,e,l){null!=a&&null!=a?a.showAdInPosition(n,e,l):cc.log("You must run on Android or iOS.")},showAdInRectangle:function(n,e){null!=a&&null!=a?a.showAdInRectangle(n,JSON.stringify(e)):cc.log("You must run on Android or iOS.")},showAdInRectangleAndScenario:function(n,e,l){null!=a&&null!=a?a.showAdInRectangle(n,JSON.stringify(e),l):cc.log("You must run on Android or iOS.")},removeAd:function(n){null!=a&&null!=a?a.removeAd(n):cc.log("You must run on Android or iOS.")},reShowAd:function(n){null!=a&&null!=a?a.reShowAd(n):cc.log("You must run on Android or iOS.")},hideAd:function(n){null!=a&&null!=a?a.hideAd(n):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(n,e){var l={};return l.width=n,l.height=e,l},createShowAdRect:function(n,e,l,o){var a={};return a.x=n,a.y=e,a.width=l,a.height=o,a}}),d="BannerLoaded",i="BannerLoadFail",t="BannerCloseButtonTapped",A="BannerClick",u="BannerShow",c="BannerRefresh",s="BannerRefreshFail",B="BannerBiddingAttempt",h="BannerBiddingFilled",p="BannerBiddingFail",S="BannerAttemp",v="BannerLoadFilled",k="BannerLoadFail";window.ATBannerSDK=r,e._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialAutoTSSDK.ts",["cc","./ATAndroidIntersitialAutoTS.ts","./ATiOSIntersitiaAutolTS.ts"],(function(t){var l,i,e;return{setters:[function(t){l=t.cclegacy},function(t){i=t.ATAndroidInterstitialAutoAdTS},function(t){e=t.ATiOSInterstitialAutoAdTS}],execute:function(){l._RF.push({},"36dc4MWxpNGza5Rji+NIXiQ","ATIntersitialAutoTSSDK",void 0);var n=cc.sys.os===cc.sys.OS.IOS?e:cc.sys.os===cc.sys.OS.ANDROID?i:void 0,o=t("ATInterstitialAutoAdSDK",{UseInterstitialAsInterstitial:"UseInterstitialAsInterstitial",UseRewardedVideoAsInterstitial:"UseRewardedVideoAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(t)},onInterstitialAdLoadFail:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(t,l)},onInterstitialAdShow:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(t,l)},onInterstitialAdStartPlayingVideo:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(t,l)},onInterstitialAdEndPlayingVideo:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(t,l)},onInterstitialAdFailedToPlayVideo:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(t,l)},onInterstitialAdFailedToShow:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(t,l,i)},onInterstitialAdClose:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(t,l)},onInterstitialAdClick:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(t,l)}},setAdExtraData:function(t,l){void 0===l&&(l={}),null!=n&&null!=n?n.setAdExtraData(t,JSON.stringify(l)):cc.log("You must run on Android or iOS.")},addPlacementIds:function(t){null!=n&&null!=n?n.addPlacementIds(JSON.stringify(t)):cc.log("You must run on Android or iOS.")},removePlacementId:function(t){null!=n&&null!=n?n.removePlacementId(JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(t){var l={};l[a]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdLoaded",l[d]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdLoadFail",l[r]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",l[s]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",l[A]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",l[u]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdClose",l[c]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdClick",l[I]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdShow",l[S]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdFailedToShow",null!=n&&null!=n?n.setAdListener(JSON.stringify(l)):cc.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=t},hasAdReady:function(t){return null!=n&&null!=n?n.hasAdReady(t):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=n&&null!=n?n.checkAdStatus(t):(cc.log("You must run on Android or iOS."),"")},showAd:function(t){null!=n&&null!=n?n.showAd(t):cc.log("You must run on Android or iOS.")},showAdInScenario:function(t,l){void 0===l&&(l=""),null!=n&&null!=n?n.showAdInScenario(t,l):cc.log("You must run on Android or iOS.")},entryAdScenario:function(t,l){void 0===l&&(l=""),null!=n&&null!=n?n.entryAdScenario(t,l):cc.log("You must run on Android or iOS.")}}),a="InterstitialAutoAdLoaded",d="InterstitialAutoAdLoadFail",r="InterstitialAutoAdPlayStart",s="InterstitialAutoAdPlayEnd",A="InterstitialAutoAdPlayFail",u="InterstitialAutoAdClose",c="InterstitialAutoAdClick",I="InterstitialAutoAdAdShow",S="InterstitialAutoAdShowFail";window.ATInterstitialAutoAdSDK=o,l._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialTSSDK.ts",["cc","./ATAndroidIntersitialTS.ts","./ATiOSIntersitialTS.ts"],(function(l){var t,i,e;return{setters:[function(l){t=l.cclegacy},function(l){i=l.ATAndroidInterstitialJS},function(l){e=l.ATiOSInterstitialJS}],execute:function(){t._RF.push({},"7a34e5+P4pMqJyrJdl2+Qk5","ATIntersitialTSSDK",void 0);var n=cc.sys.os===cc.sys.OS.IOS?e:cc.sys.os===cc.sys.OS.ANDROID?i:void 0,a=l("ATInterstitialSDK",{UseInterstitialAsInterstitial:"UseInterstitialAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(l)},onInterstitialAdLoadFail:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(l,t)},onInterstitialAdShow:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(l,t)},onInterstitialAdStartPlayingVideo:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(l,t)},onInterstitialAdEndPlayingVideo:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(l,t)},onInterstitialAdFailedToPlayVideo:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(l,t)},onInterstitialAdFailedToShow:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(l,t,i)},onInterstitialAdClose:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(l,t)},onInterstitialAdClick:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(l,t)},onAdSourceBiddingAttempt:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(l,t)},onAdSourceBiddingFilled:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(l,t)},onAdSourceBiddingFail:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(l,t,i)},onAdSourceAttemp:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(l,t)},onAdSourceLoadFilled:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(l,t)},onAdSourceLoadFail:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(l,t,i)}},loadInterstitial:function(l,t){void 0===t&&(t={}),null!=n&&null!=n?n.loadInterstitial(l,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(l){var t={};t[o]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdLoaded",t[d]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdLoadFail",t[r]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",t[s]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",t[c]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",t[A]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdClose",t[u]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdClick",t[I]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdShow",t[S]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdFailedToShow",t[h]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingAttempt",t[p]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingFilled",t[C]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingFail",t[k]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceAttemp",t[v]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceLoadFilled",t[b]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceLoadFail",null!=n&&null!=n?n.setAdListener(JSON.stringify(t)):cc.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=l},hasAdReady:function(l){return null!=n&&null!=n?n.hasAdReady(l):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(l){return null!=n&&null!=n?n.checkAdStatus(l):(cc.log("You must run on Android or iOS."),"")},showAd:function(l){null!=n&&null!=n?n.showAd(l):cc.log("You must run on Android or iOS.")},showAdInScenario:function(l,t){void 0===t&&(t=""),null!=n&&null!=n?n.showAdInScenario(l,t):cc.log("You must run on Android or iOS.")},entryAdScenario:function(l,t){void 0===t&&(t=""),null!=n&&null!=n?n.entryAdScenario(l,t):cc.log("You must run on Android or iOS.")}}),o="InterstitialLoaded",d="InterstitialLoadFail",r="InterstitialPlayStart",s="InterstitialPlayEnd",c="InterstitialPlayFail",A="InterstitialClose",u="InterstitialClick",I="InterstitialAdShow",S="InterstitialAdShowFail",h="InterstitialBiddingAttempt",p="InterstitialBiddingFilled",C="InterstitialBiddingFail",k="InterstitialAttemp",v="InterstitialLoadFilled",b="InterstitialLoadFail";window.ATInterstitialSDK=a,t._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSBannerTS.ts",["cc","./ATiOSJS.ts"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy},function(n){t=n.ATiOSJS}],execute:function(){e._RF.push({},"d34a2MIFbdMG68LYvUC/kxC","ATiOSBannerTS",void 0);var i="ATBannerAdWrapper";n("ATiOSBannerJS",{loadBanner:function(n,e){t.printJsLog("ATiOSBannerJS::loadBanner("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"loadBannerWithPlacementID:extra:",n,e)},setAdListener:function(n){t.printJsLog("ATiOSBannerJS::setAdListener("+n+")"),jsb.reflection.callStaticMethod(i,"setDelegates:",n)},hasAdReady:function(n){return t.printJsLog("ATiOSBannerJS::hasAdReady("+n+")"),jsb.reflection.callStaticMethod(i,"bannerReadyForPlacementID:",n)},checkAdStatus:function(n){return t.printJsLog("ATiOSBannerJS::checkAdStatus("+n+")"),jsb.reflection.callStaticMethod(i,"bannerCheckAdStatusForPlacementID:",n)},showAdInPosition:function(n,e){t.printJsLog("ATiOSBannerJS::showAdInPosition("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:position:",n,null,e)},showAdInPositionAndScenario:function(n,e,o){t.printJsLog("ATiOSBannerJS::showAdInPositionAndScenario("+n+", "+e+", "+o+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:position:",n,o,e)},showAdInRectangle:function(n,e){t.printJsLog("ATiOSBannerJS::showAdInRectangle("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:rect:",n,null,e)},showAdInRectangleAndScenario:function(n,e,o){t.printJsLog("ATiOSBannerJS::showAdInRectangleAndScenario("+n+", "+e+", "+o+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:rect:",n,o,e)},removeAd:function(n){t.printJsLog("ATiOSBannerJS::removeAd("+n+")"),jsb.reflection.callStaticMethod(i,"removeAd:",n)},reShowAd:function(n){t.printJsLog("ATiOSBannerJS::reShowAd("+n+")"),jsb.reflection.callStaticMethod(i,"reShowAd:",n)},hideAd:function(n){t.printJsLog("ATiOSBannerJS::hideAd("+n+")"),jsb.reflection.callStaticMethod(i,"hideAd:",n)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSIntersitiaAutolTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"98b0040mRNP9q+bevMvno+E","ATiOSIntersitiaAutolTS",void 0);var n="ATInterstitialAutoAdWrapper";t("ATiOSInterstitialAutoAdTS",{setAdListener:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},setAdExtraData:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::setAdExtraData("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"setAutoLocalExtra:customDataJSONString:",t,e)},addPlacementIds:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::addPlacementIds("+t+")"),jsb.reflection.callStaticMethod(n,"addAutoLoadAdPlacementID:",t)},removePlacementId:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::removePlacementId("+t+")"),jsb.reflection.callStaticMethod(n,"removeAutoLoadAdPlacementID:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSInterstitialAutoAdJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"autoLoadInterstitialAdReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSInterstitialAutoAdJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"checkAutoAdStatus:",t)},entryAdScenario:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAutoAdScenarioWithPlacementID:scenarioID:",t,e)},showAd:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::showAd("+t+")"),jsb.reflection.callStaticMethod(n,"showAutoInterstitialAdWithPlacementID:scenarioID:",t,null)},showAdInScenario:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::showAdInScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showAutoInterstitialAdWithPlacementID:scenarioID:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSIntersitialTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"2b957pqg9ZH26IFZ72piBRd","ATiOSIntersitialTS",void 0);var n="ATInterstitialAdWrapper";t("ATiOSInterstitialJS",{loadInterstitial:function(t,e){i.printJsLog("ATiOSInterstitialJS::loadInterstitial("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"loadInterstitialWithPlacementID:extra:",t,e)},setAdListener:function(t){i.printJsLog("ATiOSInterstitialJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSInterstitialJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"interstitialReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSInterstitialJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod(n,"checkAdStatus:",t)},setUserData:function(t,e,i){cc.log("Android-setUserData")},showAd:function(t){return i.printJsLog("ATiOSInterstitialJS::showAd("+t+")"),jsb.reflection.callStaticMethod(n,"showInterstitialWithPlacementID:scene:",t,null)},showAdInScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showInterstitialWithPlacementID:scene:",t,e)},entryAdScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAdScenarioWithPlacementID:scene:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSJS.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b36c61TZPFAGYgpG73XHxyc","ATiOSJS",void 0);var i="ATSDKManager";t("ATiOSJS",{initSDK:function(t,e){this.printJsLog("ATiOSJS::initSDK("+t+","+e+")"),jsb.reflection.callStaticMethod(i,"startWithAppID:appKey:",t,e)},initCustomMap:function(t){this.printJsLog("ATiOSJS::initCustomMap("+t+")"),jsb.reflection.callStaticMethod(i,"setCustomData:",t)},setPlacementCustomMap:function(t,e){this.printJsLog("ATiOSJS::setPlacementCustomMap("+t+", "+e+")"),jsb.reflection.callStaticMethod(i,"setCustomData:forPlacementID:",e,t)},setGDPRLevel:function(t){this.printJsLog("ATiOSJS::setGDPRLevel("+t+")"),jsb.reflection.callStaticMethod(i,"setDataConsent:",t)},getGDPRLevel:function(){return this.printJsLog("ATiOSJS::getGDPRLevel()"),jsb.reflection.callStaticMethod(i,"dataConsent")},getUserLocation:function(t){this.printJsLog("ATiOSJS::getUserLocation("+t+")"),jsb.reflection.callStaticMethod(i,"getUserLocationWithCallback:",t)},showGDPRAuth:function(){this.printJsLog("ATiOSJS::showGDPRAuth()"),jsb.reflection.callStaticMethod(i,"presentDataConsentDialog")},setLogDebug:function(t){this.printJsLog("ATiOSJS::setLogDebug("+t+")"),jsb.reflection.callStaticMethod(i,"setDebugLog:",t)},printJsLog:function(t){console.log(t),null!=t&&null!=t&&jsb.reflection.callStaticMethod("ATJSBridge","log:",t)},deniedUploadDeviceInfo:function(t){this.printJsLog("ATiOSJS::deniedUploadDeviceInfo("+t+")"),jsb.reflection.callStaticMethod(i,"deniedUploadDeviceInfo:",t)},showDebuggerUI:function(t){this.printJsLog("ATiOSJS::showDebuggerUI("+t+")"),jsb.reflection.callStaticMethod(i,"showDebuggerUIWithDebugKey:",t)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSNativeTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"4d551GLf/xDd5NQzlf0XNv7","ATiOSNativeTS",void 0);var n="ATNativeAdWrapper";t("ATiOSNativeTS",{loadNative:function(t,e){i.printJsLog("ATiOSBannerJS::loadNative("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"loadNativeWithPlacementID:extra:",t,e)},setAdListener:function(t){i.printJsLog("ATiOSNativeJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSNativeJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"nativeReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSNativeJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod(n,"nativeCheckAdStatusForPlacementID:",t)},showAd:function(t,e){i.printJsLog("ATiOSNativeJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showNativeWithPlacementID:scene:metrics:",t,null,e)},showAdInScenario:function(t,e,a){i.printJsLog("ATiOSNativeJS::showAdInScenario("+t+", "+e+", "+a+")"),jsb.reflection.callStaticMethod(n,"showNativeWithPlacementID:scene:metrics:",t,a,e)},removeAd:function(t){i.printJsLog("ATiOSNativeJS::removeAd("+t+")"),jsb.reflection.callStaticMethod(n,"removeNativeWithPlacementID:",t)},entryAdScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAdScenarioWithPlacementID:scene:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSRewardedAutoVideoTS.ts",["cc","./ATiOSJS.ts"],(function(e){var t,d;return{setters:[function(e){t=e.cclegacy},function(e){d=e.ATiOSJS}],execute:function(){t._RF.push({},"0a808+Kv+ZCj5Sc4lAXStpM","ATiOSRewardedAutoVideoTS",void 0);var o="ATRewardedVideoAutoAdWrapper";e("ATiOSRewardedVideoAutoAdJS",{setAdListener:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod(o,"setDelegates:",e)},setAdExtraData:function(e,t){d.printJsLog("ATiOSRewardedVideoAutoAdJS::setAdExtraData("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"setAutoLocalExtra:customDataJSONString:",e,t)},addPlacementIds:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::addPlacementIds("+e+")"),jsb.reflection.callStaticMethod(o,"addAutoLoadAdPlacementID:",e)},removePlacementId:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::removePlacementId("+e+")"),jsb.reflection.callStaticMethod(o,"removeAutoLoadAdPlacementID:",e)},hasAdReady:function(e){return d.printJsLog("ATiOSRewardedVideoAutoAdJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(o,"autoLoadRewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){return d.printJsLog("ATiOSRewardedVideoAutoAdJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(o,"checkAutoAdStatus:",e)},entryAdScenario:function(e,t){d.printJsLog("ATiOSInterstitialAutoAdJS::entryAdScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"entryAutoAdScenarioWithPlacementID:scenarioID:",e,t)},showAd:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::showAd("+e+")"),jsb.reflection.callStaticMethod(o,"showAutoRewardedVideoWithPlacementID:scenarioID:",e,null)},showAdInScenario:function(e,t){d.printJsLog("ATiOSRewardedVideoAutoAdJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"showAutoRewardedVideoWithPlacementID:scenarioID:",e,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSRewardedVideoTS.ts",["cc","./ATiOSJS.ts"],(function(e){var t,d;return{setters:[function(e){t=e.cclegacy},function(e){d=e.ATiOSJS}],execute:function(){t._RF.push({},"2b14f8xstBDsLGzW21Dvdf4","ATiOSRewardedVideoTS",void 0);var i="ATRewardedVideoWrapper";e("ATiOSRewardedVideoTS",{loadRewardedVideo:function(e,t){d.printJsLog("ATiOSRewardedVideoJS::loadRewardedVideo("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"loadRewardedVideoWithPlacementID:extra:",e,t)},setAdListener:function(e){d.printJsLog("ATiOSRewardedVideoJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod(i,"setDelegates:",e)},hasAdReady:function(e){return d.printJsLog("ATiOSRewardedVideoJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(i,"rewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){return d.printJsLog("ATiOSRewardedVideoJS::checkAdStatus("+e+")"),jsb.reflection.callStaticMethod(i,"checkAdStatus:",e)},setUserData:function(e,t,d){cc.log("Android-setUserData")},showAd:function(e){return d.printJsLog("ATiOSRewardedVideoJS::showAd("+e+")"),jsb.reflection.callStaticMethod(i,"showRewardedVideoWithPlacementID:scene:",e,null)},showAdInScenario:function(e,t){return d.printJsLog("ATiOSRewardedVideoJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"showRewardedVideoWithPlacementID:scene:",e,t)},entryAdScenario:function(e,t){return d.printJsLog("ATiOSInterstitialJS::entryAdScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"entryAdScenarioWithPlacementID:scene:",e,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATJSSDK.ts",["cc","./ATAndroidJS.ts","./ATiOSJS.ts"],(function(n){var o,l,u,t;return{setters:[function(n){o=n.cclegacy,l=n._decorator},function(n){u=n.ATAndroidJS},function(n){t=n.ATiOSJS}],execute:function(){o._RF.push({},"a4078Trz5hHtIbG2QZCGWfc","ATJSSDK",void 0);l.ccclass,l.property;var i=!1,c=cc.sys.os===cc.sys.OS.IOS?t:cc.sys.os===cc.sys.OS.ANDROID?u:void 0,e=n("ATJSSDK",{kATUserLocationUnknown:0,kATUserLocationInEU:1,kATUserLocationOutOfEU:2,PERSONALIZED:0,NONPERSONALIZED:1,UNKNOWN:2,OS_VERSION_NAME:"os_vn",OS_VERSION_CODE:"os_vc",APP_PACKAGE_NAME:"package_name",APP_VERSION_NAME:"app_vn",APP_VERSION_CODE:"app_vc",BRAND:"brand",MODEL:"model",DEVICE_SCREEN_SIZE:"screen",MNC:"mnc",MCC:"mcc",LANGUAGE:"language",TIMEZONE:"timezone",USER_AGENT:"ua",ORIENTATION:"orient",NETWORK_TYPE:"network_type",INSTALLER:"it_src",ANDROID_ID:"android_id",GAID:"gaid",MAC:"mac",IMEI:"imei",OAID:"oaid",IDFA:"idfa",IDFV:"idfv",ATSDKListener:{userLocationCallback:null,getUserLocationCallback:function(n){null!=this.userLocationCallback&&null!=this.userLocationCallback&&this.userLocationCallback(n)}},initSDK:function(n,o){null!=c&&null!=c?c.initSDK(n,o):cc.log("You must run on Android or iOS.")},initCustomMap:function(n){null!=c&&null!=c?null!=n&&null!=n&&c.initCustomMap(JSON.stringify(n)):cc.log("You must run on Android or iOS.")},setPlacementCustomMap:function(n,o){null!=c&&null!=c?null!=o&&null!=o&&c.setPlacementCustomMap(n,JSON.stringify(o)):cc.log("You must run on Android or iOS.")},setGDPRLevel:function(n){null!=c&&null!=c?c.setGDPRLevel(n):cc.log("You must run on Android or iOS.")},getGDPRLevel:function(){return null!=c&&null!=c?c.getGDPRLevel():(cc.log("You must run on Android or iOS."),this.UNKNOWN)},getUserLocation:function(n){this.ATSDKListener.userLocationCallback=n,null!=c&&null!=c?c.getUserLocation(r):cc.log("You must run on Android or iOS.")},showGDPRAuth:function(){null!=c&&null!=c?c.showGDPRAuth():cc.log("You must run on Android or iOS.")},setLogDebug:function(n){i=n,null!=c&&null!=c?c.setLogDebug(n):cc.log("You must run on Android or iOS.")},printLog:function(n){null!=n&&null!=n&&i&&null!=c&&(null!=c&&null!=c?c.printJsLog(n):cc.log("You must run on Android or iOS."))},printLogWithParams:function(n,o,l,u,t){this.printLog(n+"::"+o+"()\nplacementId="+l+"\ncallbackInfo="+u+"\nerrorInfo="+t)},deniedUploadDeviceInfo:function(n){if(null!=c&&null!=c){if(null!=n){for(var o=n.length,l="",u=0;u<o;u++){var t=n[u];l=0==u?t:l+","+t}cc.log("test__"+l),c.deniedUploadDeviceInfo(l)}}else cc.log("You must run on Android or iOS.")},showDebuggerUI:function(n){null!=c&&null!=c&&c.showDebuggerUI(n)}}),r=" ATJSSDK.ATSDKListener.getUserLocationCallback";window.ATJSSDK=e,o._RF.pop()}}}));

System.register("chunks:///_virtual/ATNativeTSSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATiOSNativeTS.ts","./ATAndroidNativeTS.ts"],(function(e){var l,i,t,o,n;return{setters:[function(e){l=e.inheritsLoose},function(e){i=e.cclegacy,t=e.Component},function(e){o=e.ATiOSNativeTS},function(e){n=e.ATAndroidNativeTS}],execute:function(){i._RF.push({},"a644bT34aJHpbzj1PnY+CWV","ATNativeTSSDK",void 0);var a=cc.sys.os===cc.sys.OS.IOS?o:cc.sys.os===cc.sys.OS.ANDROID?n:void 0,d=e("ATNativeTSSDK",{ATNativeListener:{developerCallback:null,onNativeAdLoaded:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoaded&&null!=this.developerCallback.onNativeAdLoaded&&this.developerCallback.onNativeAdLoaded(e)},onNativeAdLoadFail:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoadFail&&null!=this.developerCallback.onNativeAdLoadFail&&this.developerCallback.onNativeAdLoadFail(e,l)},onNativeAdShow:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdShow&&null!=this.developerCallback.onNativeAdShow&&this.developerCallback.onNativeAdShow(e,l)},onNativeAdClick:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdClick&&null!=this.developerCallback.onNativeAdClick&&this.developerCallback.onNativeAdClick(e,l)},onNativeAdVideoStart:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoStart&&null!=this.developerCallback.onNativeAdVideoStart&&this.developerCallback.onNativeAdVideoStart(e)},onNativeAdVideoEnd:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoEnd&&null!=this.developerCallback.onNativeAdVideoEnd&&this.developerCallback.onNativeAdVideoEnd(e)},onNativeAdCloseButtonTapped:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&this.developerCallback.onNativeAdCloseButtonTapped(e,l)},onAdSourceBiddingAttempt:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(e,l)},onAdSourceBiddingFilled:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(e,l)},onAdSourceBiddingFail:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(e,l,i)},onAdSourceAttemp:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(e,l)},onAdSourceLoadFilled:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(e,l)},onAdSourceLoadFail:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(e,l,i)}},loadNative:function(e,l){void 0===l&&(l={}),null!=a&&null!=a?a.loadNative(e,JSON.stringify(l)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var l={};l[r]="ATNativeTSSDK.ATNativeListener.onNativeAdLoaded",l[u]="ATNativeTSSDK.ATNativeListener.onNativeAdLoadFail",l[c]="ATNativeTSSDK.ATNativeListener.onNativeAdCloseButtonTapped",l[s]="ATNativeTSSDK.ATNativeListener.onNativeAdClick",l[v]="ATNativeTSSDK.ATNativeListener.onNativeAdShow",l[A]="ATNativeTSSDK.ATNativeListener.onNativeAdVideoStart",l[S]="ATNativeTSSDK.ATNativeListener.onNativeAdVideoEnd",l[p]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingAttempt",l[h]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingFilled",l[N]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingFail",l[C]="ATNativeTSSDK.ATNativeListener.onAdSourceAttemp",l[k]="ATNativeTSSDK.ATNativeListener.onAdSourceLoadFilled",l[T]="ATNativeTSSDK.ATNativeListener.onAdSourceLoadFail",null!=a&&null!=a?a.setAdListener(JSON.stringify(l)):cc.log("You must run on Android or iOS."),this.ATNativeListener.developerCallback=e},hasAdReady:function(e){return null!=a&&null!=a?a.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=a&&null!=a?a.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e,l){null!=a&&null!=a?a.showAd(e,JSON.stringify(l.getAdViewProperty())):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,l,i){void 0===i&&(i=""),null!=a&&null!=a?a.showAdInScenario(e,JSON.stringify(l.getAdViewProperty()),i):cc.log("You must run on Android or iOS.")},entryAdScenario:function(e,l){void 0===l&&(l=""),null!=a&&null!=a?a.entryAdScenario(e,l):cc.log("You must run on Android or iOS.")},removeAd:function(e){null!=a&&null!=a?a.removeAd(e):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(e,l){var i={};return i.width=e,i.height=l,i}}),r=(e("AdViewProperty",function(e){function i(){for(var l,i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];return(l=e.call.apply(e,[this].concat(t))||this).parent=null,l.appIcon=null,l.mainImage=null,l.title=null,l.desc=null,l.adLogo=null,l.cta=null,l.rating=null,l.dislike=null,l.elements=null,l}l(i,e);var t=i.prototype;return t.createItemViewProperty=function(e,l,i,t,o,n,a,d){void 0===d&&(d=!1);var r={};return r.x=e,r.y=l,r.width=i,r.height=t,r.backgroundColor=o,r.textColor=n,r.textSize=a,r.isCustomClick=d,r},t.getAdViewProperty=function(){var e={};return null!=this.parent&&(e.parent=this.parent),null!=this.appIcon&&(e.icon=this.appIcon),null!=this.mainImage&&(e.mainImage=this.mainImage),null!=this.title&&(e.title=this.title),null!=this.desc&&(e.desc=this.desc),null!=this.adLogo&&(e.adLogo=this.adLogo),null!=this.cta&&(e.cta=this.cta),null!=this.rating&&(e.rating=this.rating),null!=this.dislike&&(e.dislike=this.dislike),null!=this.elements&&(e.elements=this.elements),e},i}(t)),"NativeLoaded"),u="NativeLoadFail",c="NativeCloseButtonTapped",s="NativeClick",v="NativeShow",A="NativeVideoStart",S="NativeVideoEnd",p="NativeBiddingAttempt",h="NativeBiddingFilled",N="NativeBiddingFail",C="NativeAttemp",k="NativeLoadFilled",T="NativeLoadFail";window.ATNativeTSSDK=d,i._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardedAutoVideoTSSDK.ts",["cc","./ATAndroidRewardedVideoAutoTS.ts","./ATiOSRewardedAutoVideoTS.ts","./ATJSSDK.ts"],(function(e){var d,o,a,l;return{setters:[function(e){d=e.cclegacy},function(e){o=e.ATAndroidRewardedVideoAutoAdTS},function(e){a=e.ATiOSRewardedVideoAutoAdJS},function(e){l=e.ATJSSDK}],execute:function(){d._RF.push({},"bece5A6ESJBwq8u2DLbJi9/","ATRewardedAutoVideoTSSDK",void 0);var i=cc.sys.os===cc.sys.OS.IOS?a:cc.sys.os===cc.sys.OS.ANDROID?o:void 0,n=e("ATRewardedVideoAutoAdSDK",{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e)},onRewardedVideoAdFailed:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,d)},onRewardedVideoAdPlayStart:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,d)},onRewardedVideoAdPlayEnd:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,d)},onRewardedVideoAdPlayFailed:function(e,d,o){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,d,o)},onRewardedVideoAdClosed:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,d)},onRewardedVideoAdPlayClicked:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,d)},onReward:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,d)},onRewardedVideoAdAgainPlayStart:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&this.developerCallback.onRewardedVideoAdAgainPlayStart(e,d)},onRewardedVideoAdAgainPlayEnd:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&this.developerCallback.onRewardedVideoAdAgainPlayEnd(e,d)},onRewardedVideoAdAgainPlayFailed:function(e,d,o){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&this.developerCallback.onRewardedVideoAdAgainPlayFailed(e,d,o)},onRewardedVideoAdAgainPlayClicked:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&this.developerCallback.onRewardedVideoAdAgainPlayClicked(e,d)},onAgainReward:function(e,d){l.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onAgainReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAgainReward&&null!=this.developerCallback.onAgainReward&&this.developerCallback.onAgainReward(e,d)}},setAdExtraData:function(e,d){void 0===d&&(d={}),null!=i&&null!=i?i.setAdExtraData(e,JSON.stringify(d)):cc.log("You must run on Android or iOS.")},addPlacementIds:function(e){null!=i&&null!=i?i.addPlacementIds(JSON.stringify(e)):cc.log("You must run on Android or iOS.")},removePlacementId:function(e){null!=i&&null!=i?i.removePlacementId(JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var d={};d[r]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",d[A]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",d[t]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",d[u]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",d[w]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",d[R]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",d[c]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",d[s]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onReward",d[V]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart",d[S]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd",d[C]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed",d[k]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked",d[p]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onAgainReward",null!=i&&null!=i?(i.setAdListener(JSON.stringify(d)),i.set):cc.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e},hasAdReady:function(e){return null!=i&&null!=i?i.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=i&&null!=i?i.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e){null!=i&&null!=i?i.showAd(e):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.showAdInScenario(e,d):cc.log("You must run on Android or iOS.")},entryAdScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.entryAdScenario(e,d):cc.log("You must run on Android or iOS.")}}),r="RewardedVideoAutoAdLoaded",A="RewardedVideoAutoAdLoadFail",t="RewardedVideoAutoAdPlayStart",u="RewardedVideoAutoAdPlayEnd",w="RewardedVideoAutoAdPlayFail",R="RewardedVideoAutoAdClose",c="RewardedVideoAutoAdClick",s="RewardedVideoAutoAdReward",V="RewardedVideoAutoAdAgainPlayStart",S="RewardedVideoAutoAdAgainPlayEnd",C="RewardedVideoAutoAdAgainPlayFail",k="RewardedVideoAutoAdAgainClick",p="RewardedVideoAutoAdAgainReward";window.ATRewardedVideoAutoAdSDK=n,d._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardedVideoTSSDK.ts",["cc","./ATAndroidRewardedVideoTS.ts","./ATiOSRewardedVideoTS.ts","./ATJSSDK.ts"],(function(e){var d,o,l,a;return{setters:[function(e){d=e.cclegacy},function(e){o=e.ATAndroidRewardedVideoJS},function(e){l=e.ATiOSRewardedVideoTS},function(e){a=e.ATJSSDK}],execute:function(){d._RF.push({},"874b8Cww3RDSo3ZFc7QgOPr","ATRewardedVideoTSSDK",void 0);var i=cc.sys.os===cc.sys.OS.IOS?l:cc.sys.os===cc.sys.OS.ANDROID?o:void 0,r=e("ATRewardedVideoSDK",{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e)},onRewardedVideoAdFailed:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,d)},onRewardedVideoAdPlayStart:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,d)},onRewardedVideoAdPlayEnd:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,d)},onRewardedVideoAdPlayFailed:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,d,o)},onRewardedVideoAdClosed:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,d)},onRewardedVideoAdPlayClicked:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,d)},onReward:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,d)},onAdSourceBiddingAttempt:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingAttempt("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(e,d)},onAdSourceBiddingFilled:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFilled("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(e,d)},onAdSourceBiddingFail:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFail("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(e,d,o)},onAdSourceAttemp:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceAttemp("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(e,d)},onAdSourceLoadFilled:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFilled("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(e,d)},onAdSourceLoadFail:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFail("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(e,d,o)},onRewardedVideoAdAgainPlayStart:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&this.developerCallback.onRewardedVideoAdAgainPlayStart(e,d)},onRewardedVideoAdAgainPlayEnd:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&this.developerCallback.onRewardedVideoAdAgainPlayEnd(e,d)},onRewardedVideoAdAgainPlayFailed:function(e,d,o){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed("+e+", "+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&this.developerCallback.onRewardedVideoAdAgainPlayFailed(e,d,o)},onRewardedVideoAdAgainPlayClicked:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&this.developerCallback.onRewardedVideoAdAgainPlayClicked(e,d)},onAgainReward:function(e,d){a.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAgainReward("+e+", "+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onAgainReward&&null!=this.developerCallback.onAgainReward&&this.developerCallback.onAgainReward(e,d)}},loadRewardedVideo:function(e,d){void 0===d&&(d={}),null!=i&&null!=i?i.loadRewardedVideo(e,JSON.stringify(d)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var d={};d[n]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",d[t]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",d[A]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",d[c]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",d[w]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",d[R]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",d[u]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",d[V]="ATRewardedVideoSDK.ATRewardedVideoListener.onReward",d[s]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingAttempt",d[S]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFilled",d[p]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFail",d[C]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceAttemp",d[k]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFilled",d[T]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFail",d[g]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart",d[h]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd",d[v]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed",d[L]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked",d[b]="ATRewardedVideoSDK.ATRewardedVideoListener.onAgainReward",null!=i&&null!=i?i.setAdListener(JSON.stringify(d)):cc.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e},hasAdReady:function(e){return null!=i&&null!=i?i.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=i&&null!=i?i.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e){null!=i&&null!=i?i.showAd(e):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.showAdInScenario(e,d):cc.log("You must run on Android or iOS.")},entryAdScenario:function(e,d){void 0===d&&(d=""),null!=i&&null!=i?i.entryAdScenario(e,d):cc.log("You must run on Android or iOS.")},testMethod:function(){cc.log("testing You must run on Android or iOS.")}}),n="RewardedVideoLoaded",t="RewardedVideoLoadFail",A="RewardedVideoPlayStart",c="RewardedVideoPlayEnd",w="RewardedVideoPlayFail",R="RewardedVideoClose",u="RewardedVideoClick",V="RewardedVideoReward",s="RewardedVideoBiddingAttempt",S="RewardedVideoBiddingFilled",p="RewardedVideoBiddingFail",C="RewardedVideoAttemp",k="RewardedVideoLoadFilled",T="RewardedVideoLoadFail",g="RewardedVideoAgainPlayStart",h="RewardedVideoAgainPlayEnd",v="RewardedVideoAgainPlayFail",L="RewardedVideoAgainClick",b="RewardedVideoAgainReward";window.ATRewardedVideoSDK=r,d._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,n,u,r,l,a,c,p,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){u=e.cclegacy,r=e._decorator,l=e.AudioClip,a=e.AudioSource,c=e.director,p=e.resources,d=e.Component}],execute:function(){var s,b,f,y,A,g,h,m,w,S,z,_,O,v,G,M,B,D,E,I,W,k,F,C,L,N,P,H,J,R,U,V,j,x,Q,T,Z,q,K,X,Y,$,ee,ie,te,oe,ne,ue,re,le,ae,ce,pe,de,se,be,fe,ye,Ae,ge,he,me,we,Se,ze,_e,Oe;u._RF.push({},"19514W0VwlLPLUoZuQg8u0l","AudioManager",void 0);var ve=r.ccclass,Ge=r.property;e("AudioManager",(s=ve("AudioManager"),b=Ge({type:l}),f=Ge({type:l}),y=Ge({type:l}),A=Ge({type:l}),g=Ge({type:l}),h=Ge({type:l}),m=Ge({type:l}),w=Ge({type:l}),S=Ge({type:l}),z=Ge({type:l}),_=Ge({type:l}),O=Ge({type:l}),v=Ge({type:l}),G=Ge({type:l}),M=Ge({type:l}),B=Ge({type:l}),D=Ge({type:l}),E=Ge({type:l}),I=Ge({type:l}),W=Ge({type:l}),k=Ge({type:l}),F=Ge({type:l}),C=Ge({type:l}),L=Ge({type:l}),N=Ge({type:l}),P=Ge({type:l}),H=Ge({type:l}),J=Ge({type:l}),R=Ge({type:l}),U=Ge({type:l}),V=Ge({type:l}),j=Ge({type:l}),s((T=i((Q=function(e){function i(){for(var i,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return i=e.call.apply(e,[this].concat(u))||this,o(i,"buttonAudio",T,n(i)),o(i,"pistolAudio",Z,n(i)),o(i,"fireWandAudio",q,n(i)),o(i,"thunderWandAduio",K,n(i)),o(i,"closeAduio",X,n(i)),o(i,"messageAudio",Y,n(i)),o(i,"stampAudio",$,n(i)),o(i,"coinAudio",ee,n(i)),o(i,"countDownAudio",ie,n(i)),o(i,"countDownFinalAudio",te,n(i)),o(i,"collectAudio",oe,n(i)),o(i,"lightBeamAudio",ne,n(i)),o(i,"bubbleGunAudio",ue,n(i)),o(i,"daggerDartAudio",re,n(i)),o(i,"particleGunAudio",le,n(i)),o(i,"macheteAudio",ae,n(i)),o(i,"swordAudio",ce,n(i)),o(i,"laserGunAudio",pe,n(i)),o(i,"levelUpAudio",de,n(i)),o(i,"playerGotHitAudio",se,n(i)),o(i,"tenacityAudio",be,n(i)),o(i,"iceWandAudio",fe,n(i)),o(i,"achieveAudio",ye,n(i)),o(i,"diamondAudio",Ae,n(i)),o(i,"warningAudio",ge,n(i)),o(i,"updateSuccessAudio",he,n(i)),o(i,"updateFailAudio",me,n(i)),o(i,"disappearAudio",we,n(i)),o(i,"specialArrowAudio",Se,n(i)),o(i,"boomAudio",ze,n(i)),o(i,"shopItemAudio",_e,n(i)),o(i,"bowAudio",Oe,n(i)),i.audioArray=[],i._audioSource=null,i.isBGMOn=!0,i.isSoundEffectOn=!0,i}t(i,e);var u=i.prototype;return u.start=function(){this._audioSource=this.node.getComponent(a),c.addPersistRootNode(this.node),this.getSettings()},u.getSettings=function(){if(localStorage.getItem("dodge-ball-settings")){var e=JSON.parse(localStorage.getItem("dodge-ball-settings"));this.isBGMOn=e.bgm,this.isSoundEffectOn=e.soundEffect,this.isBGMOn||(this._audioSource.stop(),this._audioSource.playOnAwake=!1)}},u.replayBgAudio=function(){this.isBGMOn&&this._audioSource.play()},u.playOneShot=function(e,i){var t=this;void 0===i&&(i=1),this.isSoundEffectOn&&(e instanceof l?this._audioSource.playOneShot(e,i):p.load(e,(function(e,o){e?console.log(e):t._audioSource.playOneShot(o,i)})))},u.play=function(e,i){var t=this;void 0===i&&(i=.8),e instanceof l?(this._audioSource.stop(),this._audioSource.clip=e,this._audioSource.play(),this._audioSource.volume=i):p.load(e,(function(e,o){e?console.log(e):(t._audioSource.stop(),t._audioSource.clip=o,t._audioSource.play(),t._audioSource.volume=i)}))},u.stop=function(){this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this.isBGMOn&&this._audioSource.play()},u.switchBGM=function(e){e.isChecked?(this.isBGMOn=!0,this.resume(),this._audioSource.playOnAwake=!0):(this.isBGMOn=!1,this.pause(),this._audioSource.playOnAwake=!1),this.playOneShot(this.buttonAudio),this.updateAudioSettings()},u.switchSoundEffect=function(e){this.isSoundEffectOn=e.isChecked,this.playOneShot(this.buttonAudio),this.updateAudioSettings()},u.updateAudioSettings=function(){var e=JSON.parse(localStorage.getItem("dodge-ball-settings"));e.bgm=this.isBGMOn,e.soundEffect=this.isSoundEffectOn,localStorage.setItem("dodge-ball-settings",JSON.stringify(e))},u.setVolume=function(e){this._audioSource.volume=e},i}(d)).prototype,"buttonAudio",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(Q.prototype,"pistolAudio",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(Q.prototype,"fireWandAudio",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(Q.prototype,"thunderWandAduio",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(Q.prototype,"closeAduio",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(Q.prototype,"messageAudio",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Q.prototype,"stampAudio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(Q.prototype,"coinAudio",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(Q.prototype,"countDownAudio",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(Q.prototype,"countDownFinalAudio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(Q.prototype,"collectAudio",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(Q.prototype,"lightBeamAudio",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(Q.prototype,"bubbleGunAudio",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(Q.prototype,"daggerDartAudio",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(Q.prototype,"particleGunAudio",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(Q.prototype,"macheteAudio",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(Q.prototype,"swordAudio",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(Q.prototype,"laserGunAudio",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(Q.prototype,"levelUpAudio",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(Q.prototype,"playerGotHitAudio",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(Q.prototype,"tenacityAudio",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(Q.prototype,"iceWandAudio",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(Q.prototype,"achieveAudio",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(Q.prototype,"diamondAudio",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(Q.prototype,"warningAudio",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(Q.prototype,"updateSuccessAudio",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(Q.prototype,"updateFailAudio",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(Q.prototype,"disappearAudio",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(Q.prototype,"specialArrowAudio",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(Q.prototype,"boomAudio",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(Q.prototype,"shopItemAudio",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=i(Q.prototype,"bowAudio",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Q))||x));u._RF.pop()}}}));

System.register("chunks:///_virtual/Background.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var a,i,s,n,o,e,h,c,r,d,l,v,u,p;return{setters:[function(t){a=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,e=t._decorator,h=t.Prefab,c=t.NodePool,r=t.find,d=t.UITransform,l=t.instantiate,v=t.tween,u=t.Vec3,p=t.Component}],execute:function(){var g,f,P,m,b;o._RF.push({},"63cacmVx4FOYaHOSVyvPT1D","Background",void 0);var W=e.ccclass,H=e.property;t("Background",(g=W("Background"),f=H({type:h}),g((b=a((m=function(t){function a(){for(var a,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return a=t.call.apply(t,[this].concat(o))||this,s(a,"starPrefab",b,n(a)),a.randomDir="上",a.canvasWidth=0,a.canvasHeight=0,a.starNodePool=new c,a}i(a,t);var o=a.prototype;return o.start=function(){var t=this;this.canvasWidth=r("Canvas").getComponent(d).width,this.canvasHeight=r("Canvas").getComponent(d).height,this.setRandomDirection();this.schedule((function(){if(JSON.parse(localStorage.getItem("dodge-ball-settings")).isSlide){var a=t.spawnStar();t.node.addChild(a),t.setRandomScale(a),t.setRandomPosition(a)}}),.1)},o.spawnStar=function(){return this.starNodePool.size()>0?this.starNodePool.get():l(this.starPrefab)},o.setRandomScale=function(t){var a=1*Math.random()+.05;t.setScale(a,a,0)},o.setRandomPosition=function(t){var a=this,i=0,s=0,n=100,o=1.5/t.scale.x;switch(this.randomDir){case"上":i=Math.random()*this.canvasWidth-this.canvasWidth/2,s=-this.canvasHeight/2-n,t.setPosition(i,s,0),v(t).by(o,{position:new u(0,this.canvasHeight+n,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"下":i=Math.random()*this.canvasWidth-this.canvasWidth/2,s=this.canvasHeight/2+100,t.setPosition(i,s,0),v(t).by(o,{position:new u(0,-this.canvasHeight-n,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"左":i=this.canvasWidth/2+n,s=Math.random()*this.canvasHeight-this.canvasHeight/2,t.setPosition(i,s,0),v(t).by(o,{position:new u(-this.canvasWidth-n,0,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"右":i=-this.canvasWidth/2-n,s=Math.random()*this.canvasHeight-this.canvasHeight/2,t.setPosition(i,s,0),v(t).by(o,{position:new u(this.canvasWidth+n,0,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"左上":i=2*Math.random()*this.canvasWidth-this.canvasWidth/2,s=-this.canvasHeight/2-n,t.setPosition(i,s,0),v(t).by(o,{position:new u(-this.canvasWidth-n,this.canvasHeight+n,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"右上":i=2*Math.random()*this.canvasWidth-1.5*this.canvasWidth,s=-this.canvasHeight/2-n,t.setPosition(i,s,0),v(t).by(o,{position:new u(this.canvasWidth+n,this.canvasHeight+n,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"左下":i=2*Math.random()*this.canvasWidth-this.canvasWidth/2,s=this.canvasHeight/2+n,t.setPosition(i,s,0),v(t).by(o,{position:new u(-this.canvasWidth-n,-this.canvasHeight-n,0)}).call((function(){a.starNodePool.put(t)})).start();break;case"右下":i=2*Math.random()*this.canvasWidth-1.5*this.canvasWidth,s=this.canvasHeight/2+n,t.setPosition(i,s,0),v(t).by(o,{position:new u(this.canvasWidth+n,-this.canvasHeight-n,0)}).call((function(){a.starNodePool.put(t)})).start()}},o.setRandomDirection=function(){var t=["上","下","左","右","左上","右上","左下","右下"];this.randomDir=t[Math.floor(Math.random()*t.length)]},o.update=function(t){},a}(p)).prototype,"starPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=m))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponManager.ts","./AudioManager.ts","./Monster.ts","./MonsterData.ts","./GameManager.ts","./CollisionManager.ts","./TalentData.ts"],(function(e){var t,a,o,n,i,l,s,r,h,u,p,d,c,g,f,m,v,b,C,y;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,o=e._decorator,n=e.find,i=e.Label,l=e.Vec3,s=e.UITransform,r=e.Animation,h=e.tween,u=e.resources,p=e.Prefab,d=e.instantiate,c=e.Component},function(e){g=e.WeaponManager},function(e){f=e.AudioManager},function(e){m=e.Monster},function(e){v=e.MonsterData},function(e){b=e.GameManager},function(e){C=e.CollisionManager},function(e){y=e.TalentData}],execute:function(){var M;a._RF.push({},"56cb5lQDX1E7b63/WK6Nfqu","Bullet",void 0);var P=o.ccclass;o.property,e("Bullet",P("Bullet")(M=function(e){function a(){for(var t,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).bulletData=null,t.dir=null,t.damage=0,t.speed=0,t.pistolSpecialGoThoughTimes=0,t.daggerSpecialEffectEctraDamage=0,t.daggerSpecialEffectTime=0,t.isForSpecialEffect=!1,t.isTriggeringSpecialEffect=!0,t.gameManager=null,t.weaponSlotToFollow=null,t.weaponManager=null,t}t(a,e);var o=a.prototype;return o.start=function(){this.initNodesAndComponents()},o.initNodesAndComponents=function(){this.gameManager=n("Canvas").getComponent(b),this.weaponManager=n("Canvas/Player/Weapon").getComponent(g)},o.setBulletData=function(e,t){this.initNodesAndComponents(),this.isForSpecialEffect=!1,this.pistolSpecialGoThoughTimes=0,this.daggerSpecialEffectEctraDamage=0,this.daggerSpecialEffectTime=0,this.bulletData=e;var a=parseInt(t.children[0].getComponent(i).string);if(this.damage=e.effect.damage.value+e.update.common.damage*a,this.speed=e.effect.bulletSpeed.value,this.weaponSlotToFollow=t,e.isShootWeapon){if(this.setShootWeaponBulletStartPos(t.worldPosition),this.setShootWeaponBulletMoveDir(t),"bubbleGun"==e.key){var o=Math.random()+.5;this.node.setScale(o,o,1),this.damage+=Math.round(o)}}else this.setUnShootWsetShootWeaponBulletStartPos(t.worldPosition);this.showSpecialEffect(t)},o.setShootWeaponBulletMoveDir=function(e){if(this.dir=new l(e.worldPosition).subtract(n("Canvas/Player").worldPosition).normalize(),y.getInstace().allTalentData.aim.isInited){var t=n("Canvas").getComponent(b).camerOrthoHeightScale,a=n("Canvas").getComponent(s).width*t,o=n("Canvas").getComponent(s).height*t,i=null,r=n("Canvas/Monster Layer").children;if(Math.random()>.5)for(var h=0;h<r.length;h++){var u=r[h];if(u&&!u.getComponent(m).isStealth&&!u.getComponent(m).isSpecial&&u.position.x>-a/2&&u.position.x<a/2&&u.position.y>-o/2&&u.position.y<o/2){i=u;break}}else for(var p=r.length;p>=0;p--){var d=r[p];if(d&&!d.getComponent(m).isStealth&&!d.getComponent(m).isSpecial&&d.position.x>-a/2&&d.position.x<a/2&&d.position.y>-o/2&&d.position.y<o/2){i=d;break}}i&&(this.dir=new l(i.worldPosition).subtract(e.worldPosition).normalize())}var c=0;c=this.dir.y>0?180*l.angle(this.dir,new l(1,0,0))/Math.PI:180*-l.angle(this.dir,new l(1,0,0))/Math.PI,this.node.angle=c},o.setShootWeaponBulletStartPos=function(e){var t=this.node.parent.getComponent(s).convertToNodeSpaceAR(e);this.node.setPosition(t)},o.setUnShootWsetShootWeaponBulletStartPos=function(e){var t=this,a=n("Canvas").getComponent(b).camerOrthoHeightScale,o=n("Canvas").getComponent(s).width*a,i=n("Canvas").getComponent(s).height*a;if("thunderWand"==this.bulletData.key){var u=i/2,p=null,d=n("Canvas/Monster Layer").children;if(Math.random()>.5)for(var c=0;c<d.length;c++){var g=d[c];if(g&&!g.getComponent(m).isStealth&&!g.getComponent(m).isSpecial&&g.position.x>-o/2&&g.position.x<o/2&&g.position.y>-i/2&&g.position.y<i/2){p=g;break}}else for(var C=d.length;C>=0;C--){var y=d[C];if(y&&!y.getComponent(m).isStealth&&!y.getComponent(m).isSpecial&&y.position.x>-o/2&&y.position.x<o/2&&y.position.y>-i/2&&y.position.y<i/2){p=y;break}}if(p){var M=p.position.x;n("Canvas/Bullet Layer").addChild(this.node),this.node.setScale(a,a),this.node.setPosition(M,u,0),this.node.getComponent(r).play()}}else if("lightBall"==this.bulletData.key){var P=null,w=n("Canvas/Monster Layer").children;if(Math.random()>.5)for(var S=0;S<w.length;S++){var D=w[S];if(D&&!D.getComponent(m).isStealth&&!D.getComponent(m).isSpecial&&D.position.x>-o/2&&D.position.x<o/2&&D.position.y>-i/2&&D.position.y<i/2){P=D;break}}else for(var B=w.length;B>=0;B--){var E=w[B];if(E&&!E.getComponent(m).isStealth&&!E.getComponent(m).isSpecial&&E.position.x>-o/2&&E.position.x<o/2&&E.position.y>-i/2&&E.position.y<i/2){P=E;break}}if(P){var k=Math.floor(360*Math.random());this.node.setRotationFromEuler(0,0,k),this.node.setPosition(P.position);var F=n("Canvas/Bullet Layer");F.addChild(this.node),this.node.setScale(1,1,1),this.node.name="lightBallBullet";for(var W=0,T=0;T<F.children.length;T++)"lightBallBullet"==F.children[T].name&&W++;W<2&&n("Audio Manager").getComponent(f).playOneShot(n("Audio Manager").getComponent(f).lightBeamAudio),h(this.node).to(.2,{scale:new l(.5,3,0)},{easing:"sineIn"}).call((function(){t.weaponManager.lightBallBulletNodePool.put(t.node)})).start()}}else if("iceWand"==this.bulletData.key){var x=null,L=n("Canvas/Monster Layer").children;if(Math.random()>.5)for(var A=0;A<L.length;A++){var G=L[A];if(G&&!G.getComponent(m).isStealth&&!G.getComponent(m).isSpecial&&G.position.x>-o/2&&G.position.x<o/2&&G.position.y>-i/2&&G.position.y<i/2){x=G;break}}else for(var O=L.length;O>=0;O--){var I=L[O];if(I&&!I.getComponent(m).isStealth&&!I.getComponent(m).isSpecial&&I.position.x>-o/2&&I.position.x<o/2&&I.position.y>-i/2&&I.position.y<i/2){x=I;break}}if(x){var N=Math.floor(360*Math.random());this.node.setRotationFromEuler(0,0,N),this.node.setPosition(x.position);var R=n("Canvas/Bullet Layer");R.addChild(this.node),this.node.setScale(.3,.3,.3),this.node.name="iceWandBullet";for(var H=0,z=0;z<R.children.length;z++)"iceWandBullet"==R.children[z].name&&H++;H<2&&n("Audio Manager").getComponent(f).playOneShot(n("Audio Manager").getComponent(f).iceWandAudio);var _=v.getInstace().allMonsterData[x.name].effect.speed.value;x.getComponent(m).speed=0,h(this.node).to(.8,{scale:new l(1,1,1)},{easing:"sineIn"}).call((function(){x.getComponent(m).speed=_,t.weaponManager.iceWandBulletNodePool.put(t.node)})).start()}}else if("machete"==this.bulletData.key||"sword"==this.bulletData.key||"laserGun"==this.bulletData.key){this.node.setWorldPosition(e),n("Canvas/Bullet Layer").addChild(this.node),this.node.getComponent(r).play()}},o.shootWeaponBulletMove=function(){if(!this.isForSpecialEffect&&this.dir){var e=null;e="bubbleGunBullet"==this.node.name?new l(this.node.position).add3f(this.speed*this.dir.x,this.speed/2,0):new l(this.node.position).add3f(this.speed*this.dir.x,this.speed*this.dir.y,0),this.node.setPosition(e),this.checkIsOutOfCanvas()}},o.checkIsOutOfCanvas=function(){var e=n("Canvas"),t=n("Canvas").getComponent(b).camerOrthoHeightScale,a=e.getComponent(s).width*t,o=e.getComponent(s).height*t;(this.node.position.x<-a||this.node.position.x>a||this.node.position.y>o||this.node.position.y<-o)&&this.recycle()},o.recycle=function(){switch(this.node.name){case"pistolBullet":this.weaponManager.pistolBulletNodePool.put(this.node);break;case"fireWandBullet":this.weaponManager.fireWandBulletNodePool.put(this.node);break;case"thunderWandBullet":this.weaponManager.thunderWandBulletNodePool.put(this.node);break;case"bubbleGunBullet":this.weaponManager.bubbleGunBulletNodePool.put(this.node);break;case"daggerDartBullet":this.weaponManager.daggerDartBulletNodePool.put(this.node);break;case"particleGunBullet":this.weaponManager.particleGunBulletNodePool.put(this.node);break;case"macheteBullet":this.weaponManager.macheteBulletNodePool.put(this.node);break;case"swordBullet":this.weaponManager.swordBulletNodePool.put(this.node);break;case"laserGunBullet":this.weaponManager.laserGunBulletNodePool.put(this.node);break;case"bowBullet":this.isTriggeringSpecialEffect=!0,this.weaponManager.bowBulletNodePool.put(this.node)}},o.followWeaponSlot=function(){this.isForSpecialEffect||"machete"!=this.bulletData.key&&"sword"!=this.bulletData.key&&"laserGun"!=this.bulletData.key||this.node.setWorldPosition(this.weaponSlotToFollow.worldPosition)},o.adjustAngle=function(){if(!this.isForSpecialEffect&&"laserGun"==this.bulletData.key){var e=new l(this.weaponSlotToFollow.worldPosition).subtract(n("Canvas/Player").worldPosition).normalize(),t=0;t=e.y>0?180*l.angle(e,new l(1,0,0))/Math.PI:180*-l.angle(e,new l(1,0,0))/Math.PI,this.node.angle=t}},o.showSpecialEffect=function(e){var t=this,o=100*Math.random(),c=parseInt(e.children[0].getComponent(i).string),g=n("Canvas").getComponent(s).width*this.gameManager.camerOrthoHeightScale,b=n("Canvas").getComponent(s).height*this.gameManager.camerOrthoHeightScale;if("pistol"==this.bulletData.key)c>=10?this.pistolSpecialGoThoughTimes=6:c>=6?this.pistolSpecialGoThoughTimes=3:c>=2&&(this.pistolSpecialGoThoughTimes=1);else if("fireWand"==this.bulletData.key){var y=function(e){for(var o=0;o<e;o++)u.load(t.bulletData.bulletPrefabPath,p,(function(e,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0;var s=Math.floor(2*Math.random());0==s?(i.setRotationFromEuler(new l(0,0,0)),i.setPosition(-g/2,Math.random()*b-b/2,0),t.scheduleOnce((function(){t.gameManager.audioManager.playOneShot(t.gameManager.audioManager.fireWandAudio),n("Canvas/Bullet Layer").addChild(i),i.getComponent(r).play(),h(i).by(4,{position:new l(2e3,i.position.y,0)}).call((function(){i.removeFromParent()})).start()}),2*Math.random())):1==s&&(i.setRotationFromEuler(new l(0,0,180)),i.setRotationFromEuler(0,0,180),i.setPosition(g/2,Math.random()*b-b/2,0),t.scheduleOnce((function(){t.gameManager.audioManager.playOneShot(t.gameManager.audioManager.fireWandAudio),n("Canvas/Bullet Layer").addChild(i),i.getComponent(r).play(),h(i).by(4,{position:new l(-2e3,i.position.y,0)}).call((function(){i.removeFromParent()})).start()}),2*Math.random())),i.getComponent(a).damage=t.bulletData.effect.damage.value+t.bulletData.update.common.damage*c}));t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};(c>=10&&o<=15||c>=6&&o<=10||c>=2&&o<=5)&&y(50)}else if("thunderWand"==this.bulletData.key){var M=function(e){for(var o=0;o<e;o++)u.load(t.bulletData.bulletPrefabPath,p,(function(e,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0,i.setPosition(Math.random()*g-g/2,b/2,0),i.getComponent(a).damage=Math.round((t.bulletData.effect.damage.value+t.bulletData.update.common.damage*c)/2),t.scheduleOnce((function(){n("Canvas/Bullet Layer").addChild(i),i.getComponent(r).play()}),5*Math.random())}));t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};c>=10&&o<=15?M(100):c>=6&&o<=10?M(50):c>=2&&o<=5&&M(20)}else if("lightBall"==this.bulletData.key){var P=function(e){u.load(t.bulletData.bulletPrefabPath,p,(function(t,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0;var s=Math.floor(360*Math.random());i.setRotationFromEuler(0,0,s),i.setPosition(0,0,0),n("Canvas/Bullet Layer").addChild(i),i.setScale(3,10,1),i.name="lightBallBullet",n("Audio Manager").getComponent(f).playOneShot(n("Audio Manager").getComponent(f).lightBeamAudio),h(i).to(.2,{scale:new l(.5,3,0)},{easing:"sineIn"}).call((function(){i.removeFromParent()})).start();for(var r=n("Canvas/Monster Layer").children,u=0;u<r.length;u++){var p=r[u];p.getComponent(m).isSpecial||p.getComponent(m).isStealth||(p.getComponent(m).gotHit(e),n("Canvas/Collision Layer").getComponent(C).showDamageValue(e,p.position,!1,"ffffff"))}})),t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};c>=10&&o<=10?P(20):c>=6&&o<=6?P(10):c>=2&&o<=3&&P(5)}else if("bubbleGun"==this.bulletData.key){var w=this.node.scale.x;c>=10?w*=5:c>=6?w*=3:c>=2&&(w*=2),this.node.setScale(w,w)}else if("daggerDart"==this.bulletData.key)c>=10?(this.daggerSpecialEffectEctraDamage=5,this.daggerSpecialEffectTime=10):c>=6?(this.daggerSpecialEffectEctraDamage=2,this.daggerSpecialEffectTime=5):c>=2&&(this.daggerSpecialEffectEctraDamage=1,this.daggerSpecialEffectTime=3);else if("particleGun"==this.bulletData.key){var S=function(e){for(var o=0;o<e;o++)u.load(t.bulletData.bulletPrefabPath,p,(function(e,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0,i.setRotationFromEuler(new l(0,0,-90)),i.getComponent(a).damage=t.bulletData.effect.damage.value+t.bulletData.update.common.damage*c,i.setPosition(Math.random()*g-g/2,b/2+500*Math.random(),0),n("Canvas/Bullet Layer").addChild(i),h(i).to(2,{position:new l(i.position.x,-2e3,0)}).call((function(){i.setRotationFromEuler(0,0,0),i&&i.removeFromParent()})).start()}));t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};c>=10&&o<=10?S(80):c>=6&&o<=5?S(30):c>=2&&o<=2&&S(10)}else if("machete"==this.bulletData.key){var D=function(){u.load(t.bulletData.bulletPrefabPath,p,(function(e,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0,i.getComponent(a).damage=t.bulletData.effect.damage.value+t.bulletData.update.common.damage*c,i.setScale(11,11,0),i.setPosition(-g/2,b/2,0),n("Canvas/Bullet Layer").addChild(i),h(i).by(3,{position:new l(0,-2e3,0)}).call((function(){i.removeFromParent()})).start()})),t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};(c>=10&&o<=10||c>=6&&o<=5||c>=2&&o<=2)&&D()}else if("sword"==this.bulletData.key){var B=function(e){for(var o=0;o<e;o++)u.load(t.bulletData.bulletPrefabPath,p,(function(e,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0,i.getComponent(a).damage=Math.round((t.bulletData.effect.damage.value+t.bulletData.update.common.damage*c)/2),i.setPosition(t.gameManager.player.position),n("Canvas/Bullet Layer").addChild(i);var s=new l(Math.random()*g-g/2,Math.random()*b-b/2,0).subtract(n("Canvas/Player").position).normalize(),r=0;r=s.y>0?180*l.angle(s,new l(1,0,0))/Math.PI:180*-l.angle(s,new l(1,0,0))/Math.PI,i.angle=r,h(i).by(2,{position:new l(2e3*s.x,2e3*s.y,0)}).call((function(){i.removeFromParent()})).start()}));t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};c>=10&&o<=8?B(100):c>=6&&o<=6?B(50):c>=2&&o<=2&&B(10)}else if("laserGun"==this.bulletData.key){var E=function(e){for(var o=0;o<e;o++)u.load(t.bulletData.bulletPrefabPath,p,(function(e,o){var i=d(o);i.getComponent(a).isForSpecialEffect=!0;var s=Math.floor(4*Math.random());0==s?(i.setRotationFromEuler(new l(0,0,0)),i.setPosition(-g/2,Math.random()*b-b/2,0)):1==s?(i.setRotationFromEuler(new l(0,0,-90)),i.setPosition(Math.random()*g-g/2,b/2,0)):2==s?(i.setRotationFromEuler(new l(0,0,-180)),i.setPosition(g/2,Math.random()*b-b/2,0)):3==s&&(i.setRotationFromEuler(new l(0,0,-270)),i.setPosition(Math.random()*g-g/2,-b/2,0)),i.getComponent(a).damage=t.bulletData.effect.damage.value+t.bulletData.update.common.damage*c,t.scheduleOnce((function(){n("Canvas/Bullet Layer").addChild(i),i.getComponent(r).play()}),1*Math.random())}));t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};c>=10&&o<=8?E(30):c>=6&&o<=6?E(20):c>=2&&o<=5&&E(10)}else if("iceWand"==this.bulletData.key){var k=!1,F=0;if(c>=10&&o<=10?(k=!0,F=3):(c>=6&&o<=10||c>=2&&o<=5)&&(k=!0,F=2),k)u.load(this.bulletData.bulletPrefabPath,p,(function(a,o){var n=d(o);e.addChild(n),t.scheduleOnce((function(){n.removeFromParent()}),F)})),n("Canvas/Monster Layer").children.forEach((function(e){if(!e.getComponent(m).isSpecial&&!e.getComponent(m).isStealth){var a=v.getInstace().allMonsterData[e.name].effect.speed.value;e.getComponent(m).speed=0,t.scheduleOnce((function(){e.getComponent(m).speed=a}),F)}})),this.gameManager.spawnPropertyEffect(this.bulletData.key,this.bulletData.picPath)}else if("bow"==this.bulletData.key&&this.isTriggeringSpecialEffect){var W=function(e){for(var a=0;a<e;a++)t.scheduleOnce((function(){t.weaponManager.spawnBowBullet(t.bulletData,t.weaponSlotToFollow,!1)}),.2*a+.1);t.gameManager.spawnPropertyEffect(t.bulletData.key,t.bulletData.picPath)};c>=10&&o<=15?W(20):c>=6&&o<=10?W(10):c>=2&&o<=5&&W(5)}},o.update=function(e){this.shootWeaponBulletMove(),this.followWeaponSlot(),this.adjustAngle()},a}(c))||M);a._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QuadTree.ts","./Monster.ts","./Bullet.ts","./Player.ts","./GameManager.ts","./TalentData.ts","./Phantom.ts"],(function(e){var a,n,t,o,r,i,l,g,m,d,s,c,p,u,h,f,C,y,M,v,B,T,x,P,D,b,w,E;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Prefab,g=e.Graphics,m=e.NodePool,d=e.find,s=e.view,c=e.instantiate,p=e.Label,u=e.Color,h=e.tween,f=e.Vec3,C=e.Widget,y=e.UITransform,M=e.Rect,v=e.Component,B=e.resources},function(e){T=e.Quadtree},function(e){x=e.Monster},function(e){P=e.Bullet},function(e){D=e.Player},function(e){b=e.GameManager},function(e){w=e.TalentData},function(e){E=e.Phantom}],execute:function(){var S,O,W,N,L,V,I;r._RF.push({},"37d7a7kOPpKnqGQ5XAITWlb","CollisionManager",void 0);var k=i.ccclass,q=i.property;e("CollisionManager",(S=k("CollisionManager"),O=q({type:l}),W=q({type:g}),S((V=a((L=function(e){function a(){for(var a,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=e.call.apply(e,[this].concat(r))||this,t(a,"damageValuePrefab",V,o(a)),t(a,"graphics",I,o(a)),a.quadTree=null,a.damageValueNodePool=new m,a.gameManager=null,a}n(a,e);var r=a.prototype;return r.start=function(){this.gameManager=d("Canvas").getComponent(b),this.initQuadTree()},r.initQuadTree=function(){var e={x:0,y:0,width:s.getVisibleSize().width,height:s.getVisibleSize().height};this.quadTree=new T(e)},r.quadTreeCheck=function(){var e=this,a=[];a.push(d("Canvas/Player")),this.quadTree.insert(d("Canvas/Player")),d("Canvas/Monster Layer").children.forEach((function(n){a.push(n),e.quadTree.insert(n)})),d("Canvas/Bullet Layer").children.forEach((function(n){a.push(n),e.quadTree.insert(n)})),d("Canvas/Coin Layer").children.forEach((function(n){a.push(n),e.quadTree.insert(n)})),d("Canvas/Diamond Layer").children.forEach((function(n){a.push(n),e.quadTree.insert(n)})),d("Canvas/Exp Layer").children.forEach((function(n){a.push(n),e.quadTree.insert(n)}));for(var n=function(){var n=a[t];if("Player"!=n.name&&-1==n.name.toLocaleLowerCase().indexOf("bullet")&&-1==n.name.indexOf("Monster7")&&-1==n.name.indexOf("Monster8")&&-1==n.name.indexOf("Monster11"))return 1;for(var o=e.quadTree.retrieve(n),r=function(){var a=o[i];if(a===n)return 1;var t=e.gameManager.player.getComponent(y).getBoundingBoxToWorld(),r=t.x,g=t.y,m=t.width,s=t.height;if(a.name.indexOf("coin")>-1&&n.name.indexOf("Monster7")>-1)a.getComponent(y).getBoundingBoxToWorld().intersects(n.getComponent(y).getBoundingBoxToWorld())&&n.getComponent(x).collectCoin(a);else if(a.name.indexOf("diamond")>-1&&n.name.indexOf("Monster11")>-1){a.getComponent(y).getBoundingBoxToWorld().intersects(n.getComponent(y).getBoundingBoxToWorld())&&n.getComponent(x).collectDiamond(a)}else if(a.name.indexOf("exp")>-1&&n.name.indexOf("Monster8")>-1){a.getComponent(y).getBoundingBoxToWorld().intersects(n.getComponent(y).getBoundingBoxToWorld())&&n.getComponent(x).collectExp(a)}else if(a.name.indexOf("Monster")>-1&&!a.getComponent(x).isStealth&&!a.getComponent(x).isSpecial&&!a.getComponent(x).isInvincible&&n.name.toLocaleLowerCase().indexOf("bullet")>-1){if(a.getComponent(y).getBoundingBoxToWorld().intersects(n.getComponent(y).getBoundingBoxToWorld())){var u=n.getComponent(P).damage;u+=e.gameManager.player.getComponent(D).allPlayerData.power.value;var h=!1;if(100*Math.random()<100*e.gameManager.player.getComponent(D).allPlayerData.criticalHitRate.value&&(u+=e.gameManager.player.getComponent(D).allPlayerData.criticalHit.value,h=!0,e.gameManager.player.getComponent(D).changeFace("criticalHit"),e.scheduleOnce((function(){e.gameManager.player.getComponent(D).changeFace("normal")}),.5)),w.getInstace().allTalentData.weaknessSense.isInited&&parseInt(a.getChildByName("HP").getComponent(p).string)<10&&(u+=5),a.getComponent(x).gotHit(u),e.showDamageValue(u,a.position,h),"daggerDartBullet"==n.name&&n.getComponent(P).daggerSpecialEffectTime)if(n.getComponent(P).daggerSpecialEffectTime>=10&&100*Math.random()<=1)a.getComponent(x).die(),e.gameManager.spawnPropertyEffect(n.getComponent(P).bulletData.key,n.getComponent(P).bulletData.picPath);else{var f=0;e.schedule((function t(){f+=1,a.getComponent(x).gotHit(n.getComponent(P).daggerSpecialEffectEctraDamage),e.showDamageValue(n.getComponent(P).daggerSpecialEffectEctraDamage,a.position,h),(a.getComponent(x).isDead||.1*f>=n.getComponent(P).daggerSpecialEffectTime)&&(n.getComponent(P).daggerSpecialEffectEctraDamage=0,n.getComponent(P).daggerSpecialEffectTime=0,e.unschedule(t))}),.2)}var C=100*Math.random();w.getInstace().allTalentData.lifeStealCurse.isInited&&C<=5&&e.gameManager.player.getComponent(D).recoverSomeHP(1),"pistolBullet"==n.name&&(n.getComponent(P).pistolSpecialGoThoughTimes-=1),"pistolBullet"==n.name&&n.getComponent(P).pistolSpecialGoThoughTimes<=-1||"fireWandBullet"==n.name||"bubbleGunBullet"==n.name||"daggerDartBullet"==n.name||"particleGunBullet"==n.name||"bowBullet"==n.name?(n.setRotationFromEuler(0,0,0),n.getComponent(P).recycle()):"lightBallBullet"==n.name?n.name="lightBallChanged":"iceWandBullet"==n.name&&(n.name="iceWandChanged")}}else if(a.name.indexOf("Monster")>-1&&"Player"==n.name&&!n.getComponent(D).isInvincible&&!n.getComponent(D).isStealth){var v=a.getComponent(y).getBoundingBoxToWorld(),T=v.x,b=v.y,S=v.width,O=v.height,W=.22*S,N=.22*O,L=new M(T+W,b+N,S-W,O-N),V=.22*S,I=.22*O,k=new M(r+V,g+I,m-V,s-I);if(L.intersects(k)){var q=a.getComponent(x).damage;if(q-=n.getComponent(D).allPlayerData.defence.value,500*Math.random()<e.gameManager.player.getComponent(D).allPlayerData.dodge.value&&(q=0,e.gameManager.spawnPropertyEffect("dodge",e.gameManager.player.getComponent(D).allPlayerData.dodge.picPath)),n.getComponent(D).gotHit(q),e.showDamageValue(q,n.position,!1,"ff0000"),a.name.indexOf("Monster6")>-1&&a.getComponent(x).isStealth)a.getComponent(x).stopStealth();else if(a.name.indexOf("Monster10")>-1&&100*Math.random()<=5&&e.gameManager.player.getChildByName("Weapon").children.length>=2){var H=Math.floor(Math.random()*e.gameManager.player.getChildByName("Weapon").children.length),z=e.gameManager.player.getChildByName("Weapon").children[H];z.getChildByName("boom")||(B.load("monsterSkill/boom",l,(function(a,n){var t=c(n);z.addChild(t),e.scheduleOnce((function(){z.removeFromParent(),d("Canvas").getComponent(E).setPhantom()}),1.5)})),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.boomAudio))}else if(a.name.indexOf("Monster5")>-1&&100*Math.random()<=10){var F=Math.floor(Math.random()*e.gameManager.player.getChildByName("Weapon").children.length),G=e.gameManager.player.getChildByName("Weapon").children[F];G.getChildByName("block")||B.load("monsterSkill/block",l,(function(a,n){var t=c(n);G.addChild(t),e.scheduleOnce((function(){t.removeFromParent()}),3)}))}else a.name.indexOf("Monster4")>-1&&100*Math.random()<=10&&(e.gameManager.player.getComponent(D).changeFace("dizzy"),e.scheduleOnce((function(){e.gameManager.player.getComponent(D).changeFace("normal")}),3));w.getInstace().allTalentData.thorn.isInited&&(a.getComponent(x).gotHit(q),e.showDamageValue(q,a.position,!1),e.gameManager.spawnPropertyEffect("thorn",w.getInstace().allTalentData.thorn.picPath))}}},i=0;i<o.length;i++)r()},t=0;t<a.length;t++)n();this.quadTree.clear()},r.showDamageValue=function(e,a,n,t){var o=this;void 0===t&&(t="ffffff");var r=null;(r=this.damageValueNodePool.size()>0?this.damageValueNodePool.get():c(this.damageValuePrefab)).getChildByName("Label").getComponent(p).color=(new u).fromHEX(t),r.getChildByName("Label").getComponent(p).string=e<=0?"Miss":"-"+e,n&&(r.getChildByName("Sprite").active=!0,r.getChildByName("Label").getComponent(p).color=(new u).fromHEX("ffffff")),r.setPosition(a),d("Canvas/Damage Layer").addChild(r),h(r).by(.5,{position:new f(60*Math.random()-30,40,0)},{easing:"sineOut"}).call((function(){r.getChildByName("Sprite").active=!1,o.damageValueNodePool.put(r)})).start()},r.removeSomeNodesInPoolAfterWave=function(e){for(var a=0;a<e;a++){if(this.damageValueNodePool.size()>0)this.damageValueNodePool.get().destroy()}},r.drawQuadTreeNodes=function(){this.graphics.getComponent(C).updateAlignment();var e=this.graphics;e.clear(),e.strokeColor=new u(0,255,0,150),function a(n){var t=n.nodes;if(0===t.length){var o=n.bounds;e.rect(o.x,o.y,o.width,o.height)}else for(var r=0;r<t.length;r++)a(t[r])}(this.quadTree),e.stroke()},r.checkDroppedItems=function(){var e=this,a=this.gameManager.player.getComponent(y).getBoundingBoxToWorld(),n=a.x,t=a.y,o=a.width,r=a.height,i=this.gameManager.player.getComponent(D).allPlayerData.pickUpRange.value,l=new M(n-i,t-i,o+2*i,r+2*i);d("Canvas/Coin Layer").children.forEach((function(a){a.name.indexOf("coin")>-1&&(a.getComponent(y).getBoundingBoxToWorld().intersects(l)&&e.gameManager.player.getComponent(D).collectCoin(a))})),d("Canvas/Diamond Layer").children.forEach((function(a){a.name.indexOf("diamond")>-1&&(a.getComponent(y).getBoundingBoxToWorld().intersects(l)&&e.gameManager.player.getComponent(D).collectDiamond(a))})),d("Canvas/Exp Layer").children.forEach((function(a){a.name.indexOf("exp")>-1&&(a.getComponent(y).getBoundingBoxToWorld().intersects(l)&&e.gameManager.player.getComponent(D).collectExp(a))}))},r.update=function(e){"PLAY_STATE"==this.gameManager.gameState&&(this.quadTreeCheck(),this.checkDroppedItems())},a}(v)).prototype,"damageValuePrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=a(L.prototype,"graphics",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=L))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/DouyinSidebar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Utils.ts"],(function(t){var i,e,a,o,n,r,c,s,u,l,d,g,v,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,c=t.Node,s=t.AudioClip,u=t.sys,l=t.find,d=t.Label,g=t.Component},function(t){v=t.AudioManager},function(t){h=t.Utils}],execute:function(){var p,f,b,S,y,m,B,M,I,z,w;n._RF.push({},"821d7vflM1MTL5zp3LRHGq3","DouyinSidebar",void 0);var A=r.ccclass,C=r.property,D=window.tt;t("DouyinSidebar",(p=A("DouyinSidebar"),f=C({type:c}),b=C({type:c}),S=C({type:c}),y=C({type:s}),p((M=i((B=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,a(i,"navigationBoard",M,o(i)),a(i,"goToSidebarButton",I,o(i)),a(i,"getPrizeButton",z,o(i)),a(i,"clickAudio",w,o(i)),i.isFromSidebar=!1,i.audioManager=null,i}e(i,t);var n=i.prototype;return n.start=function(){this.initComponents(),this.checkIsSupportSidebar(),this.checkIsEnterFromSidebar()},n.checkIsSupportSidebar=function(){if(u.platform==u.Platform.BYTEDANCE_MINI_GAME&&D){var t=this;D.checkScene({scene:"sidebar",success:function(i){i.isExist||(t.node.active=!1)},fail:function(i){t.node.active=!1}})}else this.node.active=!1},n.checkIsEnterFromSidebar=function(){if(D){var t=this;D.onShow((function(i){if(t.isFromSidebar="homepage"==i.launch_from&&"sidebar_card"==i.location,t.isFromSidebar)try{t.navigationBoard.active=!0,t.getPrizeButton.active=!0,t.goToSidebarButton.active=!1}catch(t){console.log(t)}else try{t.navigationBoard.active=!0,t.getPrizeButton.active=!1,t.goToSidebarButton.active=!0}catch(t){console.log(t)}}))}},n.initComponents=function(){this.audioManager=l("Audio Manager").getComponent(v)},n.showHideNavigationBoard=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.navigationBoard.active?(this.navigationBoard.active=!1,l("Canvas/UI").active=!0):(this.navigationBoard.active=!0,l("Canvas/UI").active=!1)},n.goToSidebar=function(){if(this.audioManager.playOneShot(this.audioManager.buttonAudio),D){this.navigationBoard.active=!1;var t=this;D.navigateToScene({scene:"sidebar",success:function(i){console.log("navigate to scene success"),t.navigationBoard.active=!1},fail:function(i){console.log("navigate to scene fail: ",i),t.navigationBoard.active=!0,h.getInstace().showMessage("侧边栏进入失败，请重试",2)}})}else h.getInstace().showMessage("侧边栏进入失败，请重试",2)},n.getPrize=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio);var t=parseInt(localStorage.getItem("dodge-ball-diamond"));t+=1,localStorage.setItem("dodge-ball-diamond",t.toString()),l("Canvas/UI/Diamond Layout/Diamond Count").getComponent(d).string=t.toString(),h.getInstace().showMessage("获得了1颗钻石",2),this.getPrizeButton.active=!1,this.goToSidebarButton.active=!0,this.navigationBoard.active=!1,l("Canvas/UI").active=!0},n.update=function(t){},i}(g)).prototype,"navigationBoard",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(B.prototype,"goToSidebarButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(B.prototype,"getPrizeButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(B.prototype,"clickAudio",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=B))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenToolbox.ts","./Monster.ts","./MonsterData.ts","./AudioManager.ts","./WeaponData.ts","./TalentData.ts","./WeaponManager.ts","./PlayerData.ts","./Player.ts","./Utils.ts","./AdManager.ts","./Achievements.ts","./Phantom.ts","./ItemData.ts"],(function(e){var t,o,n,a,i,r,s,l,h,d,g,m,p,u,c,C,y,f,B,N,v,P,S,w,b,I,T,M,A,L,W,D,x,E,O,R,U,H,F,V,z,K,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,s=e.Node,l=e.Prefab,h=e.NodePool,d=e.Label,g=e.find,m=e.Camera,p=e.sys,u=e.Widget,c=e.Sprite,C=e.Color,y=e.Button,f=e.instantiate,B=e.RichText,N=e.UITransform,v=e.Vec3,P=e.director,S=e.ScrollView,w=e.Vec2,b=e.resources,I=e.SpriteFrame,T=e.Component,M=e.UIOpacity,A=e.tween},function(e){L=e.TweenToolbox},function(e){W=e.Monster},function(e){D=e.MonsterData},function(e){x=e.AudioManager},function(e){E=e.WeaponData},function(e){O=e.TalentData},function(e){R=e.WeaponManager},function(e){U=e.PlayerData},function(e){H=e.Player},function(e){F=e.Utils},function(e){V=e.AdManager},function(e){z=e.Achievements},function(e){K=e.Phantom},function(e){k=e.ItemData}],execute:function(){var G,_,X,j,Y,$,J,q,Q,Z,ee,te,oe,ne,ae,ie,re,se,le,he,de,ge,me,pe,ue,ce,Ce,ye,fe,Be,Ne,ve,Pe,Se,we,be,Ie,Te,Me,Ae,Le,We,De,xe,Ee,Oe,Re,Ue,He,Fe,Ve,ze,Ke,ke,Ge,_e,Xe;i._RF.push({},"dfa713GWwdBgprf+r8rGY8G","GameManager",void 0);var je=r.ccclass,Ye=r.property;e("GameManager",(G=je("GameManager"),_=Ye({type:s}),X=Ye({type:s}),j=Ye({type:s}),Y=Ye({type:s}),$=Ye({type:s}),J=Ye({type:s}),q=Ye({type:s}),Q=Ye({type:s}),Z=Ye({type:s}),ee=Ye({type:s}),te=Ye({type:l}),oe=Ye({type:l}),ne=Ye({type:l}),ae=Ye({type:l}),ie=Ye({type:s}),re=Ye({type:l}),se=Ye({type:s}),le=Ye({type:l}),he=Ye({type:s}),de=Ye({type:s}),ge=Ye({type:l}),me=Ye({type:s}),pe=Ye({type:s}),ue=Ye({type:l}),ce=Ye({type:l}),Ce=Ye({type:s}),ye=Ye({type:s}),G((Ne=t((Be=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"player",Ne,a(t)),n(t,"scoreNode",ve,a(t)),n(t,"countDownNode",Pe,a(t)),n(t,"waveCountNode",Se,a(t)),n(t,"choosePage",we,a(t)),n(t,"updatePage",be,a(t)),n(t,"monsterLayer",Ie,a(t)),n(t,"coinLayer",Te,a(t)),n(t,"diamondLayer",Me,a(t)),n(t,"expLayer",Ae,a(t)),n(t,"monsterPrefab",Le,a(t)),n(t,"coinPrefab",We,a(t)),n(t,"expPrefab",De,a(t)),n(t,"diamondPrefab",xe,a(t)),n(t,"infoScrollViewContent",Ee,a(t)),n(t,"infoItemPrefab",Oe,a(t)),n(t,"propertyScrollViewContent",Re,a(t)),n(t,"propertyItemPrefab",Ue,a(t)),n(t,"infoBoard",He,a(t)),n(t,"explainBoard",Fe,a(t)),n(t,"propertyEffectPrefab",Ve,a(t)),n(t,"effectTriggeredLayout",ze,a(t)),n(t,"achievementNotice",Ke,a(t)),n(t,"warningPrefab",ke,a(t)),n(t,"shopItemToUsePrefab",Ge,a(t)),n(t,"shopItemContent",_e,a(t)),n(t,"confirmBoard",Xe,a(t)),t.startWeaponKeyArray=[],t.startTalentKeyArray=[],t.updatePlayerPropertyKeyArray=[],t.updateShopKeyArray=[],t.expNodePool=new h,t.coinNodePool=new h,t.diamondNodePool=new h,t.monsterNodePool=new h,t.isEndlessMode=!1,t.waveCount=1,t.countDownSeconds=25,t.score=0,t.updateRefreshCoinNum=10,t.isUpdateRefreshing=!1,t.gameState="CHOICE_STATE",t.isStartWeaponPageRefreshed=!1,t.isStartTalentPageRefreshed=!1,t.updateShopPageAdButtonNode=null,t.refreshTween=null,t.isAlreadyRevived=!1,t.isAlreadyPriceControled=!1,t.camerOrthoHeightScale=1,t.isShowingAchievement=!1,t.achievementToShowArray=[],t.killedMonsterNum=0,t.currentShowInfoBoardEvent=null,t.isSpecialTime=!1,t.isTalentClockTriggered=!1,t.adManager=null,t.audioManager=null,t}o(t,e);var i=t.prototype;return i.start=function(){var e=this;if(this.initNodesAndComponents(),localStorage.getItem("dodge-ball-resume-data")){var t=JSON.parse(localStorage.getItem("dodge-ball-resume-data"));this.waveCount=t.waveCount,this.waveCountNode.getComponent(d).string="第"+this.waveCount+"波",this.player.getComponent(H).allPlayerData=t.allPlayerData,this.startTalentKeyArray=t.talentInfo;for(var o=0;o<this.startTalentKeyArray.length;o++)O.getInstace().allTalentData[this.startTalentKeyArray[o]].isInited=!0;t.maxWeaponSlotNum&&(this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum=t.maxWeaponSlotNum);var n=t.weaponInfo;this.player.getChildByName("Weapon").getComponent(R).setWeaponSlots(n.length);for(var a=0;a<n.length;a++)this.player.getChildByName("Weapon").getComponent(R).addWeaponToOneWeaponSlot(n[a][0],n[a][1],n[a][2]);g("Canvas").getComponent(K).setPhantom(),g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=t.coinNum.toString(),this.score=t.score,this.updateScore(0),this.isAlreadyRevived=t.isRevived,this.countDownSeconds=t.countDownSeconds,this.changeCameraOrthoHeight(t.orthoHeight),this.player.getComponent(H).setLevelInfoFromResumeData(t.levelInfo),this.choosePage.active=!1,this.spawnMonsterRandomly(),this.countDown(),this.gameState="PLAY_STATE",this.showShopItems(),g("Canvas/Camera2").active=!0,Math.random()>.3&&this.scheduleOnce((function(){e.showSpecialTime()}),Math.random()*this.countDownSeconds/2+5)}else this.showStartWeaponChoosePage()},i.initNodesAndComponents=function(){this.audioManager=g("Audio Manager").getComponent(x),this.adManager=g("Ad Manager").getComponent(V),this.adManager.gameManager=this,this.updatePage.getChildByName("Player Property Layout").on(s.EventType.TOUCH_START,this.showExplainBoard,this),this.updatePage.getChildByName("Player Property Layout").on(s.EventType.TOUCH_MOVE,this.showExplainBoard,this),this.updatePage.getChildByName("Player Property Layout").on(s.EventType.TOUCH_END,this.hideExplainBoard,this),this.updatePage.getChildByName("Player Property Layout").on(s.EventType.TOUCH_CANCEL,this.hideExplainBoard,this),g("Canvas/Camera2").getComponent(m).orthoHeight=g("Canvas/Camera1").getComponent(m).orthoHeight,g("Canvas/Camera2").active=!1,g("Canvas/UI/Diamond Layout/Diamond Count").getComponent(d).string=localStorage.getItem("dodge-ball-diamond"),(this.adManager.gameBoxAd||p.platform==p.Platform.WECHAT_GAME||p.platform==p.Platform.BYTEDANCE_MINI_GAME)&&(g("Canvas/UI/Pause Button").getComponent(u).top=120)},i.showStartWeaponChoosePage=function(){if(this.choosePage.active=!0,this.choosePage.getChildByName("Title").getComponent(d).string="初始武器选择",this.isStartWeaponPageRefreshed){var e=this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").position;this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").setPosition(e.x,-1e5,0)}else{var t=this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").position;this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").setPosition(t.x,0,0)}for(var o=this.choosePage.getChildByName("Choice Layout"),n=this.getThreeRandomStartItems(E.getInstace().allWeaponData),a=function(){var e=n[i],t=o.children[i];t.getChildByName("Title").children[0].getComponent(d).string=e.zhName,b.load(e.picPath,I,(function(e,o){t.getChildByName("Pic").getComponent(c).spriteFrame=o}));var a="";for(var r in e.effect)e.effect[r].isShown&&(a+=e.effect[r].zhName+": "+e.effect[r].value+"\n");t.getChildByName("Desc ScrollView").children[0].children[0].getComponent(d).string=a,t.getChildByName("Choose Button").getChildByName("Key").getComponent(d).string=e.key},i=0;i<n.length;i++)a();L.getInstace().showFadeInFromBottom(o)},i.showStartTalentChoosePage=function(){if(this.choosePage.active=!0,this.choosePage.getChildByName("Choice Layout").children.forEach((function(e){e.setScale(1,1,1),e.getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("ffffff")})),this.choosePage.getChildByName("Title").getComponent(d).string="初始天赋选择",this.isStartTalentPageRefreshed){var e=this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").position;this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").setPosition(e.x,-1e5,0)}else{var t=this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").position;this.choosePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").setPosition(t.x,0,0)}for(var o=this.choosePage.getChildByName("Choice Layout"),n=this.getThreeRandomStartItems(O.getInstace().allTalentData),a=function(){var e=n[i],t=o.children[i];t.getChildByName("Title").children[0].getComponent(d).string=e.zhName,b.load(e.picPath,I,(function(e,o){t.getChildByName("Pic").getComponent(c).spriteFrame=o})),t.getChildByName("Desc ScrollView").children[0].children[0].getComponent(d).string=e.desc,t.getChildByName("Choose Button").getChildByName("Key").getComponent(d).string=e.key},i=0;i<n.length;i++)a();L.getInstace().showFadeInFromBottom(o)},i.onStartPageChooseButtonClicked=function(e,t){this.choosePage.getChildByName("Choice Layout").children.forEach((function(e){e.setScale(1,1,1),e.getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("ffffff")})),this.choosePage.getChildByName("Choice Layout").children[parseInt(t)].setScale(1.05,1.05,1),this.choosePage.getChildByName("Choice Layout").children[parseInt(t)].getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("00ffff"),"初始武器选择"==this.choosePage.getChildByName("Title").getComponent(d).string?this.startWeaponKeyArray=[e.target.getChildByName("Key").getComponent(d).string]:this.startTalentKeyArray=[e.target.getChildByName("Key").getComponent(d).string],this.audioManager.playOneShot(this.audioManager.buttonAudio,1)},i.onStartPageRefreshAdButtonClicked=function(e,t){this.audioManager.playOneShot(this.audioManager.buttonAudio),"初始武器选择"==this.choosePage.getChildByName("Title").getComponent(d).string?(this.isStartWeaponPageRefreshed=!0,this.showStartWeaponChoosePage()):(this.isStartTalentPageRefreshed=!0,this.showStartTalentChoosePage())},i.onStartPageAllWantAdButtonClicked=function(e,t){"初始武器选择"==this.choosePage.getChildByName("Title").getComponent(d).string?localStorage.setItem("dodge-ball-ad-type","Start Weapon"):localStorage.setItem("dodge-ball-ad-type","Start Talent"),this.playAd()},i.onStartPageAllWantAdButtonClickedReward=function(){var e=this;"初始武器选择"==this.choosePage.getChildByName("Title").getComponent(d).string?(this.startWeaponKeyArray=[],this.choosePage.getChildByName("Choice Layout").children.forEach((function(t){t.setScale(1.05,1.05,1.05),t.getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("00ffff"),e.startWeaponKeyArray.push(t.getChildByName("Choose Button").getChildByName("Key").getComponent(d).string)}))):(this.startTalentKeyArray=[],this.choosePage.getChildByName("Choice Layout").children.forEach((function(t){t.setScale(1.05,1.05,1.05),t.getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("00ffff"),e.startTalentKeyArray.push(t.getChildByName("Choose Button").getChildByName("Key").getComponent(d).string)}))),F.getInstace().showMessage("已全部获得",1),this.scheduleOnce(this.startStageContinueButtonCallback,1)},i.startStageContinueButtonCallback=function(e){var t=this;if("初始武器选择"==this.choosePage.getChildByName("Title").getComponent(d).string){if(!this.startWeaponKeyArray.length)return void F.getInstace().showMessage("请选择一把初始武器",1);this.showStartTalentChoosePage(),this.audioManager.playOneShot(this.audioManager.buttonAudio,1)}else{if(!this.startTalentKeyArray.length)return void F.getInstace().showMessage("请选择一种天赋",1);this.audioManager.playOneShot(this.audioManager.buttonAudio,1),this.choosePage.active=!1;for(var o=0;o<this.startTalentKeyArray.length;o++)O.getInstace().allTalentData[this.startTalentKeyArray[o]].isInited=!0;if(O.getInstace().allTalentData.weaponPact.isInited)for(var n=this.startWeaponKeyArray.length,a=0;a<n;a++)this.startWeaponKeyArray.push(this.startWeaponKeyArray[a]);this.player.getChildByName("Weapon").getComponent(R).setWeaponSlots(this.startWeaponKeyArray.length);for(var i=0;i<this.startWeaponKeyArray.length;i++)this.player.getChildByName("Weapon").getComponent(R).addWeaponToOneWeaponSlot(this.startWeaponKeyArray[i]);g("Canvas").getComponent(K).setPhantom(),this.spawnMonsterRandomly(),this.countDown(),this.gameState="PLAY_STATE",this.showShopItems(),g("Canvas/Camera2").active=!0,Math.random()>.3&&this.scheduleOnce((function(){t.showSpecialTime()}),Math.random()*this.countDownSeconds/2+5)}},i.getThreeRandomStartItems=function(e,t){void 0===t&&(t=!1);for(var o=1,n=[],a=[];o<=3;){var i=Math.floor(Math.random()*Object.keys(e).length),r=Object.keys(e)[i];t&&!e[r].update||-1==n.indexOf(r)&&(o+=1,n.push(r),a.push(e[r]))}return a},i.showUpdatePlayerPropertyPage=function(){var e=this;this.audioManager.setVolume(.3),this.updatePage.active=!0,this.updatePage.getChildByName("Choice Layout").children.forEach((function(e){e.setScale(1,1,1),e.getChildByName("Button Layout").getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("ffffff")})),this.updatePage.getChildByName("Title").getComponent(d).string="升级(剩余次数:"+this.player.getComponent(H).levelUpNum+")",g("Canvas/Update Page/Next Button Layout/Next Button/Label").getComponent(d).string="继续",this.listPropertyItem();var t=g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string;this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=t;var o=localStorage.getItem("dodge-ball-diamond");this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Diamond Layout").getChildByName("Diamond Count").getComponent(d).string=o,this.updateRefreshButtonLabel(parseInt(t));for(var n=this.updatePage.getChildByName("Choice Layout"),a=this.getThreeRandomStartItems(U.getInstace().allPlayerData,!0),i=function(){var e=a[r],t=n.children[r];t.getChildByName("Title").children[0].getComponent(d).string=e.zhName,b.load(e.picPath,I,(function(e,o){t.getChildByName("Pic").getComponent(c).spriteFrame=o}));var o=e.update.zhDesc;t.getChildByName("Desc ScrollView").children[0].children[0].getComponent(d).string=o,t.getChildByName("Pic").getChildByName("Price").active=!1,t.getChildByName("Button Layout").getChildByName("Choose Button").getChildByName("Label").getComponent(d).string="选择",t.getChildByName("Button Layout").getChildByName("Choose Button").getComponent(y).interactable=!0,t.getChildByName("Button Layout").getChildByName("Choose Button").getChildByName("Key").getComponent(d).string=e.key,t.getChildByName("Button Layout").getChildByName("Ad Button").active=!1},r=0;r<a.length;r++)i();this.refreshTween=L.getInstace().showFadeInFromBottom(this.updatePage,(function(){e.refreshTween=null}))},i.showUpdateShopPage=function(){var e=this;this.audioManager.setVolume(.3),this.updatePage.active=!0,this.updatePage.getChildByName("Choice Layout").children.forEach((function(e){e.setScale(1,1,1),e.getChildByName("Button Layout").getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("ffffff")})),this.updatePage.getChildByName("Title").getComponent(d).string="商店",g("Canvas/Update Page/Next Button Layout/Next Button/Label").getComponent(d).string="开启第"+this.waveCount+"波",this.listPropertyItem();var t=g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string;this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=t;var o=localStorage.getItem("dodge-ball-diamond");this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Diamond Layout").getChildByName("Diamond Count").getComponent(d).string=o,this.updateRefreshButtonLabel(parseInt(t));for(var n=this.updatePage.getChildByName("Choice Layout"),a=this.getThreeRandomStartItems(E.getInstace().allWeaponData),i=function(){var t=a[r],o=n.children[r];o.getChildByName("Title").children[0].getComponent(d).string=t.zhName,b.load(t.picPath,I,(function(e,t){o.getChildByName("Pic").getComponent(c).spriteFrame=t}));var i="";for(var s in t.effect)t.effect[s].isShown&&(i+=t.effect[s].zhName+": "+t.effect[s].value+"\n");o.getChildByName("Desc ScrollView").children[0].children[0].getComponent(d).string=i,o.getChildByName("Pic").getChildByName("Price").active=!0;var l=100*Math.random();O.getInstace().allTalentData.priceControl.isInited&&l<=5&&!e.isAlreadyPriceControled?(o.getChildByName("Pic").getChildByName("Price").getComponent(d).string="$0",e.isAlreadyPriceControled=!0):o.getChildByName("Pic").getChildByName("Price").getComponent(d).string="$"+t.price,o.getChildByName("Button Layout").getChildByName("Choose Button").getChildByName("Label").getComponent(d).string="购买",o.getChildByName("Button Layout").getChildByName("Choose Button").getComponent(y).interactable=!0,o.getChildByName("Button Layout").getChildByName("Choose Button").getChildByName("Key").getComponent(d).string=t.key,o.getChildByName("Button Layout").getChildByName("Ad Button").active=!0,o.getChildByName("Button Layout").getChildByName("Ad Button").getChildByName("Key").getComponent(d).string=t.key},r=0;r<a.length;r++)i();this.refreshTween=L.getInstace().showFadeInFromBottom(this.updatePage,(function(){e.refreshTween=null}))},i.onUpdatePageSelectOrBuyButtonClicked=function(e,t){if("选择"==e.target.children[0].getComponent(d).string)this.updatePage.getChildByName("Choice Layout").children.forEach((function(e){e.setScale(1,1,1),e.getChildByName("Button Layout").getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("ffffff")})),this.updatePage.getChildByName("Choice Layout").children[parseInt(t)].setScale(1.05,1.05,1),this.updatePage.getChildByName("Choice Layout").children[parseInt(t)].getChildByName("Button Layout").getChildByName("Choose Button").getComponent(c).color=(new C).fromHEX("00ffff"),this.updatePlayerPropertyKeyArray=[e.target.getChildByName("Key").getComponent(d).string],this.audioManager.playOneShot(this.audioManager.buttonAudio,2);else{var o=this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum;if(this.infoScrollViewContent.children.length>=o)return void F.getInstace().showMessage("已有"+o+"把武器，请出售现有武器后再购买");var n=e.target.getChildByName("Key").getComponent(d).string,a=parseInt(g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string),i=E.getInstace().allWeaponData[n].price;if("0"==e.target.parent.parent.getChildByName("Pic").getChildByName("Price").getComponent(d).string.split("$")[1]&&(i=0),a>=i){var r=a-i;g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=r.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=r.toString(),this.updateRefreshButtonLabel(r),this.updateShopKeyArray.push(n),this.audioManager.playOneShot(this.audioManager.coinAudio,2),e.target.children[0].getComponent(d).string="已购买",e.target.getComponent(y).interactable=!1,e.target.parent.getChildByName("Ad Button").active=!1;var l=f(this.infoItemPrefab);l.name=n,l.getComponent(c).spriteFrame=this.updatePage.getChildByName("Choice Layout").children[parseInt(t)].getChildByName("Pic").getComponent(c).spriteFrame,l.on(s.EventType.TOUCH_START,this.showInfoBoard,this),this.infoScrollViewContent.addChild(l);var h=this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum;g("Canvas/Update Page/Weapon And Talent Info/Tab Layout/Weapon Button/Label").getComponent(d).string="持有武器"+this.infoScrollViewContent.children.length+"/"+h}else F.getInstace().showMessage("金币不足",1)}},i.onUpdatePageAdButtonClicked=function(e,t){localStorage.setItem("dodge-ball-ad-type","Update Ad Free Buy"),this.updateShopPageAdButtonNode=e.target,this.playAd()},i.onUpdatePageAdButtonClickedReward=function(){this.updateShopPageAdButtonNode.active=!1,this.updateShopPageAdButtonNode.parent.getChildByName("Choose Button").children[0].getComponent(d).string="已获得",this.updateShopPageAdButtonNode.parent.getChildByName("Choose Button").getComponent(y).interactable=!1;var e=this.updateShopPageAdButtonNode.getChildByName("Key").getComponent(d).string;this.updateShopKeyArray.push(e),F.getInstace().showMessage("已获得武器"+E.getInstace().allWeaponData[e].zhName,2);var t=f(this.infoItemPrefab);t.name=e,t.getComponent(c).spriteFrame=this.updateShopPageAdButtonNode.parent.parent.getChildByName("Pic").getComponent(c).spriteFrame,t.on(s.EventType.TOUCH_START,this.showInfoBoard,this),this.infoScrollViewContent.addChild(t);var o=this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum;g("Canvas/Update Page/Weapon And Talent Info/Tab Layout/Weapon Button/Label").getComponent(d).string="持有武器"+this.infoScrollViewContent.children.length+"/"+o},i.onUpdatePageRefreshAdButtonClicked=function(e,t){if(!this.refreshTween){var o=parseInt(g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string);if(o<this.updateRefreshCoinNum)return localStorage.setItem("dodge-ball-ad-type","Update Refresh"),void this.playAd();o-=this.updateRefreshCoinNum,g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=o.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=o.toString(),this.audioManager.playOneShot(this.audioManager.coinAudio,2),this.isUpdateRefreshing=!0,this.updateRefreshCoinNum+=10,this.updatePage.getChildByName("Title").getComponent(d).string.indexOf("升级")>-1?this.showUpdatePlayerPropertyPage():this.showUpdateShopPage(),this.isUpdateRefreshing=!1,this.infoBoard.active=!1}},i.onUpdatePageRefreshAdButtonClickedReward=function(){var e=this;this.scheduleOnce((function(){var t=parseInt(g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string);t+=88,g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=t.toString(),e.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=t.toString(),e.isUpdateRefreshing=!0,e.updatePage.getChildByName("Title").getComponent(d).string.indexOf("升级")>-1?e.showUpdatePlayerPropertyPage():e.showUpdateShopPage(),e.isUpdateRefreshing=!1,e.infoBoard.active=!1,F.getInstace().showMessage("已刷新，并获得88金币",2)}),.5)},i.updateRefreshButtonLabel=function(e){e<this.updateRefreshCoinNum?(this.updatePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").getChildByName("ad").active=!0,this.updatePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").getChildByName("Label").getComponent(B).string="<b>刷新<color=F5FF00>+$"+this.updateRefreshCoinNum+"</color></b>"):(this.updatePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").getChildByName("ad").active=!1,this.updatePage.getChildByName("Next Button Layout").getChildByName("Refresh Button").getChildByName("Label").getComponent(B).string="<b>刷新<color=F5FF00>-$"+this.updateRefreshCoinNum+"</color></b>")},i.updateStageContinueButtonCallback=function(){var e=this;if(this.updatePage.getChildByName("Title").getComponent(d).string.indexOf("升级")>-1){if(!this.updatePlayerPropertyKeyArray.length)return void F.getInstace().showMessage("请选择要升级的属性",1);for(var t=0;t<this.updatePlayerPropertyKeyArray.length;t++)U.getInstace().allPlayerData[this.updatePlayerPropertyKeyArray[t]].update.init(this.player.getComponent(H));this.updatePlayerPropertyKeyArray=[],this.player.getComponent(H).levelUpNum-=1,this.player.getComponent(H).levelUpNum>0?this.showUpdatePlayerPropertyPage():(this.updateRefreshCoinNum=10,this.showUpdateShopPage()),this.infoBoard.active=!1,this.explainBoard.active=!1,this.audioManager.playOneShot(this.audioManager.buttonAudio,2)}else{var o=[];this.infoScrollViewContent.children.forEach((function(e){var t=e.name,n=e.getChildByName("updateNum").getComponent(d).string,a=e.getChildByName("prob").getComponent(d).string;o.push([t,n,a])})),this.player.getChildByName("Weapon").getComponent(R).setWeaponSlots(o.length);for(var n=0;n<o.length;n++)this.player.getChildByName("Weapon").getComponent(R).addWeaponToOneWeaponSlot(o[n][0],o[n][1],o[n][2]);g("Canvas").getComponent(K).setPhantom(),this.updateShopKeyArray=[],this.infoScrollViewContent.removeAllChildren(),this.updatePage.active=!1,this.infoBoard.active=!1,this.confirmBoard.active=!1,this.explainBoard.active=!1,this.gameState="PLAY_STATE",g("Canvas/Camera2").active=!0,g("Canvas/UI/Pause Button").active=!0;var a=g("Canvas/Camera2").getComponent(m).orthoHeight;this.waveCount>=5&&this.waveCount%5==0&&a<=650&&this.changeCameraOrthoHeight(a+25),this.waveCount>=3&&this.waveCount%3==0&&this.scheduleOnce((function(){e.spawnBoss()}),Math.random()*this.countDownSeconds/2+10),Math.random()>.3&&this.scheduleOnce((function(){e.showSpecialTime()}),Math.random()*this.countDownSeconds/2+5),this.player.getComponent(H).recoverAllHP(),this.player.setPosition(0,0,0),g("Canvas/UI/Got Hit BG").active=!1,this.waveCount<=10&&(this.countDownSeconds+=5),this.countDown(),this.spawnMonsterRandomly(),this.waveCountNode.getComponent(d).string="第"+this.waveCount+"波",this.audioManager.playOneShot(this.audioManager.buttonAudio,2),this.audioManager.setVolume(1),this.saveGameData()}},i.changeCameraOrthoHeight=function(e){var t=this;this.schedule((function o(){g("Canvas/Camera2").getComponent(m).orthoHeight+=1,t.camerOrthoHeightScale=g("Canvas/Camera2").getComponent(m).orthoHeight/g("Canvas/Camera1").getComponent(m).orthoHeight,g("Canvas/Camera2").getComponent(m).orthoHeight>=e&&t.unschedule(o)}),.04)},i.updateScore=function(e){this.score+=e,this.scoreNode.getComponent(d).string=this.score.toString(),L.getInstace().showNumFromBigToNormalTween(this.scoreNode)},i.countDown=function(){var e=this,t=this.countDownSeconds;this.countDownNode.getComponent(d).color=C.WHITE,this.countDownNode.getComponent(d).string=t.toString();var o=!1;this.schedule((function n(){"OVER_STATE"!=e.gameState&&(e.isTalentClockTriggered&&!o&&(t-=4,o=!0),t-=1,e.countDownNode.getComponent(d).string=t.toString(),t<=5&&(e.countDownNode.getComponent(d).color=C.RED,e.audioManager.playOneShot(e.audioManager.countDownAudio,5)),t<=0&&(e.audioManager.playOneShot(e.audioManager.countDownFinalAudio,2),e.unschedule(n),e.executeWhenTimeOver()))}),1)},i.executeWhenTimeOver=function(){var e=this;this.saveGameData(),this.saveBestWaveAndBestScore();for(var t=0;t<10;t++)for(;this.monsterLayer.children.length;)this.monsterLayer.children.forEach((function(t){t&&e.monsterNodePool.put(t)}));for(var o=0;o<10;o++)for(;this.coinLayer.children.length;)this.coinLayer.children.forEach((function(t){t&&e.coinNodePool.put(t)}));for(var n=0;n<10;n++)for(;this.diamondLayer.children.length;)this.diamondLayer.children.forEach((function(t){t&&e.diamondNodePool.put(t)}));for(var a=0;a<10;a++)for(;this.expLayer.children.length;)this.expLayer.children.forEach((function(t){t&&e.expNodePool.put(t)}));this.waveCount+=1,this.countDownSeconds+=5,this.gameState="CHOOSE_STATE",this.updateRefreshCoinNum=10,this.isAlreadyPriceControled=!1,this.isTalentClockTriggered=!1,g("Canvas/Camera2").active=!1,g("Canvas/UI/Pause Button").active=!1,this.saveBestWaveAndBestScore(),this.player.getComponent(H).levelUpNum>0?this.showUpdatePlayerPropertyPage():this.showUpdateShopPage(),this.listInfoItem()},i.removeSomeNodesInPoolAfterWave=function(e){for(var t=0;t<e;t++){if(this.monsterNodePool.size()>0)this.monsterNodePool.get().destroy();if(this.expNodePool.size()>0)this.expNodePool.get().destroy();if(this.coinNodePool.size()>0)this.coinNodePool.get().destroy();if(this.diamondNodePool.size()>0)this.diamondNodePool.get().destroy()}},i.saveBestWaveAndBestScore=function(){localStorage.getItem("dodge-ball-best-wave")?parseInt(localStorage.getItem("dodge-ball-best-wave"))<this.waveCount&&localStorage.setItem("dodge-ball-best-wave",this.waveCount.toString()):localStorage.setItem("dodge-ball-best-wave",this.waveCount.toString());localStorage.getItem("dodge-ball-best-score")?parseInt(localStorage.getItem("dodge-ball-best-score"))<this.score&&localStorage.setItem("dodge-ball-best-score",this.score.toString()):localStorage.setItem("dodge-ball-best-score",this.score.toString())},i.spawnBoss=function(){var e=D.getInstace().allMonsterData,t=null;for(t=this.monsterNodePool.size()>0?this.monsterNodePool.get():f(this.monsterPrefab);;){var o=Object.keys(e)[Math.floor(Math.random()*Object.keys(e).length)];if(this.waveCount-e[o].showAtLevel<=5&&this.waveCount-e[o].showAtLevel>=0){t.name=o,this.monsterLayer.addChild(t);var n=e[o];t.getComponent(W).setMonsterData(n,!0);break}}},i.spawnSpeicalMonster=function(){var e=f(this.monsterPrefab);return e.name="MonsterSpecial1",e.getComponent(W).isSpecial=!0,e.getComponent(W).setSpecialMonsterData(2*this.waveCount,"monster/MonsterSpecial1/spriteFrame"),e},i.showSpecialTime=function(){var e=this;this.audioManager.playOneShot(this.audioManager.warningAudio);var t=g("Canvas").getComponent(N).width*this.camerOrthoHeightScale,o=g("Canvas").getComponent(N).height*this.camerOrthoHeightScale,n=this.player.getComponent(N).getBoundingBoxToWorld().width,a=this.player.getComponent(N).getBoundingBoxToWorld().height,i=5*this.waveCount;i>=100&&(i=100);var r=0;this.isSpecialTime=!0;var s=0,l=0,h=0,d=0,m=0,p=0,u=new v(0,0,0),y=Math.floor(4*Math.random());0==y?(s=1.7*-n,l=0):1==y?(s=1.7*n,l=0):2==y?(s=0,l=1.7*a):3==y&&(s=0,l=1.7*-a);var f=0;this.schedule((function t(){g("Canvas/Warning2").setPosition(new v(e.player.position).add3f(s,l,0)),(f+=1)>=100&&(g("Canvas/Warning2").setPosition(1e5,1e5,0),e.unschedule(t))}));for(var B=function(n){e.scheduleOnce((function(){var a=e.spawnSpeicalMonster();0==y?(h=-t/2-a.getComponent(N).width,d=Math.random()*o-o/2,m=t/2+a.getComponent(N).width,p=d,u=new v(0,0,0)):1==y?(h=t/2+a.getComponent(N).width,d=Math.random()*o-o/2,m=-t/2-a.getComponent(N).width,p=d,u=new v(0,0,180)):2==y?(h=Math.random()*t-t/2,d=o/2+a.getComponent(N).height,m=h,p=-o/2-a.getComponent(N).height,u=new v(0,0,-90)):3==y&&(h=Math.random()*t-t/2,d=-o/2-a.getComponent(N).height,m=h,p=o/2+a.getComponent(N).height,u=new v(0,0,90));var s=155*Math.random()+100,l=155*Math.random()+100,g=155*Math.random()+100;a.getComponent(c).color=new C(s,l,g),a.getComponent(c).trim=!1,a.setPosition(h,d,0),a.setRotationFromEuler(u),e.monsterLayer.addChild(a),(0==n||n>=2&&n%2==0)&&e.audioManager.playOneShot(e.audioManager.specialArrowAudio),A(a).to(3*Math.random()+1,{position:new v(m,p,0)}).call((function(){a.removeFromParent(),(r+=1)>=i&&(e.isSpecialTime=!1)})).start()}),2*Math.random()+.5)},P=0;P<i;P++)B(P)},i.spawnMonsterRandomly=function(){for(var e=this,t=D.getInstace().allMonsterData,o=function(){if("OVER_STATE"!=e.gameState&&!e.isSpecialTime)if("CHOOSE_STATE"!=e.gameState){var o=null;for(o=e.monsterNodePool.size()>0?e.monsterNodePool.get():f(e.monsterPrefab);;){var n=Object.keys(t)[Math.floor(Math.random()*Object.keys(t).length)];if(!(t[n].showAtLevel>e.waveCount||e.waveCount-t[n].showAtLevel>=10)){o.name=n,e.monsterLayer.addChild(o);var a=t[n];o.getComponent(W).setMonsterData(a);break}}}else e.unschedule(i)},n=0;n<this.waveCount&&(o(),!(n>=10));n++);var a=1.5-.12*this.waveCount;a<.3&&(a=.3);var i=function(){var t=1.3*Math.random()+1.3*Math.random()+1;e.scheduleOnce((function(){o()}),t)};this.schedule(i,a)},i.spawnCoin=function(e,t){var o=null;o=this.coinNodePool.size()>0?this.coinNodePool.get():f(this.coinPrefab);var n=g("Canvas").getComponent(N).width*this.camerOrthoHeightScale,a=g("Canvas").getComponent(N).height*this.camerOrthoHeightScale;o.setPosition(new v(e).add3f(Math.round(200*Math.random()-100),Math.round(200*Math.random()-100),0)),o.position.x>=n/2?o.setPosition(n/2-3*o.getComponent(N).width-20*Math.random(),o.position.y,0):o.position.x<=-n/2&&o.setPosition(-n/2+3*o.getComponent(N).width+20*Math.random(),o.position.y,0),o.position.y>=a/2?o.setPosition(o.position.x,a/2-3*o.getComponent(N).height-20*Math.random(),0):o.position.y<=-a/2&&o.setPosition(o.position.x,-a/2+3*o.getComponent(N).height+20*Math.random(),0);var i=0;1e3*Math.random()<this.player.getComponent(H).allPlayerData.luck.value?(i+=Math.round(Math.random()*t*2)+Math.round(t/2),this.spawnPropertyEffect("luck",this.player.getComponent(H).allPlayerData.luck.picPath)):i=Math.round(Math.random()*t)+Math.round(t/2),o.name="coin-"+i.toString(),this.coinLayer.addChild(o)},i.spawnExp=function(e,t){var o=null;o=this.expNodePool.size()>0?this.expNodePool.get():f(this.expPrefab);var n=g("Canvas").getComponent(N).width*this.camerOrthoHeightScale,a=g("Canvas").getComponent(N).height*this.camerOrthoHeightScale;o.setPosition(new v(e).add3f(Math.round(200*Math.random()-100),Math.round(200*Math.random()-100),0)),o.position.x>n/2?o.setPosition(n/2-3*o.getComponent(N).width-20*Math.random(),o.position.y,0):o.position.x<-n/2&&o.setPosition(-n/2+3*o.getComponent(N).width+20*Math.random(),o.position.y,0),o.position.y>a/2?o.setPosition(o.position.x,a/2-3*o.getComponent(N).height-20*Math.random(),0):o.position.y<-a/2&&o.setPosition(o.position.x,-a/2+3*o.getComponent(N).height+20*Math.random(),0),o.name="exp-"+(Math.round(Math.random()*t)+Math.round(t/2)).toString(),this.expLayer.addChild(o)},i.spawnDiamond=function(e,t){var o=null;o=this.diamondNodePool.size()>0?this.diamondNodePool.get():f(this.diamondPrefab);var n=g("Canvas").getComponent(N).width*this.camerOrthoHeightScale,a=g("Canvas").getComponent(N).height*this.camerOrthoHeightScale;o.setPosition(new v(e).add3f(Math.round(200*Math.random()-100),Math.round(200*Math.random()-100),0)),o.position.x>=n/2?o.setPosition(n/2-3*o.getComponent(N).width-20*Math.random(),o.position.y,0):o.position.x<=-n/2&&o.setPosition(-n/2+3*o.getComponent(N).width+20*Math.random(),o.position.y,0),o.position.y>=a/2?o.setPosition(o.position.x,a/2-3*o.getComponent(N).height-20*Math.random(),0):o.position.y<=-a/2&&o.setPosition(o.position.x,-a/2+3*o.getComponent(N).height+20*Math.random(),0),o.name="diamond-"+t.toString(),this.diamondLayer.addChild(o)},i.goHome=function(){O.getInstace().unInitedAllTalent(),this.unscheduleAllCallbacks(),this.audioManager.playOneShot(this.audioManager.buttonAudio,1),E.getInstace().unscheduleAllCallbacks(),this.unscheduleAllCallbacks(),P.loadScene("Home")},i.listInfoItem=function(){for(var e=this.player.getChildByName("Weapon").children,t=0;t<e.length;t++){var o=e[t].children[0].getComponent(d).string,n=e[t].children[1].getComponent(d).string,a=e[t].children[2].name,i=f(this.infoItemPrefab);i.name=a,i.getComponent(c).spriteFrame=e[t].children[2].getComponent(c).spriteFrame,i.getChildByName("updateNum").getComponent(d).string=o,i.getChildByName("prob").getComponent(d).string=n,i.on(s.EventType.TOUCH_START,this.showInfoBoard,this),this.infoScrollViewContent.addChild(i)}var r=this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum;g("Canvas/Update Page/Weapon And Talent Info/Tab Layout/Weapon Button/Label").getComponent(d).string="持有武器"+this.infoScrollViewContent.children.length+"/"+r},i.showInfoBoard=function(e){this.currentShowInfoBoardEvent=e;for(var t=0,o=0;o<this.infoScrollViewContent.children.length;o++)if(this.infoScrollViewContent.children[o]==e.target){t=o;break}this.audioManager.playOneShot(this.audioManager.buttonAudio),this.infoBoard.active=!0,this.infoBoard.setWorldPosition(new v(e.target.getWorldPosition()).add3f(0,260,0));var n=E.getInstace().allWeaponData[e.target.name],a=parseInt(e.target.getChildByName("updateNum").getComponent(d).string),i=parseInt(e.target.getChildByName("prob").getComponent(d).string);this.infoBoard.getChildByName("Title").children[0].getComponent(d).string=0==a?n.zhName:n.zhName+"+"+a,this.changeTitleColor(a),this.infoBoard.getChildByName("Pic").getComponent(c).spriteFrame=e.target.getComponent(c).spriteFrame;var r="";for(var s in n.effect)n.effect[s].isShown&&(r+=n.effect[s].zhName+": "+(n.effect[s].value+n.update.common[s]*a).toFixed(2)+"\n");if(a>=2&&a<5?r+="特殊效果: "+n.update[2].zhDesc+"\n":a>=6&&a<9?r+="特殊效果: "+n.update[6].zhDesc+"\n":a>=10&&(r+="特殊效果: "+n.update[10].zhDesc+"\n"),a<10){for(var l in r+="\n下一级强化内容:\n",n.effect)n.effect[l].isShown&&(r+=n.effect[l].zhName+": "+(n.effect[l].value+n.update.common[l]*(a+1)).toFixed(2)+"\n");var h=0;a+1!=2&&a+1!=6&&a+1!=10||(r+="特殊效果: "+n.update[(a+1).toString()].zhDesc+"\n",h=n.update[(a+1).toString()].diamond),O.getInstace().allTalentData.blacksmithPower.isInited?r+="成功概率: "+i+"%+5%\n":r+="成功概率: "+i+"%\n",r+="需要金币: "+(n.update.coin*(a+1)).toFixed(0)+"\n",r+="需要钻石: "+h+"\n",r+="[警告] 强化失败将导致武器消失! 请谨慎操作!"}this.infoBoard.getChildByName("Desc ScrollView").children[0].children[0].getComponent(d).string=r,this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Index").getComponent(d).string=t.toString(),this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Key").getComponent(d).string=n.key,this.infoBoard.getChildByName("Pic").getChildByName("Price").getComponent(d).string="售价$"+Math.ceil(n.price/2*(a+1))},i.changeTitleColor=function(e){0==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("ffffff"):1==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("4682B4"):2==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("50C878"):3==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("B7410E"):4==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("d95763"):5==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("D2B48C"):6==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("B08D57"):7==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("FFD700"):8==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("FF8C00"):9==e?this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("9b59b6"):10==e&&(this.infoBoard.getChildByName("Title").children[0].getComponent(d).color=(new C).fromHEX("ff2400"))},i.hideInfoBoard=function(){this.infoBoard.active=!1,this.audioManager.playOneShot(this.audioManager.closeAduio,2)},i.onSellButtonClicked=function(){if(1!=this.infoScrollViewContent.children.length){var e=parseInt(this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Index").getComponent(d).string);this.infoScrollViewContent.children[e].removeFromParent();var t=this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum;g("Canvas/Update Page/Weapon And Talent Info/Tab Layout/Weapon Button/Label").getComponent(d).string="持有武器"+this.infoScrollViewContent.children.length+"/"+t;var o=parseInt(this.infoBoard.getChildByName("Pic").getChildByName("Price").getComponent(d).string.slice(3))+parseInt(g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string);g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=o.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=o.toString(),this.updateRefreshButtonLabel(o),this.infoBoard.active=!1,this.audioManager.playOneShot(this.audioManager.coinAudio,2)}else F.getInstace().showMessage("必须保留一把武器",1)},i.onWeaponUpdateButtonClicked=function(){var e=this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Key").getComponent(d).string,t=E.getInstace().allWeaponData[e],o=parseInt(this.currentShowInfoBoardEvent.target.getChildByName("updateNum").getComponent(d).string);if(10!=o){var n=t.update.coin*(o+1),a=0;o+1!=2&&o+1!=6&&o+1!=10||(a=t.update[(o+1).toString()].diamond);var i=parseInt(this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string),r=parseInt(this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Diamond Layout").getChildByName("Diamond Count").getComponent(d).string);if(i<n)F.getInstace().showMessage("金币不足，需要"+n,1);else if(r<a)F.getInstace().showMessage("钻石不足，需要"+a,1);else{var s=i-n,l=r-a;g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=s.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=s.toString(),g("Canvas/UI/Diamond Layout/Diamond Count").getComponent(d).string=l.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Diamond Layout").getChildByName("Diamond Count").getComponent(d).string=l.toString(),localStorage.setItem("dodge-ball-diamond",l.toString());var h=parseInt(this.currentShowInfoBoardEvent.target.getChildByName("prob").getComponent(d).string);if(O.getInstace().allTalentData.blacksmithPower.isInited&&(h+=5),Math.round(100*Math.random())<=h){var m=Math.round(Math.random()*t.update.probReduce+1);O.getInstace().allTalentData.blacksmithPower.isInited&&(h-=5),this.currentShowInfoBoardEvent.target.getChildByName("prob").getComponent(d).string=(h-m).toString(),this.currentShowInfoBoardEvent.target.getChildByName("updateNum").getComponent(d).string=(o+1).toString(),this.audioManager.playOneShot(this.audioManager.updateSuccessAudio),this.showInfoBoard(this.currentShowInfoBoardEvent)}else{this.audioManager.playOneShot(this.audioManager.updateFailAudio),this.currentShowInfoBoardEvent.target.removeFromParent();var p=this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum;g("Canvas/Update Page/Weapon And Talent Info/Tab Layout/Weapon Button/Label").getComponent(d).string="持有武器"+this.infoScrollViewContent.children.length+"/"+p,this.hideInfoBoard(),F.getInstace().showMessage("强化失败T^T",2),this.infoScrollViewContent.children.length||(F.getInstace().showMessage("一把武器也没有了，系统赠送300金币，请在商店买一把",2.5),s+=300,g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=s.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=s.toString())}}}else F.getInstace().showMessage("武器最高等级为10，无法再升级")},i.moveWeaponToLeft=function(){var e=parseInt(this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Index").getComponent(d).string);if(0!=e){this.audioManager.playOneShot(this.audioManager.buttonAudio);var t=[].concat(this.infoScrollViewContent.children);this.infoScrollViewContent.removeAllChildren();for(var o=e,n=e-1,a=0;a<t.length;a++)a==n?this.infoScrollViewContent.addChild(t[o]):a==o?this.infoScrollViewContent.addChild(t[n]):this.infoScrollViewContent.addChild(t[a]);if(this.infoBoard.setWorldPosition(new v(this.infoScrollViewContent.children[o].getWorldPosition()).add3f(0,260,0)),this.infoBoard.getWorldPosition().x<this.infoScrollViewContent.parent.parent.getWorldPosition().x){this.infoBoard.setWorldPosition(new v(this.infoScrollViewContent.parent.parent.worldPosition.x,this.infoBoard.worldPosition.y,0));var i=this.infoScrollViewContent.children[o].position;this.infoScrollViewContent.parent.parent.getComponent(S).scrollToOffset(new w(i.x-this.infoScrollViewContent.children[o].getComponent(N).width,0),.5)}this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Index").getComponent(d).string=n.toString()}else F.getInstace().showMessage("武器已排最前，无法再左移")},i.moveWeaponToRight=function(){var e=parseInt(this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Index").getComponent(d).string);if(e!=this.infoScrollViewContent.children.length-1){this.audioManager.playOneShot(this.audioManager.buttonAudio);var t=[].concat(this.infoScrollViewContent.children);this.infoScrollViewContent.removeAllChildren();for(var o=e,n=e+1,a=0;a<t.length;a++)a==n?this.infoScrollViewContent.addChild(t[o]):a==o?this.infoScrollViewContent.addChild(t[n]):this.infoScrollViewContent.addChild(t[a]);this.infoBoard.setWorldPosition(new v(this.infoScrollViewContent.children[o].getWorldPosition()).add3f(0,260,0)),this.infoBoard.getChildByName("Button Layout").getChildByName("Sell Button").getChildByName("Index").getComponent(d).string=n.toString()}else F.getInstace().showMessage("武器已排最后，无法再右移")},i.listPropertyItem=function(){var e=this;this.propertyScrollViewContent.removeAllChildren();var t=this.player.getComponent(H).allPlayerData,o=function(){var o=f(e.propertyItemPrefab);b.load(t[n].picPath,I,(function(e,t){o.getChildByName("Sprite").getComponent(c).spriteFrame=t})),t[n].isPercent?o.getChildByName("Label").getComponent(B).string="<b>"+t[n].zhName+":<color=5fcde4>"+(100*t[n].value).toFixed(1)+"%</color></b>":o.getChildByName("Label").getComponent(B).string="<b>"+t[n].zhName+":<color=5fcde4>"+t[n].value.toFixed(1)+"</color></b>",o.name=n,e.propertyScrollViewContent.addChild(o)};for(var n in t)o()},i.showExplainBoard=function(e){for(var t=e.getUILocation(),o=this.propertyScrollViewContent.getComponent(N).convertToNodeSpaceAR(new v(t.x,t.y,0)),n=0;n<this.propertyScrollViewContent.children.length;n++){var a=this.propertyScrollViewContent.children[n];if(a.getComponent(N).getBoundingBox().contains(new w(o.x,o.y))){this.explainBoard.active=!0,this.explainBoard.getChildByName("Sprite").getComponent(c).spriteFrame=a.getChildByName("Sprite").getComponent(c).spriteFrame,this.explainBoard.getChildByName("Label").getComponent(d).string=this.player.getComponent(H).allPlayerData[a.name].zhExplain,this.explainBoard.setWorldPosition(new v(a.getWorldPosition()).add3f(400,0,0));break}}},i.hideExplainBoard=function(){this.explainBoard.active=!1},i.revive=function(){localStorage.setItem("dodge-ball-ad-type","Revive"),this.playAd()},i.reviveReward=function(){this.isAlreadyRevived=!0,g("Canvas/Game Over").active=!1,g("Canvas/Game Over/Button Layout/Home Button").active=!1,g("Canvas/Game Over/Button Layout/Revive Button").active=!1,g("Canvas/UI/Pause Button").active=!0,this.player.getComponent(H).recoverAllHP(),this.player.setPosition(0,0,0),this.player.getChildByName("Weapon").getComponent(R).initAllWeapons(),this.player.getComponent(H).changeFace("normal"),this.player.getComponent(H).beInvicibleForAWhile();for(var e=0;e<5;e++)this.monsterLayer.children.forEach((function(e){e&&e.getComponent(W)&&e.getComponent(W).die()}));this.gameState="PLAY_STATE",this.saveGameData(),F.getInstace().showMessage("满血复活并且已为您清除怪物",2)},i.spawnPropertyEffect=function(e,t,o){var n=this;void 0===o&&(o=1.5),this.player.getComponent(H).changeFace("triggered");for(var a=0;a<this.effectTriggeredLayout.children.length;a++)if(this.effectTriggeredLayout.children[a].name==e)return;var i=f(this.propertyEffectPrefab);i.name=e,b.load(t,I,(function(e,t){i.getComponent(c).spriteFrame=t})),this.effectTriggeredLayout.addChild(i);var r=0;this.schedule((function e(){var t=i.getComponent(M).opacity;i.getComponent(M).opacity=100==t?255:100,(r+=.3)>=o&&(n.unschedule(e),i.removeFromParent(),n.player.getComponent(H).changeFace("normal"))}),.3)},i.playAd=function(){var e=this;localStorage.setItem("dodge-ball-love-author","1"),this.audioManager.playOneShot(this.audioManager.buttonAudio),this.adManager.gameBoxAd?this.adManager.showGameBoxVideoAd():p.platform==p.Platform.WECHAT_GAME?this.adManager.showWxVideoAd((function(){F.getInstace().showMessage("广告播放失败，请重试",1)})):p.platform==p.Platform.BYTEDANCE_MINI_GAME?this.adManager.showTtVideoAd((function(){F.getInstace().showMessage("广告播放失败，请重试",1)})):p.platform==p.Platform.ANDROID?(this.adManager.loadTakuVideoAd(),setTimeout((function(){e.adManager.showTakuVideoAd()}),2e3)):F.getInstace().showMessage("广告暂未开通",1)},i.addAchievement=function(e){this.achievementToShowArray=this.achievementToShowArray.concat(e)},i.showAchievement=function(){var e=this;if(!this.isShowingAchievement&&this.achievementToShowArray.length){this.isShowingAchievement=!0;var t=this.achievementToShowArray.shift();b.load("achievement/"+t.id+"/spriteFrame",I,(function(o,n){e.achievementNotice.getChildByName("Sprite").getComponent(c).spriteFrame=n,e.achievementNotice.getChildByName("Label").getComponent(d).string=t.name,e.achievementNotice.getChildByName("Diamond Layout").getChildByName("Label").getComponent(d).string="+"+t.diamond.toString()})),this.audioManager.playOneShot(this.audioManager.achieveAudio),L.getInstace().showFromRightSide(this.achievementNotice,(function(){e.isShowingAchievement=!1}))}},i.updateDiamondNum=function(e){var t=parseInt(localStorage.getItem("dodge-ball-diamond"));t+=e,localStorage.setItem("dodge-ball-diamond",t.toString()),g("Canvas/UI/Diamond Layout/Diamond Count").getComponent(d).string=t.toString(),L.getInstace().showNumFromBigToNormalTween(g("Canvas/UI/Diamond Layout/Diamond Count"))},i.showShopItems=function(){var e=this,t=JSON.parse(localStorage.getItem("dodge-ball-shop-item"));if(t.length){this.shopItemContent.removeAllChildren();for(var o=k.getInstace().allItemData,n=function(){var n=f(e.shopItemToUsePrefab);e.shopItemContent.addChild(n),n.name=t[a],n.setPosition(new v(n.position).add3f(0,4,0)),b.load(o[t[a]].picPath,I,(function(e,t){n.getComponent(c).spriteFrame=t}));n.on(y.EventType.CLICK,(function(t){e.onShopItemUsed(t.node,t.node.name)}),e)},a=0;a<t.length;a++)n()}else this.shopItemContent.active=!1},i.onShopItemUsed=function(e,t){var o=this,n=JSON.parse(localStorage.getItem("dodge-ball-shop-item"));n.splice(n.indexOf(t),1),localStorage.setItem("dodge-ball-shop-item",JSON.stringify(n)),e.removeFromParent(),this.audioManager.playOneShot(this.audioManager.shopItemAudio),this.shopItemContent.children.length||(this.shopItemContent.active=!1);var a=k.getInstace().allItemData;if("smallPill"==t)this.player.setScale(this.player.scale.x/2,this.player.scale.y/2),this.scheduleOnce((function(){o.player.setScale(2*o.player.scale.x,2*o.player.scale.y)}),a.smallPill.duration),this.spawnPropertyEffect("smallPill",a.smallPill.picPath,a.smallPill.duration);else if("stealthPotion"==t)this.player.getComponent(H).stealth(),this.scheduleOnce((function(){o.player.getComponent(H).stopStealth()}),a.stealthPotion.duration),this.spawnPropertyEffect("stealthPotion",a.stealthPotion.picPath,a.stealthPotion.duration);else if("criticalHitGlove"==t)this.player.getComponent(H).allPlayerData.criticalHitRate.value+=.3,this.player.getComponent(H).allPlayerData.criticalHit.value+=20,this.scheduleOnce((function(){o.player.getComponent(H).allPlayerData.criticalHitRate.value-=.3,o.player.getComponent(H).allPlayerData.criticalHit.value-=20}),a.criticalHitGlove.duration),this.spawnPropertyEffect("criticalHitGlove",a.criticalHitGlove.picPath,a.criticalHitGlove.duration);else if("healthPotion"==t)this.player.getComponent(H).recoverSomeHP(20);else if("flashMedal"==t)this.player.getComponent(H).allPlayerData.speed.value*=10,this.player.getComponent(H).allPlayerData.speed.value+=6,this.scheduleOnce((function(){o.player.getComponent(H).allPlayerData.speed.value-=6,o.player.getComponent(H).allPlayerData.speed.value/=10}),a.flashMedal.duration),this.spawnPropertyEffect("flashMedal",a.flashMedal.picPath,a.flashMedal.duration);else if("absorbPower"==t){for(var i=0;i<5;i++)g("Canvas/Coin Layer").children.forEach((function(e){e.name.indexOf("coin")>-1&&o.player.getComponent(H).collectCoin(e)})),g("Canvas/Exp Layer").children.forEach((function(e){e.name.indexOf("exp")>-1&&o.player.getComponent(H).collectExp(e)}));this.spawnPropertyEffect("absorbPower",a.absorbPower.picPath,a.absorbPower.duration)}},i.pause=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),g("Canvas/UI/Pause Button").active=!1,g("Canvas/UI/Button Layout").active=!0,P.pause()},i.resume=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),g("Canvas/UI/Pause Button").active=!0,g("Canvas/UI/Button Layout").active=!1,P.resume()},i.goHomeAfterPause=function(){this.saveGameData(),P.resume(),this.goHome()},i.saveGameData=function(){for(var e=[],t=this.player.getChildByName("Weapon").children,o=0;o<t.length;o++){var n=t[o].children[0].getComponent(d).string,a=t[o].children[1].getComponent(d).string,i=t[o].children[2].name;e.push([i,n,a])}var r={waveCount:this.waveCount,weaponInfo:e,talentInfo:this.startTalentKeyArray,coinNum:parseInt(g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string),score:this.score,isRevived:this.isAlreadyRevived,countDownSeconds:this.countDownSeconds,orthoHeight:g("Canvas/Camera2").getComponent(m).orthoHeight,levelInfo:this.player.getComponent(H).getLevelInfo(),allPlayerData:this.player.getComponent(H).allPlayerData,maxWeaponSlotNum:this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum};localStorage.setItem("dodge-ball-resume-data",JSON.stringify(r))},i.showConfirmationBoardForWeaponAddButton=function(){this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum>=20?F.getInstace().showMessage("无法再增加更多武器槽",1.5):(this.audioManager.playOneShot(this.audioManager.buttonAudio),this.confirmBoard.active=!0,this.confirmBoard.getChildByName("Label").getComponent(d).string="是否花费50000金币和100钻石新增一个武器槽?",this.confirmBoard.getChildByName("Confirm Button").on(y.EventType.CLICK,this.increaseWeaponSlotMaxNumber,this),this.confirmBoard.getChildByName("Confirm Button").getChildByName("Label").getComponent(d).string="确定",this.confirmBoard.getChildByName("Cancel Button").on(y.EventType.CLICK,this.hideConfirmationBoardForWeaponAddButton,this))},i.hideConfirmationBoardForWeaponAddButton=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),this.confirmBoard.active=!1,this.confirmBoard.getChildByName("Confirm Button").off(y.EventType.CLICK,this.increaseWeaponSlotMaxNumber,this),this.confirmBoard.getChildByName("Cancel Button").off(y.EventType.CLICK,this.hideConfirmationBoardForWeaponAddButton,this)},i.increaseWeaponSlotMaxNumber=function(){var e=parseInt(this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string),t=parseInt(this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Diamond Layout").getChildByName("Diamond Count").getComponent(d).string);if(e<5e4||t<100)return F.getInstace().showMessage("金币或钻石不足，需要50000金币和100钻石",1.5),void(this.confirmBoard.active=!1);this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum+=1;var o=e-5e4,n=t-100;g("Canvas/UI/Coin Layout/Coin Count").getComponent(d).string=o.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Coin Layout").getChildByName("Coin Count").getComponent(d).string=o.toString(),g("Canvas/UI/Diamond Layout/Diamond Count").getComponent(d).string=n.toString(),this.updatePage.getChildByName("Weapon And Talent Info").getChildByName("Tab Layout").getChildByName("Diamond Layout").getChildByName("Diamond Count").getComponent(d).string=n.toString(),localStorage.setItem("dodge-ball-diamond",n.toString()),g("Canvas/Update Page/Weapon And Talent Info/Tab Layout/Weapon Button/Label").getComponent(d).string="持有武器"+this.infoScrollViewContent.children.length+"/"+this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum,F.getInstace().showMessage("武器槽数量已+1，当前武器槽数量为"+this.player.getChildByName("Weapon").getComponent(R).maxWeaponSlotNum,1.5),this.confirmBoard.active=!1},i.update=function(e){z.getInstace().checkGameAchievements(this),this.showAchievement()},t}(T)).prototype,"player",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(Be.prototype,"scoreNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Be.prototype,"countDownNode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(Be.prototype,"waveCountNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(Be.prototype,"choosePage",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Be.prototype,"updatePage",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(Be.prototype,"monsterLayer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Be.prototype,"coinLayer",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Be.prototype,"diamondLayer",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Be.prototype,"expLayer",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Be.prototype,"monsterPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Be.prototype,"coinPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Be.prototype,"expPrefab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(Be.prototype,"diamondPrefab",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Be.prototype,"infoScrollViewContent",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Be.prototype,"infoItemPrefab",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Be.prototype,"propertyScrollViewContent",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(Be.prototype,"propertyItemPrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Be.prototype,"infoBoard",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Be.prototype,"explainBoard",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Be.prototype,"propertyEffectPrefab",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Be.prototype,"effectTriggeredLayout",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Be.prototype,"achievementNotice",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(Be.prototype,"warningPrefab",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Be.prototype,"shopItemToUsePrefab",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(Be.prototype,"shopItemContent",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Be.prototype,"confirmBoard",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=Be))||fe));i._RF.pop()}}}));

System.register("chunks:///_virtual/Home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Achievements.ts","./AudioManager.ts","./Utils.ts","./AdManager.ts","./MonsterData.ts","./WeaponData.ts","./ItemData.ts"],(function(e){var t,a,n,o,i,l,r,s,g,c,d,u,h,m,p,f,y,b,v,S,C,B,I,M,N,w,A,k,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,r=e.Node,s=e.Prefab,g=e.sys,c=e.find,d=e.director,u=e.game,h=e.Label,m=e.resources,p=e.SpriteFrame,f=e.Sprite,y=e.ScrollView,b=e.Toggle,v=e.EventHandler,S=e.Component,C=e.instantiate,B=e.Button},function(e){I=e.Achievements},function(e){M=e.AudioManager},function(e){N=e.Utils},function(e){w=e.AdManager},function(e){A=e.MonsterData},function(e){k=e.WeaponData},function(e){P=e.ItemData}],execute:function(){var O,T,D,L,E,z,J,V,U,G,F,H,x,R,W,j,_,K,Y,Z,$,q,Q,X,ee,te,ae,ne,oe,ie,le,re,se;i._RF.push({},"1b40foSsWJBGYoYvRReJZNR","Home",void 0);var ge=l.ccclass,ce=l.property;e("Home",(O=ge("Home"),T=ce({type:r}),D=ce({type:r}),L=ce({type:r}),E=ce({type:r}),z=ce({type:r}),J=ce({type:r}),V=ce({type:r}),U=ce({type:s}),G=ce({type:s}),F=ce({type:r}),H=ce({type:r}),x=ce({type:r}),R=ce({type:r}),W=ce({type:r}),j=ce({type:s}),O((Y=t((K=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"bestScore",Y,o(t)),n(t,"settingsBGMToggle",Z,o(t)),n(t,"settingsSoundEffectToggle",$,o(t)),n(t,"settingsJoystickToggle",q,o(t)),n(t,"settingsAutoAimToggle",Q,o(t)),n(t,"settingsSlideToggle",X,o(t)),n(t,"achievementScrollViewContent",ee,o(t)),n(t,"achievementPrefab",te,o(t)),n(t,"bookItemPrefab",ae,o(t)),n(t,"bookPage",ne,o(t)),n(t,"bookScrollViewContent",oe,o(t)),n(t,"infoBoard",ie,o(t)),n(t,"shopPage",le,o(t)),n(t,"shopScrollViewContent",re,o(t)),n(t,"shopItemPrefab",se,o(t)),t.adManager=null,t.audioManager=null,t}a(t,e);var i=t.prototype;return i.start=function(){this.initNodesAndComponents(),this.getBestScore(),this.initSettings(),this.initAchievements(),this.initDiamondNum(),this.initShopItemLocalStorage()},i.initShopItemLocalStorage=function(){localStorage.getItem("dodge-ball-shop-item")||localStorage.setItem("dodge-ball-shop-item",JSON.stringify([]))},i.checkPrivacyPolicy=function(){g.platform==g.Platform.ANDROID?localStorage.getItem("dodge-ball-privacy-policy")?this.adManager.initAd():(c("Canvas/Privacy Policy").active=!0,c("Canvas/UI").active=!1):this.adManager.initAd()},i.disagreePrivacyPolicy=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),d.end(),u.end()},i.agreePrivacyPolicy=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),localStorage.setItem("dodge-ball-privacy-policy","1"),c("Canvas/Privacy Policy").active=!1,c("Canvas/UI").active=!0,this.adManager.initAd()},i.initNodesAndComponents=function(){this.adManager=c("Ad Manager").getComponent(w),this.audioManager=c("Audio Manager").getComponent(M),localStorage.getItem("dodge-ball-resume-data")&&(c("Canvas/UI/Mode Button Layout/Resume Button").active=!0)},i.initDiamondNum=function(){var e=c("Canvas/UI/Diamond Layout/Diamond Count");localStorage.getItem("dodge-ball-diamond")?e.getComponent(h).string=localStorage.getItem("dodge-ball-diamond"):localStorage.setItem("dodge-ball-diamond","0"),e.parent.on(r.EventType.TOUCH_START,this.showDiamonExplainBoard,this)},i.showDiamonExplainBoard=function(){N.getInstace().showMessage("钻石用于武器升级和购买场外道具, 可以通过成就或者打怪获取",2)},i.getBestScore=function(){localStorage.getItem("dodge-ball-best-wave")&&localStorage.getItem("dodge-ball-best-score")&&(this.bestScore.getComponent(h).string="历史最高波次和分数: 第"+parseInt(localStorage.getItem("dodge-ball-best-wave"))+"波 - "+parseInt(localStorage.getItem("dodge-ball-best-score"))+"分")},i.startGame=function(){localStorage.getItem("dodge-ball-resume-data")?this.showConfirmBoard():(this.audioManager.playOneShot(this.audioManager.buttonAudio,1),d.loadScene("Game"))},i.resumeGame=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio,1),d.loadScene("Game")},i.showConfirmBoard=function(){this.audioManager.playOneShot(this.audioManager.messageAudio),c("Canvas/Confirm Board").active=!0},i.onCancel=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),c("Canvas/Confirm Board").active=!1},i.onConfirm=function(){localStorage.removeItem("dodge-ball-resume-data"),this.audioManager.playOneShot(this.audioManager.buttonAudio,1),d.loadScene("Game")},i.showInfoBoard=function(e,t){var a=this;this.infoBoard.active=!0;var n=null,o="";"monster"==t?(n=A.getInstace().allMonsterData[e],this.infoBoard.getChildByName("Title").getChildByName("Label").getComponent(h).string=n.zhName,o+="基础生命值: "+n.effect.hp.value+"\n",o+="攻击力: "+n.effect.damage.value+"\n",o+="出现: 第"+n.showAtLevel+"波\n",o+="经验: "+n.exp+"\n",o+="金币: "+n.coin+"\n",o+="钻石: "+n.diamondNum+"\n",o+="钻石掉落率: "+n.diamondChance+"%\n",n.skill?o+="技能: "+n.skill.zhDesc:o+="技能: 无"):(n=k.getInstace().allWeaponData[e],this.infoBoard.getChildByName("Title").getChildByName("Label").getComponent(h).string=n.zhName,o+="简介: "+n.intro+"\n",o+="价格: $"+n.price+"\n",o+="攻击力: "+n.effect.damage.value+"\n",o+="冷却时间: "+n.effect.cd.value+"秒\n"),m.load(n.picPath,p,(function(e,t){a.infoBoard.getChildByName("Pic").getComponent(f).spriteFrame=t})),this.infoBoard.getChildByName("Desc ScrollView").children[0].children[0].getComponent(h).string=o,this.infoBoard.getChildByName("Desc ScrollView").getComponent(y).scrollToTop()},i.closeInfoBoard=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),this.infoBoard.active=!1},i.initBook=function(e){var t=this;this.bookScrollViewContent.removeAllChildren();var a=null;a="monster"==e?A.getInstace().allMonsterData:k.getInstace().allWeaponData;for(var n=function(){var n=i[o],l=C(t.bookItemPrefab);l.name=n,t.bookScrollViewContent.addChild(l),m.load(a[n].picPath,p,(function(e,t){l.getChildByName("Sprite").getComponent(f).spriteFrame=t,l.getChildByName("Label").getComponent(h).string=a[n].zhName}));l.getChildByName("Sprite").on(B.EventType.CLICK,(function(a){t.audioManager.playOneShot(t.audioManager.buttonAudio),t.showInfoBoard(a.node.parent.name,e)}),t)},o=0,i=Object.keys(a);o<i.length;o++)n();this.bookScrollViewContent.parent.parent.getComponent(y).scrollToTop()},i.openBook=function(e,t){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.bookPage.active=!0,c("Canvas/UI").active=!1,this.bookPage.getChildByName("Title").getComponent(h).string="monster"==t?"怪物图鉴":"武器图鉴",this.initBook(t)},i.closeBook=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),this.bookPage.active=!1,this.infoBoard.active=!1,c("Canvas/UI").active=!0},i.initShop=function(){var e=this;this.shopScrollViewContent.removeAllChildren();for(var t=JSON.parse(localStorage.getItem("dodge-ball-shop-item")),a=P.getInstace().allItemData,n=function(){var n=i[o],l=C(e.shopItemPrefab);l.name=n,e.shopScrollViewContent.addChild(l),m.load(a[n].picPath,p,(function(e,t){l.getChildByName("Pic").getComponent(f).spriteFrame=t,l.getChildByName("Name").getComponent(h).string=a[n].zhName})),l.getChildByName("Buy Button").getChildByName("Label").getComponent(h).string=a[n].diamond;if(l.getChildByName("Pic").on(B.EventType.CLICK,(function(e){N.getInstace().showMessage(a[e.node.parent.name].zhDesc,1.5)}),e),t.indexOf(n)>-1)l.getChildByName("Buy Button").getChildByName("Sprite").active=!1,l.getChildByName("Buy Button").getChildByName("Label").active=!1,l.getChildByName("Buy Button").getChildByName("Possed Label").active=!0;else{l.getChildByName("Buy Button").on(B.EventType.CLICK,(function(t){e.buyShopItem(t.node,t.node.parent.name)}),e),l.getChildByName("Buy Button").getChildByName("Sprite").active=!0,l.getChildByName("Buy Button").getChildByName("Label").active=!0,l.getChildByName("Buy Button").getChildByName("Possed Label").active=!1}},o=0,i=Object.keys(a);o<i.length;o++)n()},i.openShop=function(e,t){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.shopPage.active=!0,c("Canvas/UI").children.forEach((function(e){"Diamond Layout"!=e.name&&(e.active=!1)})),this.initShop()},i.closeShop=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),this.shopPage.active=!1,this.infoBoard.active=!1,c("Canvas/UI").children.forEach((function(e){e.active=!0}))},i.buyShopItem=function(e,t){if(!e.getChildByName("Possed Label").active){var a=P.getInstace().allItemData,n=parseInt(localStorage.getItem("dodge-ball-diamond"));if(n<a[t].diamond)N.getInstace().showMessage("钻石不足",1.5);else{this.audioManager.playOneShot(this.audioManager.shopItemAudio),n-=a[t].diamond,c("Canvas/UI/Diamond Layout/Diamond Count").getComponent(h).string=n.toString(),localStorage.setItem("dodge-ball-diamond",n.toString());var o=JSON.parse(localStorage.getItem("dodge-ball-shop-item"));o.push(t),localStorage.setItem("dodge-ball-shop-item",JSON.stringify(o)),e.getChildByName("Sprite").active=!1,e.getChildByName("Label").active=!1,e.getChildByName("Possed Label").active=!0}}},i.initAchievements=function(){for(var e=this,t=I.getInstace().getAchievedIdArray(),a=I.getInstace().getAllGameAchievements(),n=function(){var n=a[o],i=C(e.achievementPrefab);i.name=n.desc,e.achievementScrollViewContent.addChild(i),m.load("achievement/"+n.id+"/spriteFrame",p,(function(e,t){i.getChildByName("Sprite").getComponent(f).spriteFrame=t,i.getChildByName("Label").getComponent(h).string=n.name}));i.getChildByName("Sprite").on(B.EventType.CLICK,(function(e){N.getInstace().showMessage(e.node.parent.name,1)}),e),t.indexOf(n.id)>-1&&(i.getChildByName("Sprite").getComponent(f).grayscale=!1)},o=0;o<a.length;o++)n()},i.showAchievements=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio),this.achievementScrollViewContent.parent.parent.active=!0,c("Canvas/UI").active=!1},i.hideAchievements=function(){this.audioManager.playOneShot(this.audioManager.closeAduio),this.achievementScrollViewContent.parent.parent.active=!1,c("Canvas/UI").active=!0},i.initSettings=function(){var e=this.settingsBGMToggle.getComponent(b),t=this.settingsSoundEffectToggle.getComponent(b),a=this.settingsJoystickToggle.getComponent(b),n=this.settingsSlideToggle.getComponent(b);if(e.checkEvents=[],t.checkEvents=[],a.checkEvents=[],n.checkEvents=[],localStorage.getItem("dodge-ball-settings")){var o=JSON.parse(localStorage.getItem("dodge-ball-settings"));e.isChecked=o.bgm,t.isChecked=o.soundEffect,a.isChecked=o.joystick,null==o.isSlide?(n.isChecked=!0,o.isSlide=!0,localStorage.setItem("dodge-ball-settings",JSON.stringify(o))):n.isChecked=o.isSlide}else localStorage.setItem("dodge-ball-settings",JSON.stringify({bgm:!0,soundEffect:!0,joystick:!1,isSlide:!0}));var i=new v;i.target=c("Audio Manager"),i.component="AudioManager",i.handler="switchBGM";var l=new v;l.target=c("Audio Manager"),l.component="AudioManager",l.handler="switchSoundEffect";var r=new v;r.target=c("Canvas"),r.component="Home",r.handler="switchJoystickFixedWay";var s=new v;s.target=c("Canvas"),s.component="Home",s.handler="switchBgSlide",e.checkEvents.push(i),t.checkEvents.push(l),a.checkEvents.push(r),n.checkEvents.push(s)},i.showSettings=function(){c("Canvas/UI").active=!1,c("Canvas/Settings ScrollView").active=!0,this.audioManager.playOneShot(this.audioManager.buttonAudio)},i.hideSettings=function(){c("Canvas/UI").active=!0,c("Canvas/Settings ScrollView").active=!1,this.audioManager.playOneShot(this.audioManager.closeAduio)},i.switchJoystickFixedWay=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio);var e=JSON.parse(localStorage.getItem("dodge-ball-settings"));e.joystick=!e.joystick,localStorage.setItem("dodge-ball-settings",JSON.stringify(e))},i.switchAimingWay=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio);var e=JSON.parse(localStorage.getItem("dodge-ball-settings"));e.isAutoAim=!e.isAutoAim,localStorage.setItem("dodge-ball-settings",JSON.stringify(e))},i.switchBgSlide=function(){this.audioManager.playOneShot(this.audioManager.buttonAudio);var e=JSON.parse(localStorage.getItem("dodge-ball-settings"));e.isSlide=!e.isSlide,localStorage.setItem("dodge-ball-settings",JSON.stringify(e))},i.update=function(e){},t}(S)).prototype,"bestScore",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(K.prototype,"settingsBGMToggle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(K.prototype,"settingsSoundEffectToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(K.prototype,"settingsJoystickToggle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"settingsAutoAimToggle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(K.prototype,"settingsSlideToggle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(K.prototype,"achievementScrollViewContent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(K.prototype,"achievementPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(K.prototype,"bookItemPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(K.prototype,"bookPage",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(K.prototype,"bookScrollViewContent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(K.prototype,"infoBoard",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(K.prototype,"shopPage",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(K.prototype,"shopScrollViewContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(K.prototype,"shopItemPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=K))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,i=e._decorator,o=e.Component}],execute:function(){var n,l;a._RF.push({},"4bb93HpbQFHQKCfl12//QPq","ItemData",void 0);var r=i.ccclass;i.property,e("ItemData",r("ItemData")(((l=function(e){function a(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).allItemData={healthPotion:{key:"healthPotion",enName:"Health Potion",zhName:"治疗药水",zhDesc:"立即恢复20点血量",diamond:5,duration:0,picPath:"shop/healthPotion/spriteFrame"},smallPill:{key:"smallPill",enName:"Small Pill",zhName:"变小药丸",zhDesc:"可以让玩家变小，持续时间5秒",diamond:5,duration:5,picPath:"shop/smallPill/spriteFrame"},stealthPotion:{key:"stealthPotion",enName:"Stealth Potion",zhName:"6号隐身药水",zhDesc:"可以让玩家隐身，隐身期间不会被攻击到，持续时间6秒",diamond:6,duration:6,picPath:"shop/stealthPotion/spriteFrame"},criticalHitGlove:{key:"criticalHitGlove",enName:"criticalHitGlove",zhName:"暴击拳套",zhDesc:"瞬间提高30%的暴击率和20点的暴击伤害，持续时间4秒",diamond:6,duration:3,picPath:"shop/criticalHitGlove/spriteFrame"},flashMedal:{key:"flashMedal",enName:"flashMedal",zhName:"闪电勋章",zhDesc:"获得闪电之力，瞬间提高100%移动速度，持续时间5秒，躲避BOSS时有大用",diamond:4,duration:5,picPath:"shop/flashMedal/spriteFrame"},absorbPower:{key:"absorbPower",enName:"Absorb Power",zhName:"吸取之力",zhDesc:"将当前全场未捡的金币和经验全部吸取过来",diamond:10,duration:0,picPath:"shop/absorbPower/spriteFrame"}},t}t(a,e);var i=a.prototype;return i.start=function(){},a.getInstace=function(){return null==this._instance&&(this._instance=new a),this._instance},i.update=function(e){},a}(o))._instance=null,n=l))||n);a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Start.ts","./Achievements.ts","./AdManager.ts","./ATBannerTSSDK.ts","./ATIntersitialAutoTSSDK.ts","./ATIntersitialTSSDK.ts","./ATJSSDK.ts","./ATNativeTSSDK.ts","./ATRewardedAutoVideoTSSDK.ts","./ATRewardedVideoTSSDK.ts","./ATAndroidBannerTS.ts","./ATAndroidIntersitialAutoTS.ts","./ATAndroidIntersitialTS.ts","./ATAndroidJS.ts","./ATAndroidNativeTS.ts","./ATAndroidRewardedVideoAutoTS.ts","./ATAndroidRewardedVideoTS.ts","./ATiOSBannerTS.ts","./ATiOSIntersitiaAutolTS.ts","./ATiOSIntersitialTS.ts","./ATiOSJS.ts","./ATiOSNativeTS.ts","./ATiOSRewardedAutoVideoTS.ts","./ATiOSRewardedVideoTS.ts","./AudioManager.ts","./Background.ts","./Bullet.ts","./CollisionManager.ts","./DouyinSidebar.ts","./GameManager.ts","./Home.ts","./ItemData.ts","./Monster.ts","./MonsterData.ts","./Phantom.ts","./Player.ts","./PlayerData.ts","./PlayerJoystick.ts","./QuadTree.ts","./TalentData.ts","./TweenToolbox.ts","./Utils.ts","./WeaponData.ts","./WeaponJoystick.ts","./WeaponManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./TalentData.ts"],(function(t){var e,a,n,o,s,i,r,h,d,m,l,g,c,p,u,M;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,o=t.find,s=t.resources,i=t.SpriteFrame,r=t.Sprite,h=t.Color,d=t.UITransform,m=t.Vec3,l=t.Label,g=t.instantiate,c=t.tween,p=t.Component},function(t){u=t.GameManager},function(t){M=t.TalentData}],execute:function(){var f;a._RF.push({},"f15e2I7xq5NuqLDnpzlvWUO","Monster",void 0);var v=n.ccclass;n.property,t("Monster",v("Monster")(f=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).monsterData=null,e.speed=1,e.damage=0,e.isDead=!1,e.isBoss=!1,e.isStealth=!1,e.isInvincible=!1,e.isSpecial=!1,e.isSplitted=!1,e.monsterColor=new h(255,255,255,255),e.dir=null,e.startPos=null,e.rotateTween=null,e.gameManager=null,e}e(a,t);var n=a.prototype;return n.start=function(){},n.initNodesAndComponents=function(){this.gameManager=o("Canvas").getComponent(u)},n.setMonsterData=function(t,e,a){void 0===e&&(e=!1),void 0===a&&(a=!1),this.initNodesAndComponents(),this.isDead=!1,this.isBoss=e,this.isStealth=!1,this.isSpecial=!1,this.isSplitted=a,this.isInvincible=!1,this.monsterData=t,this.isBoss?(this.speed=1.2*t.effect.speed.value,this.damage=3*t.effect.damage.value,this.setMonsterPicAndSize(t.picPath,3*t.maxScale),this.setHP(3*t.effect.hp.value)):a?(this.speed=t.effect.speed.value/5,this.damage=8,this.setMonsterPicAndSize(t.picPath,t.maxScale/5),this.setHP(t.effect.hp.value/10)):(this.speed=t.effect.speed.value,this.damage=t.effect.damage.value,this.setMonsterPicAndSize(t.picPath,t.maxScale),this.setHP(t.effect.hp.value)),this.setRandomColor(),a||this.setRandomStartPos(),this.rotate(),"Monster6"==this.monsterData.key&&this.stealth()},n.setMonsterPicAndSize=function(t,e){var a=this;s.load(t,i,(function(t,n){if(a.node.getComponent(r).spriteFrame=n,a.isSplitted){var o=Math.round(.5*Math.random())+.5;a.node.setScale(o,o),a.speed-=.1*o}else{var s=Math.round(Math.random()*e)+1;a.node.setScale(s,s),a.speed-=.1*s}}))},n.setRandomColor=function(){var t=Math.round(200*Math.random())+55,e=Math.round(200*Math.random())+55,a=Math.round(200*Math.random())+55;this.node.getComponent(r).color=new h(t,e,a,255),this.monsterColor=new h(t,e,a,255)},n.setRandomStartPos=function(){var t=this,e=o("Canvas"),a=o("Canvas").getComponent(u).camerOrthoHeightScale,n=e.getComponent(d).width*a,s=e.getComponent(d).height*a,i=this.node.getComponent(d).width*this.node.scale.x,r=this.node.getComponent(d).height*this.node.scale.y,h=0,l=0,g=Math.floor(4*Math.random());0==g?(h=Math.random()*n-n/2,l=s/2+r):1==g?(h=Math.random()*n-n/2,l=-s/2-r):2==g?(h=-n/2-i,l=Math.random()*s-s/2):(h=n/2+i,l=Math.random()*s-s/2),this.startPos=new m(h,l,0),this.node.setPosition(h,l,0);var c=o("Canvas/Player").position;if(this.dir=new m(this.node.position).subtract(c).normalize(),this.isBoss){this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.warningAudio);var p=0,M=new m(this.dir);this.schedule((function e(){var a=t.gameManager.player.getComponent(d).getBoundingBoxToWorld().width,n=t.gameManager.player.getComponent(d).getBoundingBoxToWorld().height;o("Canvas/Warning").setPosition(new m(t.gameManager.player.position).add3f(M.x*a*1.7,M.y*n*1.7,0)),(p+=1)>=100&&(o("Canvas/Warning").setPosition(1e5,1e5,0),t.unschedule(e))}))}},n.setHP=function(t){var e=Math.round(Math.random()*(t+Math.round(this.gameManager.waveCount/30*t)))+Math.round(t/2);this.node.getChildByName("HP").getComponent(l).string=e.toString()},n.die=function(){if(this.gameManager){if("Monster9"==this.monsterData.key&&!this.isSplitted)for(var t=Math.floor(3*Math.random())+3,e=0;e<t;e++){var n=g(this.gameManager.monsterPrefab);n.getComponent(a).setMonsterData(this.monsterData,!1,!0),n.getComponent(a).startPos=new m(this.node.position).add3f(100*Math.random()-50,100*Math.random()-50,0),n.setPosition(n.getComponent(a).startPos),this.gameManager.monsterLayer.addChild(n),n.name=this.monsterData.key}if(this.isBoss)this.gameManager.spawnCoin(this.node.position,2*this.monsterData.coin),this.gameManager.spawnExp(this.node.position,2*this.monsterData.exp),100*Math.random()<=this.monsterData.diamondChance+10&&this.gameManager.spawnDiamond(this.node.position,2*this.monsterData.diamondNum);else if(!this.isSplitted)this.gameManager.spawnCoin(this.node.position,this.monsterData.coin),this.gameManager.spawnExp(this.node.position,this.monsterData.exp),100*Math.random()<=this.monsterData.diamondChance&&this.gameManager.spawnDiamond(this.node.position,this.monsterData.diamondNum);this.isDead=!0,this.gameManager.killedMonsterNum+=1,this.gameManager.monsterNodePool.put(this.node),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.disappearAudio),o("Canvas/Warning").setPosition(1e5,1e5,0),this.unscheduleAllCallbacks()}},n.gotHit=function(t){var e=this;this.node.getComponent(r).color=h.RED,this.scheduleOnce((function(){e.node.getComponent(r).color=e.monsterColor}),.05);var a=parseInt(this.node.getChildByName("HP").getComponent(l).string);!this.isBoss&&M.getInstace().allTalentData.quantumEntanglement.isInited&&100*Math.random()<1?(this.gameManager.updateScore(a),this.die(),this.gameManager.spawnPropertyEffect("quantumEntanglement",M.getInstace().allTalentData.quantumEntanglement.picPath)):a>t?(this.gameManager.updateScore(t),this.node.getChildByName("HP").getComponent(l).string=(a-t).toString(),this.beInvicibleForAWhile()):(this.gameManager&&this.gameManager.updateScore(a),this.die())},n.move=function(){if(!this.dir||this.isBoss&&100*Math.random()<5){var t=o("Canvas/Player").position;this.dir=new m(this.node.position).subtract(t).normalize()}if("Monster3"==this.monsterData.key)100*Math.random()<=1?(this.speed+=1,this.speed>=5&&(this.speed=5)):100*Math.random()>=98&&(this.speed-=1,this.speed<=1&&(this.speed=1));else if("Monster12"==this.monsterData.key){var e=this.node.scale.x;100*Math.random()<=30?((e+=.1)>=6&&(e=6),this.node.setScale(e,e,1)):100*Math.random()>=90&&((e-=.1)<=1&&(e=1),this.node.setScale(e,e,1))}else if("Monster13"==this.monsterData.key){var a=this.node.scale.x;100*Math.random()<=20?((a-=.1)<=.7&&(a=.7),this.node.setScale(a,a,1)):100*Math.random()>=95&&((a+=.1)>=2&&(a=2),this.node.setScale(a,a,1))}var n=new m(this.node.position).subtract3f(this.speed*this.dir.x,this.speed*this.dir.y,0);this.node.setPosition(n),this.checkIsOutOfCanvas(n)},n.checkIsOutOfCanvas=function(t){if(this.startPos&&!this.isBoss){var e=o("Canvas"),a=o("Canvas").getComponent(u).camerOrthoHeightScale,n=e.getComponent(d).width*a,s=e.getComponent(d).height*a,i=this.node.getComponent(d).width*this.node.scale.x,r=this.node.getComponent(d).height*this.node.scale.y;(Math.abs(t.x-this.startPos.x)>n+i||Math.abs(t.y-this.startPos.y)>s+r)&&(this.dir=null,this.unscheduleAllCallbacks(),this.gameManager.monsterNodePool.put(this.node))}},n.rotate=function(){this.rotateTween&&this.rotateTween.stop(),this.rotateTween=c(this.node).by(.1,{angle:-10}).repeatForever().start()},n.beInvicibleForAWhile=function(){var t=this;this.isInvincible=!0,this.scheduleOnce((function(){t.isInvincible=!1}),.2)},n.setSpecialMonsterData=function(t,e){var a=this;this.damage=t,s.load(e,i,(function(t,e){a.node.getComponent(r).spriteFrame=e}))},n.collectExp=function(t){var e=this;t.name="123",c(t).to(.1,{position:new m(this.node.position)},{easing:"sineIn"}).call((function(){e.gameManager.expNodePool.put(t),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.collectAudio)})).start()},n.collectDiamond=function(t){var e=this;t.name="123",c(t).to(.1,{position:new m(this.node.position)},{easing:"sineIn"}).call((function(){e.gameManager.diamondNodePool.put(t),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.diamondAudio)})).start()},n.collectCoin=function(t){var e=this;t.name="123",c(t).to(.1,{position:new m(this.node.position)},{easing:"sineIn"}).call((function(){e.gameManager.coinNodePool.put(t),e.gameManager.audioManager.playOneShot(e.gameManager.audioManager.collectAudio)})).start()},n.stealth=function(){this.isStealth=!0;var t=this.node.getComponent(r).color;this.node.getComponent(r).color=new h(t.r,t.g,t.b,50),this.scheduleOnce(this.stopStealth,3*Math.random()+1.5)},n.stopStealth=function(){this.isStealth=!1;var t=this.node.getComponent(r).color;this.node.getComponent(r).color=new h(t.r,t.g,t.b,255)},n.update=function(t){this.isSpecial||this.move()},a}(p))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var a,m,n,t;return{setters:[function(e){a=e.inheritsLoose},function(e){m=e.cclegacy,n=e._decorator,t=e.Component}],execute:function(){var o,s;m._RF.push({},"0c0b62aN51J845TNoe5Gdse","MonsterData",void 0);var N=n.ccclass;n.property,e("MonsterData",N("MonsterData")(((s=function(e){function m(){for(var a,m=arguments.length,n=new Array(m),t=0;t<m;t++)n[t]=arguments[t];return(a=e.call.apply(e,[this].concat(n))||this).allMonsterData={Monster1:{key:"Monster1",enName:"Monster 1",zhName:"1号怪物",maxScale:1,showAtLevel:1,exp:30,coin:10,diamondChance:1,diamondNum:1,picPath:"monster/Monster1/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:6},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:10}}},Monster2:{key:"Monster2",enName:"Monster 2",zhName:"2号怪物",maxScale:1,showAtLevel:1,exp:30,coin:15,diamondChance:2,diamondNum:1,picPath:"monster/Monster2/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:8},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:16}}},Monster3:{key:"Monster3",enName:"Monster 3",zhName:"3号怪物",maxScale:1,showAtLevel:2,exp:40,coin:20,diamondChance:3,diamondNum:2,picPath:"monster/Monster3/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:12},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:20}},skill:{zhName:"变速怪",zhDesc:"会突然加速或减速，难以预判"}},Monster4:{key:"Monster4",enName:"Monster 4",zhName:"4号怪物",maxScale:2,showAtLevel:3,exp:50,coin:20,diamondChance:4,diamondNum:2,picPath:"monster/Monster4/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:25},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:25}},skill:{zhName:"混乱能力者",zhDesc:"攻击到玩家后有10%概率造成混乱无法移动"}},Monster5:{key:"Monster5",enName:"Monster 5",zhName:"5号怪物",maxScale:2,showAtLevel:4,exp:50,coin:25,diamondChance:5,diamondNum:2,picPath:"monster/Monster5/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:60},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:30}},skill:{zhName:"哑火制造者",zhDesc:"攻击到玩家后有10%的概率让武器哑火3秒"}},Monster6:{key:"Monster6",enName:"Monster 6",zhName:"6号怪物",maxScale:3,showAtLevel:6,exp:60,coin:30,diamondChance:6,diamondNum:3,picPath:"monster/Monster6/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:80},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:30}},skill:{zhName:"隐身六号",zhDesc:"一定时间内处于隐身状态，且隐身时不会被攻击到。若对玩家造成伤害则会立即解除隐身状态"}},Monster7:{key:"Monster7",enName:"Monster7",zhName:"7号怪物",maxScale:3,showAtLevel:8,exp:60,coin:30,diamondChance:7,diamondNum:3,picPath:"monster/Monster7/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:100},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:35}},skill:{zhName:"金币窃贼",zhDesc:"会窃取未被拾取的金币"}},Monster8:{key:"Monster8",enName:"Monster 8",zhName:"8号怪物",maxScale:3,showAtLevel:9,exp:80,coin:50,diamondChance:8,diamondNum:3,picPath:"monster/Monster8/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:150},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:40}},skill:{zhName:"经验窃贼",zhDesc:"会窃取未被拾取的经验"}},Monster9:{key:"Monster9",enName:"Monster 9",zhName:"9号怪物",maxScale:4,showAtLevel:10,exp:80,coin:50,diamondChance:8,diamondNum:3,picPath:"monster/Monster9/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:200},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:40}},skill:{zhName:"分裂怪",zhDesc:"被消灭后会分裂成一些小怪继续攻击"}},Monster10:{key:"Monster10",enName:"Monster 10",zhName:"10号怪物",maxScale:5,showAtLevel:13,exp:100,coin:80,diamondChance:9,diamondNum:4,picPath:"monster/Monster10/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:300},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:50}},skill:{zhName:"武器摧毁者",zhDesc:"攻击到玩家后有5%的概率摧毁一把武器"}},Monster11:{key:"Monster11",enName:"Monster 11",zhName:"11号怪物",maxScale:5,showAtLevel:15,exp:110,coin:90,diamondChance:9,diamondNum:4,picPath:"monster/Monster11/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:400},speed:{enName:"Speed",zhName:"速度",value:3},damage:{enName:"Damage",zhName:"攻击力",value:55}},skill:{zhName:"钻石大盗",zhDesc:"会窃取未被拾取的钻石"}},Monster12:{key:"Monster12",enName:"Monster 12",zhName:"12号怪物",maxScale:5,showAtLevel:17,exp:120,coin:100,diamondChance:10,diamondNum:4,picPath:"monster/Monster12/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:500},speed:{enName:"Speed",zhName:"速度",value:4},damage:{enName:"Damage",zhName:"攻击力",value:60}},skill:{zhName:"体型怪",zhDesc:"会逐渐变大，被攻击到的可能性也变大了"}},Monster13:{key:"Monster13",enName:"Monster13",zhName:"13号怪物",maxScale:5,showAtLevel:18,exp:130,coin:120,diamondChance:11,diamondNum:4,picPath:"monster/Monster13/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:600},speed:{enName:"Speed",zhName:"速度",value:4},damage:{enName:"Damage",zhName:"攻击力",value:80}},skill:{zhName:"体型怪",zhDesc:"与12号怪物相反，这种怪物会逐渐变小"}},Monster14:{key:"Monster14",enName:"Monster14",zhName:"14号怪物",maxScale:5,showAtLevel:20,exp:150,coin:130,diamondChance:11,diamondNum:4,picPath:"monster/Monster14/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:1e3},speed:{enName:"Speed",zhName:"速度",value:4},damage:{enName:"Damage",zhName:"攻击力",value:85}}},Monster15:{key:"Monster15",enName:"Monster15",zhName:"15号怪物",maxScale:5,showAtLevel:21,exp:160,coin:140,diamondChance:11,diamondNum:4,picPath:"monster/Monster15/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:1200},speed:{enName:"Speed",zhName:"速度",value:4},damage:{enName:"Damage",zhName:"攻击力",value:90}}},Monster16:{key:"Monster16",enName:"Monster16",zhName:"16号怪物",maxScale:6,showAtLevel:22,exp:170,coin:150,diamondChance:12,diamondNum:4,picPath:"monster/Monster16/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:1400},speed:{enName:"Speed",zhName:"速度",value:4.2},damage:{enName:"Damage",zhName:"攻击力",value:100}}},Monster17:{key:"Monster17",enName:"Monster17",zhName:"17号怪物",maxScale:6,showAtLevel:23,exp:180,coin:160,diamondChance:12,diamondNum:4,picPath:"monster/Monster17/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:1500},speed:{enName:"Speed",zhName:"速度",value:4.5},damage:{enName:"Damage",zhName:"攻击力",value:110}}},Monster18:{key:"Monster18",enName:"Monster18",zhName:"18号怪物",maxScale:6,showAtLevel:24,exp:200,coin:170,diamondChance:13,diamondNum:5,picPath:"monster/Monster18/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:1600},speed:{enName:"Speed",zhName:"速度",value:5},damage:{enName:"Damage",zhName:"攻击力",value:120}}},Monster19:{key:"Monster19",enName:"Monster19",zhName:"19号怪物",maxScale:6,showAtLevel:25,exp:210,coin:180,diamondChance:13,diamondNum:5,picPath:"monster/Monster19/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:1700},speed:{enName:"Speed",zhName:"速度",value:5},damage:{enName:"Damage",zhName:"攻击力",value:130}}},Monster20:{key:"Monster20",enName:"Monster20",zhName:"20号怪物",maxScale:6,showAtLevel:26,exp:220,coin:200,diamondChance:14,diamondNum:5,picPath:"monster/Monster20/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:2e3},speed:{enName:"Speed",zhName:"速度",value:5},damage:{enName:"Damage",zhName:"攻击力",value:150}}},Monster21:{key:"Monster21",enName:"Monster21",zhName:"21号怪物",maxScale:7,showAtLevel:27,exp:230,coin:210,diamondChance:15,diamondNum:5,picPath:"monster/Monster21/spriteFrame",effect:{hp:{enName:"HP",zhName:"生命值",value:2200},speed:{enName:"Speed",zhName:"速度",value:5.5},damage:{enName:"Damage",zhName:"攻击力",value:160}}}},a}a(m,e);var n=m.prototype;return n.start=function(){},m.getInstace=function(){return null==this._instance&&(this._instance=new m),this._instance},n.update=function(e){},m}(t))._instance=null,o=s))||o);m._RF.pop()}}}));

System.register("chunks:///_virtual/Phantom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts","./WeaponManager.ts"],(function(t){var n,o,e,a,r,i,h,p,s,m,l,c,y,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,h=t.Node,p=t.instantiate,s=t.Sprite,m=t.Color,l=t.tween,c=t.Component},function(t){y=t.Player},function(t){u=t.WeaponManager}],execute:function(){var g,f,_,d,v;r._RF.push({},"cc3f5U0b2xKv6sFEZyHXz6o","Phantom",void 0);var A=i.ccclass,P=i.property;t("Phantom",(g=A("Phantom"),f=P({type:h}),g((v=n((d=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=t.call.apply(t,[this].concat(r))||this,e(n,"player",v,a(n)),n.phantomNum=6,n._phantomArray=[],n}o(n,t);var r=n.prototype;return r.start=function(){},r.setPhantom=function(){for(var t=0;t<this._phantomArray.length;t++)this._phantomArray[t].removeFromParent();this._phantomArray=[];for(var n=0;n<this.phantomNum;n++){var o=p(this.player);this.node.addChild(o),this._phantomArray.push(o),o.getComponent(y).destroy(),o.getChildByName("Weapon").getComponent(u).destroy(),o.name="phantom",o.setSiblingIndex(this.player.getSiblingIndex()),o.getComponent(s).color=new m(255,255,255,255-40*(n+1))}},r.setPhantomNum=function(t){this.phantomNum=t,this.phantomNum>6&&(this.phantomNum=6)},r._movePhantom=function(t){for(var n=0;n<this._phantomArray.length;n++)this._phantomArray[n].setScale(this.player.scale),this._phantomArray[n].getChildByName("Weapon").angle=this.player.getChildByName("Weapon").angle,l(this._phantomArray[n]).to(.013*n,{position:t},{easing:"sineInOut"}).start()},r.showPhantom=function(){for(var t=0;t<this._phantomArray.length;t++){var n=this._phantomArray[t].getComponent(s).color;this._phantomArray[t].getComponent(s).color=new m(n.r,n.g,n.b,255-40*(t+1))}},r.hidePhantom=function(){for(var t=0;t<this._phantomArray.length;t++){var n=this._phantomArray[t].getComponent(s).color;this._phantomArray[t].getComponent(s).color=new m(n.r,n.g,n.b,0)}},r.update=function(t){this._movePhantom(this.player.position)},n}(c)).prototype,"player",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./PlayerData.ts","./TalentData.ts","./TweenToolbox.ts","./Phantom.ts"],(function(e){var a,t,i,n,o,l,r,s,h,c,g,u,p,m,d,v,y,P,f,C,D,M;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Node,s=e.SpriteFrame,h=e.ProgressBar,c=e.Label,g=e.find,u=e.Sprite,p=e.Color,m=e.Vec3,d=e.UITransform,v=e.tween,y=e.Component},function(e){P=e.GameManager},function(e){f=e.PlayerData},function(e){C=e.TalentData},function(e){D=e.TweenToolbox},function(e){M=e.Phantom}],execute:function(){var H,B,b,I,F,x,N,w,E,T,S,z,V,G,A,O,L,U,R,k,W,_,X,J,j;o._RF.push({},"ca271mGfQlG2q0OTEzefC4W","Player",void 0);var q=l.ccclass,Q=l.property;e("Player",(H=q("Player"),B=Q({type:r}),b=Q({type:r}),I=Q({type:r}),F=Q({type:s}),x=Q({type:s}),N=Q({type:s}),w=Q({type:s}),E=Q({type:s}),T=Q({type:s}),S=Q({type:s}),z=Q({type:s}),H((A=a((G=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return a=e.call.apply(e,[this].concat(o))||this,i(a,"hpProgressBar",A,n(a)),i(a,"expProgressBar",O,n(a)),i(a,"coinCountNode",L,n(a)),i(a,"normalFace",U,n(a)),i(a,"loseFace",R,n(a)),i(a,"triggeredFace",k,n(a)),i(a,"dizzyFace",W,n(a)),i(a,"criticalHitFace",_,n(a)),i(a,"cryFace",X,n(a)),i(a,"hurt1Face",J,n(a)),i(a,"hurt2Face",j,n(a)),a.allPlayerData=null,a.originalHP=0,a.playerLevl=1,a.levelUpNum=0,a.targetExpVolume=100,a.collectedExpVolume=0,a.isStealth=!1,a.isInvincible=!1,a.isMoving=!1,a.isDizzy=!1,a.faceData=null,a.faceNode=null,a.gameManager=null,a}t(a,e);var o=a.prototype;return o.onLoad=function(){this.allPlayerData=JSON.parse(JSON.stringify(f.getInstace().allPlayerData))},o.start=function(){this.initNodesAndComponents(),this.initFaceData(),this.initHPProgressBar()},o.initFaceData=function(){this.faceData={normal:this.normalFace,lose:this.loseFace,triggered:this.triggeredFace,criticalHit:this.criticalHitFace,dizzy:this.dizzyFace,cry:this.cryFace,hurt1:this.hurt1Face,hurt2:this.hurt2Face}},o.initHPProgressBar=function(){this.originalHP=this.allPlayerData.maxHP.value,this.hpProgressBar.getComponent(h).progress=this.allPlayerData.hp.value/this.originalHP,this.hpProgressBar.getChildByName("HP Value").getComponent(c).string=this.originalHP+"/"+this.allPlayerData.hp.value,this.allPlayerData.hp.value<=20?g("Canvas/UI/Got Hit BG").active=!0:g("Canvas/UI/Got Hit BG").active=!1,this.schedule(this.healOrBloodAutomatically,5)},o.healOrBloodAutomatically=function(){"PLAY_STATE"==this.gameManager.gameState&&(this.allPlayerData.hp.value+=this.allPlayerData.healPower.value,C.getInstace().allTalentData.healPower.isInited&&(this.allPlayerData.hp.value+=10),C.getInstace().allTalentData.lifeStealCurse.isInited&&(this.allPlayerData.hp.value-=1),this.allPlayerData.hp.value<=20?g("Canvas/UI/Got Hit BG").active=!0:g("Canvas/UI/Got Hit BG").active=!1,this.allPlayerData.hp.value>this.originalHP&&(this.allPlayerData.hp.value=this.originalHP),this.hpProgressBar.getComponent(h).progress=this.allPlayerData.hp.value/this.originalHP,this.hpProgressBar.getChildByName("HP Value").getComponent(c).string=this.originalHP+"/"+this.allPlayerData.hp.value,this.allPlayerData.hp.value<=0&&this.die())},o.initNodesAndComponents=function(){this.faceNode=this.node.getChildByName("Face"),this.gameManager=g("Canvas").getComponent(P)},o.setFace=function(e){this.faceNode.getComponent(u).spriteFrame=this.faceData[e]},o.setFaceColor=function(e){this.faceNode.getComponent(u).color=(new p).fromHEX(e)},o.setRimColor=function(e){this.node.getComponent(u).color=(new p).fromHEX(e)},o.move=function(e,a){if(!this.isDizzy){var t=6+.1*(this.allPlayerData.speed.value-6),i=new m(this.node.position).add3f(e.x*t,e.y*t,0);this.node.setPosition(i)}},o.limitPlayer=function(){var e=g("Canvas").getComponent(d).width*this.gameManager.camerOrthoHeightScale,a=g("Canvas").getComponent(d).height*this.gameManager.camerOrthoHeightScale,t=this.node.position.x,i=this.node.position.y,n=this.node.getComponent(d).width,o=this.node.getComponent(d).height;t>=e/2-n/2?this.node.setPosition(e/2-n/2,this.node.position.y,0):t<=-e/2+n/2&&this.node.setPosition(-e/2+n/2,this.node.position.y,0),i>=a/2-o/2?this.node.setPosition(this.node.position.x,a/2-o/2,0):i<=-a/2+o/2&&this.node.setPosition(this.node.position.x,-a/2+o/2,0)},o.collectCoin=function(e){var a=this,t=parseInt(e.name.split("-")[1]);e.name="123",v(e).to(.1,{position:new m(this.node.position)},{easing:"sineIn"}).call((function(){C.getInstace().allTalentData.coinEcho.isInited&&(t*=2);var i=parseInt(a.coinCountNode.getComponent(c).string)+t;a.coinCountNode.getComponent(c).string=i.toString(),D.getInstace().showNumFromBigToNormalTween(a.coinCountNode),a.gameManager.coinNodePool.put(e),a.gameManager.audioManager.playOneShot(a.gameManager.audioManager.collectAudio)})).start()},o.collectDiamond=function(e){var a=this,t=parseInt(e.name.split("-")[1]);e.name="123",v(e).to(.1,{position:new m(this.node.position)},{easing:"sineIn"}).call((function(){a.gameManager.updateDiamondNum(t),a.gameManager.diamondNodePool.put(e),a.gameManager.audioManager.playOneShot(a.gameManager.audioManager.diamondAudio)})).start()},o.collectExp=function(e){var a=this,t=parseInt(e.name.split("-")[1]);e.name="123",v(e).to(.1,{position:new m(this.node.position)},{easing:"sineIn"}).call((function(){C.getInstace().allTalentData.expProphecy.isInited&&(t+=.2*t),a.collectedExpVolume+=t,a.expProgressBar.getComponent(h).progress=a.collectedExpVolume/a.targetExpVolume,a.collectedExpVolume>=a.targetExpVolume&&(a.gameManager.audioManager.playOneShot(a.gameManager.audioManager.levelUpAudio),a.playerLevl+=1,a.levelUpNum+=1,a.collectedExpVolume=0,a.targetExpVolume+=100,a.expProgressBar.getComponent(h).progress=0,a.expProgressBar.getChildByName("Exp Value").getComponent(c).string="Lv."+a.playerLevl),a.gameManager.expNodePool.put(e),a.gameManager.audioManager.playOneShot(a.gameManager.audioManager.collectAudio)})).start()},o.getLevelInfo=function(){return{playerLevel:this.playerLevl,levelUpNum:this.levelUpNum,collectedExpVolume:this.collectedExpVolume,targetExpVolume:this.targetExpVolume}},o.setLevelInfoFromResumeData=function(e){this.playerLevl=e.playerLevel,this.levelUpNum=e.levelUpNum,this.collectedExpVolume=e.collectedExpVolume,this.targetExpVolume=e.targetExpVolume,this.expProgressBar.getComponent(h).progress=this.collectedExpVolume/this.targetExpVolume,this.expProgressBar.getChildByName("Exp Value").getComponent(c).string="Lv."+this.playerLevl},o.die=function(){var e=this,a=0;if(this.schedule((function t(){e.gameManager.updatePage.active=!1,30==++a&&e.unschedule(t)}),.1),g("Canvas/UI/Got Hit BG").active=!1,g("Canvas/UI/Pause Button").active=!1,this.gameManager.saveBestWaveAndBestScore(),this.gameManager.gameState="OVER_STATE",this.changeFace("lose"),localStorage.removeItem("dodge-ball-resume-data"),g("Canvas/Game Over").active=!0,this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.stampAudio,1),D.getInstace().showStampTween(g("Canvas/Game Over"),(function(){g("Canvas/Game Over/Button Layout/Home Button").active=!0,e.gameManager.isAlreadyRevived||(g("Canvas/Game Over/Button Layout/Revive Button").active=!0)})),C.getInstace().allTalentData.coinToDiamond.isInited&&!this.gameManager.isAlreadyRevived){var t=parseInt(g("Canvas/UI/Coin Layout/Coin Count").getComponent(c).string),i=Math.floor(t/1e3);this.gameManager.updateDiamondNum(i),this.gameManager.spawnPropertyEffect("coinToDiamond",C.getInstace().allTalentData.coinToDiamond.picPath)}},o.gotHit=function(e){var a=this;if(e<=0)this.beInvicibleForAWhile();else if(this.allPlayerData.hp.value-=e,this.allPlayerData.hp.value<=0){if(1e3*Math.random()<this.allPlayerData.tenacity.value)return this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.tenacityAudio),this.gameManager.spawnPropertyEffect("tenacity",this.allPlayerData.tenacity.picPath),this.allPlayerData.hp.value+=e,void this.beInvicibleForAWhile();this.allPlayerData.hp.value=0,this.hpProgressBar.getComponent(h).progress=0,this.hpProgressBar.getChildByName("HP Value").getComponent(c).string=this.originalHP+"/"+this.allPlayerData.hp.value,this.die()}else{this.allPlayerData.hp.value<=20?g("Canvas/UI/Got Hit BG").active=!0:g("Canvas/UI/Got Hit BG").active=!1;var t=10*Math.random();t<3?this.changeFace("cry"):t<6?this.changeFace("hurt1"):this.changeFace("hurt2"),this.scheduleOnce((function(){a.changeFace("normal")}),1.5),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.playerGotHitAudio),this.flash(),this.hpProgressBar.getComponent(h).progress=this.allPlayerData.hp.value/this.originalHP,this.hpProgressBar.getChildByName("HP Value").getComponent(c).string=this.originalHP+"/"+this.allPlayerData.hp.value,C.getInstace().allTalentData.clock.isInited&&!this.gameManager.isTalentClockTriggered&&this.hpProgressBar.getComponent(h).progress<.1&&parseInt(this.gameManager.countDownNode.getComponent(c).string)>=10&&(this.gameManager.isTalentClockTriggered=!0,this.gameManager.spawnPropertyEffect("clock",C.getInstace().allTalentData.clock.picPath),console.log("触发时间典当效果"))}},o.flash=function(){var e=this;this.isInvincible=!0;var a=this.node.getComponent(u).color.toHEX(),t=0;this.schedule((function i(){"ff0000"!=e.node.getComponent(u).color.toHEX()?(e.node.getComponent(u).color=p.RED,e.isStealth&&e.stealth()):(e.node.getComponent(u).color=p.WHITE,e.isStealth&&e.stealth()),15==(t+=1)&&(e.unschedule(i),e.isInvincible=!1,e.node.getComponent(u).color=(new p).fromHEX(a),e.isStealth&&e.stealth())}),.1)},o.beInvicibleForAWhile=function(){var e=this;this.isInvincible=!0,this.scheduleOnce((function(){e.isInvincible=!1}),.75)},o.recoverSomeHP=function(e){this.allPlayerData.hp.value+=e,this.allPlayerData.hp.value<=20?g("Canvas/UI/Got Hit BG").active=!0:g("Canvas/UI/Got Hit BG").active=!1,this.allPlayerData.hp.value>this.originalHP&&(this.allPlayerData.hp.value=this.originalHP),this.hpProgressBar.getComponent(h).progress=this.allPlayerData.hp.value/this.originalHP,this.hpProgressBar.getChildByName("HP Value").getComponent(c).string=this.originalHP+"/"+this.allPlayerData.hp.value},o.recoverAllHP=function(){this.originalHP=this.allPlayerData.maxHP.value,this.allPlayerData.hp.value=this.originalHP,this.hpProgressBar.getComponent(h).progress=1,this.hpProgressBar.getChildByName("HP Value").getComponent(c).string=this.originalHP+"/"+this.allPlayerData.hp.value},o.changeFace=function(e){this.isDizzy="dizzy"==e,this.faceNode.getComponent(u).spriteFrame=this.faceData[e]},o.stealth=function(){this.isStealth=!0;var e=this.node.getComponent(u).color;this.node.getComponent(u).color=new p(e.r,e.g,e.b,100),g("Canvas").getComponent(M).hidePhantom()},o.stopStealth=function(){this.isStealth=!1;var e=this.node.getComponent(u).color;this.node.getComponent(u).color=new p(e.r,e.g,e.b,255),g("Canvas").getComponent(M).showPhantom()},o.update=function(e){this.limitPlayer()},a}(y)).prototype,"hpProgressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=a(G.prototype,"expProgressBar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=a(G.prototype,"coinCountNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=a(G.prototype,"normalFace",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=a(G.prototype,"loseFace",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=a(G.prototype,"triggeredFace",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=a(G.prototype,"dizzyFace",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=a(G.prototype,"criticalHitFace",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=a(G.prototype,"cryFace",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=a(G.prototype,"hurt1Face",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=a(G.prototype,"hurt2Face",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=G))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var a,t,l,i;return{setters:[function(e){a=e.inheritsLoose},function(e){t=e.cclegacy,l=e._decorator,i=e.Component}],execute:function(){var r,n;t._RF.push({},"5807fwIqhZFtKOSQNJdKDNK","PlayerData",void 0);var c=l.ccclass;l.property,e("PlayerData",c("PlayerData")(((n=function(e){function t(){for(var a,t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(a=e.call.apply(e,[this].concat(l))||this).allPlayerData={hp:{enName:"HP",zhName:"当前生命值",value:100,picPath:"property/hp/spriteFrame",zhExplain:"每局开始会恢复至满血，归零则游戏结束",isPercent:!1},maxHP:{key:"maxHP",enName:"Max HP",zhName:"生命值上限",value:100,picPath:"property/maxHP/spriteFrame",zhExplain:"血越厚，越抗揍",isPercent:!1,update:{zhDesc:"生命值上限+5",value:5,init:function(e){e.allPlayerData.maxHP.value+=a.allPlayerData.maxHP.update.value}}},healPower:{key:"healPower",enName:"Heal Power",zhName:"生命恢复",value:0,picPath:"talent/healPower/spriteFrame",zhExplain:"每5秒自动恢复的生命值",isPercent:!1,update:{zhDesc:"每5秒生命值恢复点数+1",value:1,init:function(e){e.allPlayerData.healPower.value+=a.allPlayerData.healPower.update.value}}},speed:{key:"speed",enName:"Speed",zhName:"移动速度",value:6,picPath:"property/speed/spriteFrame",zhExplain:"玩家速度越快，越容易躲开怪物",isPercent:!1,update:{zhDesc:"移动速度+1",value:1,init:function(e){e.allPlayerData.speed.value+=a.allPlayerData.speed.update.value}}},defence:{key:"defence",enName:"Defence",zhName:"护甲",value:0,picPath:"property/defence/spriteFrame",zhExplain:"可减小玩家受到的攻击伤害",isPercent:!1,update:{zhDesc:"护甲+1",value:1,init:function(e){e.allPlayerData.defence.value+=a.allPlayerData.defence.update.value}}},luck:{key:"luck",enName:"Luck",zhName:"幸运",value:1,picPath:"property/luck/spriteFrame",zhExplain:"幸运值越高，获得金币的数量越多",isPercent:!1,update:{zhDesc:"幸运+1",value:1,init:function(e){e.allPlayerData.luck.value+=a.allPlayerData.luck.update.value}}},power:{key:"power",enName:"Power",zhName:"力量",value:0,picPath:"property/power/spriteFrame",zhExplain:"力量值越大，各个武器的攻击力也会越高",isPercent:!1,update:{zhDesc:"力量+1",value:1,init:function(e){e.allPlayerData.power.value+=a.allPlayerData.power.update.value}}},dodge:{key:"dodge",enName:"Dodge",zhName:"闪避",value:0,picPath:"property/dodge/spriteFrame",zhExplain:"闪避值越高，怪物越不容易攻击到玩家",isPercent:!1,update:{zhDesc:"闪避+1",value:1,init:function(e){e.allPlayerData.dodge.value+=a.allPlayerData.dodge.update.value}}},tenacity:{key:"tenacity",enName:"Tenacity",zhName:"坚韧",value:1,picPath:"property/tenacity/spriteFrame",zhExplain:"受到致命伤时，坚韧值越高，抗住伤害的概率越大",isPercent:!1,update:{zhDesc:"坚韧+1",value:1,init:function(e){e.allPlayerData.tenacity.value+=a.allPlayerData.tenacity.update.value}}},criticalHitRate:{key:"criticalHitRate",enName:"Critical Hit Rate",zhName:"暴击概率",value:.01,picPath:"property/criticalHitRate/spriteFrame",zhExplain:"值越高，越容易打出暴击",isPercent:!0,update:{zhDesc:"暴击概率+1%",value:.01,init:function(e){e.allPlayerData.criticalHitRate.value+=a.allPlayerData.criticalHitRate.update.value}}},criticalHit:{key:"criticalHit",enName:"Critical Hit",zhName:"暴击伤害",value:1,picPath:"property/criticalHit/spriteFrame",zhExplain:"暴击一切!!!",isPercent:!1,update:{zhDesc:"暴击伤害+5",value:5,init:function(e){e.allPlayerData.criticalHit.value+=a.allPlayerData.criticalHit.update.value}}},cdReduce:{key:"cdReduce",enName:"CD Reduce",zhName:"冷却缩减",value:0,picPath:"property/cdReduce/spriteFrame",zhExplain:"该属性可减少所有武器的冷却时间",isPercent:!0,update:{zhDesc:"所有武器冷却缩减1% (最多缩减50%)",value:.01,init:function(e){e.allPlayerData.cdReduce.value+=a.allPlayerData.cdReduce.update.value}}},pickUpRange:{key:"pickUpRange",enName:"Pick Up Range",zhName:"拾取范围",value:60,picPath:"property/pickUpRange/spriteFrame",zhExplain:"该属性可扩大拾取东西的范围",isPercent:!1,update:{zhDesc:"拾取范围+10",value:10,init:function(e){e.allPlayerData.pickUpRange.value+=a.allPlayerData.pickUpRange.update.value}}}},a}a(t,e);var l=t.prototype;return l.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},l.update=function(e){},t}(i))._instance=null,r=n))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(t){var i,o,n,e,s,r,a,c,h,l,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,c=t.Vec3,h=t.UITransform,l=t.Component},function(t){p=t.Player}],execute:function(){var y,u,d,g,T;s._RF.push({},"649a1JbXzFFA4H8cqj9EuVM","PlayerJoystick",void 0);var C=r.ccclass,v=r.property;t("PlayerJoystick",(y=C("PlayerJoystick"),u=v({type:a}),y((T=i((g=function(t){function i(){for(var i,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"player",T,e(i)),i.angle=0,i.joystickBtn=null,i.originalPos=null,i.playerComp=null,i.dir=new c(0,1,0),i.isTouchAreaCorrect=!1,i.isFixed=!1,i}o(i,t);var s=i.prototype;return s.start=function(){this.initNodesAndComponents(),this.recordOriginalPos(),this.initTouchEvents()},s.initNodesAndComponents=function(){this.joystickBtn=this.node.children[0],this.playerComp=this.player.getComponent(p);var t=JSON.parse(localStorage.getItem("dodge-ball-settings"));this.isFixed=t.joystick},s.recordOriginalPos=function(){this.originalPos=new c(this.node.position)},s.initTouchEvents=function(){this.node.parent.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.parent.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.parent.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.parent.on(a.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},s.onTouchStart=function(t){var i=t.getUILocation(),o=this.node.parent.getComponent(h).convertToNodeSpaceAR(new c(i.x,i.y,0));this.isTouchAreaCorrect=!0,this.isFixed||this.node.setPosition(o)},s.onTouchMove=function(t){if(this.isTouchAreaCorrect){var i=t.getUILocation(),o=this.node.getComponent(h).convertToNodeSpaceAR(new c(i.x,i.y,0));this.joystickBtn.setPosition(o),this.dir=new c(this.joystickBtn.position.x,this.joystickBtn.position.y,0).normalize(),this.dir.y>0?this.angle=180*c.angle(this.dir,new c(1,0,0))/Math.PI:this.angle=180*-c.angle(this.dir,new c(1,0,0))/Math.PI,this.playerComp.isMoving=!0}},s.onTouchEnd=function(t){this.node.setPosition(this.originalPos),this.joystickBtn.setPosition(c.ZERO),this.playerComp.isMoving=!1,this.isTouchAreaCorrect=!1},s.onTouchCancel=function(t){this.node.setPosition(this.originalPos),this.joystickBtn.setPosition(c.ZERO),this.playerComp.isMoving=!1,this.isTouchAreaCorrect=!1},s.limitjoystickBtn=function(){var t=this.joystickBtn.position.x,i=this.joystickBtn.position.y,o=new c(t,i,0).length()/(this.node.getComponent(h).width/3);o>1&&this.joystickBtn.setPosition(t/o,i/o,0)},s.update=function(t){this.limitjoystickBtn(),this.playerComp.isMoving&&"PLAY_STATE"==this.playerComp.gameManager.gameState&&this.playerComp.move(this.dir,this.angle)},i}(l)).prototype,"player",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/QuadTree.ts",["cc"],(function(t){var s,e;return{setters:[function(t){s=t.cclegacy,e=t.UITransform}],execute:function(){s._RF.push({},"1652fuvEulAaLEYj9tMv8Fk","QuadTree",void 0);
/**
       * quadtree-js
       * @version 1.2.3
       * @license MIT
       * @author Timo Hausmann
       */
t("Quadtree",function(){function t(t,s,e,i){this.max_objects=void 0,this.max_levels=void 0,this.level=void 0,this.bounds=void 0,this.objects=void 0,this.nodes=void 0,this.max_objects=s||10,this.max_levels=e||4,this.level=i||0,this.bounds=t,this.objects=[],this.nodes=[]}var s=t.prototype;return s.split=function(){var s=this.level+1,e=this.bounds.width/2,i=this.bounds.height/2,h=this.bounds.x,n=this.bounds.y;this.nodes[0]=new t({x:h+e,y:n,width:e,height:i},this.max_objects,this.max_levels,s),this.nodes[1]=new t({x:h,y:n,width:e,height:i},this.max_objects,this.max_levels,s),this.nodes[2]=new t({x:h,y:n+i,width:e,height:i},this.max_objects,this.max_levels,s),this.nodes[3]=new t({x:h+e,y:n+i,width:e,height:i},this.max_objects,this.max_levels,s)},s.getIndex=function(t){var s=t.getComponent(e).getBoundingBox(),i=[],h=this.bounds.x+this.bounds.width/2,n=this.bounds.y+this.bounds.height/2,o=s.y<n,d=s.x<h,r=s.x+s.width>h,l=s.y+s.height>n;return o&&r&&i.push(0),d&&o&&i.push(1),d&&l&&i.push(2),r&&l&&i.push(3),i},s.insert=function(t){var s,e=0;if(this.nodes.length)for(s=this.getIndex(t),e=0;e<s.length;e++)this.nodes[s[e]].insert(t);else if(this.objects.push(t),this.objects.length>this.max_objects&&this.level<this.max_levels){for(this.nodes.length||this.split(),e=0;e<this.objects.length;e++){s=this.getIndex(this.objects[e]);for(var i=0;i<s.length;i++)this.nodes[s[i]].insert(this.objects[e])}this.objects=[]}},s.retrieve=function(t){var s=this.getIndex(t),e=this.objects;if(this.nodes.length)for(var i=0;i<s.length;i++)e=e.concat(this.nodes[s[i]].retrieve(t));return e=e.filter((function(t,s){return e.indexOf(t)>=s}))},s.clear=function(){this.objects=[];for(var t=0;t<this.nodes.length;t++)this.nodes.length&&this.nodes[t].clear();this.nodes=[]},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,o,t,n,s,a,i,c,l,p,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,i=e.Node,c=e.assetManager,l=e.ProgressBar,p=e.director,u=e.Component}],execute:function(){var g,f,d,m,y;s._RF.push({},"41f70/oTNxKTo6GJGG0ekLX","Start",void 0);var B=a.ccclass,h=a.property;e("Start",(g=B("Start"),f=h({type:i}),g((y=r((m=function(e){function r(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,t(r,"progressBar",y,n(r)),r}o(r,e);var s=r.prototype;return s.start=function(){var e=this,r=0;c.loadBundle("res1",(function(o,t){console.log(1,t.name),r=.1,e.progressBar.getComponent(l).progress=r,c.loadBundle("res2",(function(o,t){console.log(2,t.name),r=.3,e.progressBar.getComponent(l).progress=r,c.loadBundle("scene",(function(o,t){console.log(3,t.name),r=1,e.progressBar.getComponent(l).progress=r,p.loadScene("Home")}))}))}))},s.update=function(e){},r}(u)).prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/TalentData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,i=e.Component}],execute:function(){var c,r;a._RF.push({},"10435aGn3VAyotTy5bpXE0Y","TalentData",void 0);var s=n.ccclass;n.property,e("TalentData",s("TalentData")(((r=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).allTalentData={coinEcho:{key:"coinEcho",enName:"Coin Echo",zhName:"金币共鸣",desc:"金币获得数变成双倍",isInited:!1,picPath:"talent/coinEcho/spriteFrame"},priceControl:{key:"priceControl",enName:"Price Control",zhName:"物价操控",desc:"商店有5%概率出现0元商品",isInited:!1,picPath:"talent/priceControl/spriteFrame"},weaknessSense:{key:"weaknessSense",enName:"Weakness Sense",zhName:"弱点感知",desc:"对生命值10以下的敌人额外附加5点伤害",isInited:!1,picPath:"talent/weaknessSense/spriteFrame"},expProphecy:{key:"expProphecy",enName:"Experience Prophecy",zhName:"经验先知",desc:"经验获取+20%",isInited:!1,picPath:"talent/expProphecy/spriteFrame"},healPower:{key:"healPower",enName:"Heal Power",zhName:"恢复之力",desc:"每5秒生命值恢复10点",isInited:!1,picPath:"talent/healPower/spriteFrame"},quantumEntanglement:{key:"quantumEntanglement",enName:"Quantum Entanglement",zhName:"量子纠缠",desc:"每次攻击有1%概率直接秒杀非BOSS单位",isInited:!1,picPath:"talent/quantumEntanglement/spriteFrame"},lifeStealCurse:{key:"lifeStealCurse",enName:"Life Steal Curse",zhName:"吸血诅咒",desc:"每次攻击有5%概率恢复1点血量，但每5秒会自动扣掉1点血量",isInited:!1,picPath:"talent/lifeStealCurse/spriteFrame"},weaponPact:{key:"weaponPact",enName:"Weapon Pact",zhName:"武器契约",desc:"开局会有两把相同武器",isInited:!1,picPath:"talent/weaponPact/spriteFrame"},blacksmithPower:{key:"blacksmithPower",enName:"Blacksmith Power",zhName:"工匠之力",desc:"每次强化可增加5%的成功概率",isInited:!1,picPath:"talent/blacksmithPower/spriteFrame"},thorn:{key:"thorn",enName:"Thorn",zhName:"反伤之棘",desc:"被怪物攻击时，怪物自身也将受到同等伤害",isInited:!1,picPath:"talent/thorn/spriteFrame"},aim:{key:"aim",enName:"Aim",zhName:"精准打击",desc:"所有射击类武器自动瞄准怪物进行攻击，无视物理规律",isInited:!1,picPath:"talent/aim/spriteFrame"},clock:{key:"clock",enName:"Clock",zhName:"救赎时钟",desc:"当生命值小于10%，且倒计时大于10秒时，将减少5秒，降低失败风险",isInited:!1,picPath:"talent/clock/spriteFrame"},coinToDiamond:{key:"coinToDiamond",enName:"Coin To Diamond",zhName:"点金成钻",desc:"游戏失败后，每1000金币可转换成1颗钻石(复活后无法再次触发)",isInited:!1,picPath:"talent/coinToDiamond/spriteFrame"}},t}t(a,e);var n=a.prototype;return n.start=function(){},a.getInstace=function(){return null==this._instance&&(this._instance=new a),this._instance},n.unInitedAllTalent=function(){for(var e in this.allTalentData)this.allTalentData[e].isInited=!1},n.update=function(e){},a}(i))._instance=null,c=r))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/TweenToolbox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,e,i,s,a,l,c,r,u;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.tween,s=n.Vec3,a=n.find,l=n.UITransform,c=n.Sprite,r=n.Color,u=n.Component}],execute:function(){var p,f;t._RF.push({},"d1df7YVXgFOlJI22+PJZcqb","TweenToolbox",void 0);var d=e.ccclass;e.property,n("TweenToolbox",d("TweenToolbox")(((f=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var e=t.prototype;return e.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},e.showStampTween=function(n,o){void 0===o&&(o=null),n.setScale(5,5,1),i(n).to(.25,{scale:new s(1,1,1)}).delay(.5).call((function(){o&&o()})).start()},e.showMesageBoardTween=function(n,o){void 0===o&&(o=null),n.setScale(1,0,1),i(n).to(.05,{scale:new s(1,1,0)}).call((function(){o&&o()})).start()},e.hideMesageBoardTween=function(n,o){void 0===o&&(o=null),i(n).to(.08,{scale:new s(1,0,0)}).call((function(){o&&o()})).start()},e.showNumFromBigToNormalTween=function(n,o){void 0===o&&(o=null),n.setScale(1.2,1.2,1),i(n).to(.05,{scale:new s(1,1,0)}).call((function(){o&&o()})).start()},e.showFromLeftSide=function(n,o){void 0===o&&(o=null);var t=a("Canvas").getComponent(l).width,e=n.getComponent(l).width,c=new s(-t/2-e,n.position.y,0);i(n).to(.4,{position:new s(-t/2+e/1.5,c.y,0)},{easing:"sineInOut"}).delay(1).to(.2,{position:c}).delay(.2).call((function(){o&&o()})).start()},e.showFromRightSide=function(n,o){void 0===o&&(o=null);var t=a("Canvas").getComponent(l).width,e=n.getComponent(l).width,c=new s(t/2+e,n.position.y,0);i(n).to(.4,{position:new s(t/2-1.2*e,c.y,0)},{easing:"sineInOut"}).delay(1).to(.2,{position:c}).delay(.2).call((function(){o&&o()})).start()},e.showFadeInFromBottom=function(n,o){void 0===o&&(o=null);var t=new s(n.position);n.setPosition(new s(n.position).subtract3f(0,100,0));var e=i(n).to(.5,{position:t},{easing:"sineInOut"}).call((function(){o&&o()})).start();return this.fadeIn(n),e},e.fadeIn=function(n){var o=this;this.setAlphaToZero(n);this.schedule((function t(){o.increaseAlpha(n),n.getComponent(c).color.a>=255&&o.unschedule(t)}),.01)},e.increaseAlpha=function(n){var o=n.getComponent(c).color,t=o.a+10;n.getComponent(c).color=new r(o.r,o.g,o.b,t)},e.setAlphaToZero=function(n){var o=n.getComponent(c).color;n.getComponent(c).color=new r(o.r,o.g,o.b,0)},e.update=function(n){},t}(u))._instance=null,p=f))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TweenToolbox.ts","./AudioManager.ts"],(function(e){var n,t,s,i,a,o,c,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,i=e.find,a=e.Label,o=e.Component},function(e){c=e.TweenToolbox},function(e){r=e.AudioManager}],execute:function(){var u,l;t._RF.push({},"9ac8eTkBABD9a/qa8MjAjZL","Utils",void 0);var g=s.ccclass;s.property,e("Utils",g("Utils")(((l=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var s=t.prototype;return s.start=function(){},t.getInstace=function(){return null==this._instance&&(this._instance=new t),this._instance},s.showMessage=function(e,n){void 0===n&&(n=1),i("Audio Manager").getComponent(r).playOneShot(i("Audio Manager").getComponent(r).messageAudio,1);var t=i("Canvas/Message Board");t.active=!0,t.setSiblingIndex(1e4),t.children[0].getComponent(a).string=e,c.getInstace().showMesageBoardTween(t),this.unschedule(this.hideMessage),-1!=n&&this.scheduleOnce(this.hideMessage,n)},s.hideMessage=function(){var e=i("Canvas/Message Board");c.getInstace().hideMesageBoardTween(e,(function(){e.active=!1}))},s.update=function(e){},t}(o))._instance=null,u=l))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(e){var a,n,t,l,i,o;return{setters:[function(e){a=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,l=e.Label,i=e.Component},function(e){o=e.Player}],execute:function(){var d,c;n._RF.push({},"50227X2n55HD6bei+Xg8AJN","WeaponData",void 0);var m=t.ccclass;t.property,e("WeaponData",m("WeaponData")(((c=function(e){function n(){for(var a,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return(a=e.call.apply(e,[this].concat(t))||this).allWeaponData={pistol:{key:"pistol",enName:"pistol",zhName:"手枪",intro:"朴实无华的武器，性价比高，但是比较难瞄准。强化后可穿透多个怪物",isShootWeapon:!0,price:80,picPath:"weapon/pistol/spriteFrame",bulletPrefabPath:"bullet/pistolBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:6,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:15,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:1,isShown:!0}},update:{common:{damage:2,cd:-.02},2:{zhDesc:"子弹增强，可穿透1只怪物",diamond:2},6:{zhDesc:"子弹增强，可穿透3只怪物",diamond:4},10:{zhDesc:"子弹增强，可穿透6只怪物",diamond:8},coin:80,probReduce:4},init:function(e,n){a.weaponInit(e,n,"pistol")}},fireWand:{key:"fireWand",enName:"Fire Wand",zhName:"火球法杖",intro:"可发射火球的法杖，强化后可召唤一堆火球进行全屏攻击",isShootWeapon:!0,price:200,picPath:"weapon/fireWand/spriteFrame",bulletPrefabPath:"bullet/fireWandBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:10,isShown:!0},bulletSpeed:{enName:"Fireball Speed",zhName:"火球速度",value:5,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:2,isShown:!0}},update:{common:{damage:1,cd:-.02},2:{zhDesc:"每次攻击有5%概率从两面出现大量火球",diamond:9},6:{zhDesc:"每次攻击有10%概率从两面出现大量火球",diamond:14},10:{zhDesc:"每次攻击有15%概率从两面出现大量火球",diamond:18},coin:200,probReduce:7},init:function(e,n){a.weaponInit(e,n,"fireWand")}},thunderWand:{key:"thunderWand",enName:"Thunder Wand",zhName:"雷电法杖",intro:"召唤雷电进行攻击，施法时间长长，但攻击力非常高。强化后会触发雷暴",isShootWeapon:!1,price:220,picPath:"weapon/thunderWand/spriteFrame",bulletPrefabPath:"bullet/thunderWandBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:15,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:0,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:4,isShown:!0}},update:{common:{damage:2,cd:-.02},2:{zhDesc:"每次攻击有5%概率出现雷暴",diamond:10},6:{zhDesc:"每次攻击有10%概率出现雷暴",diamond:15},10:{zhDesc:"每次攻击有15%概率出现雷暴",diamond:20},coin:220,probReduce:7},init:function(e,n){a.weaponInit(e,n,"thunderWand")}},lightBall:{key:"lightBall",enName:"Light Ball",zhName:"光束魔球",intro:"召唤一道光束直接作用在怪物身上，无需瞄准，快速精准。强化后会召唤一道大光束进行全屏攻击",isShootWeapon:!1,price:180,picPath:"weapon/lightBall/spriteFrame",bulletPrefabPath:"bullet/lightBallBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:3,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:0,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:1,isShown:!0}},update:{common:{damage:2,cd:-.01},2:{zhDesc:"有3%概率屏幕中间出现一道光束，造成全屏攻击，所有怪物受到5点伤害",diamond:5},6:{zhDesc:"有6%概率屏幕中间出现一道光束，造成全屏攻击，所有怪物受到10点伤害",diamond:10},10:{zhDesc:"有10%概率屏幕中间出现一道光束，造成全屏攻击，所有怪物受到20点伤害",diamond:15},coin:180,probReduce:6},init:function(e,n){a.weaponInit(e,n,"lightBall")}},bubbleGun:{key:"bubbleGun",enName:"Bubble Gun",zhName:"泡泡机",intro:"名字听着有点弱，实际战斗中堪比神器，强化后会吐出超大泡泡",isShootWeapon:!0,price:150,picPath:"weapon/bubbleGun/spriteFrame",bulletPrefabPath:"bullet/bubbleGunBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:2,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:1,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:1,isShown:!0},special:{enName:"Passive Effect",zhName:"被动效果",value:"偶尔会吐出一个超大泡泡造成双倍伤害",isShown:!1}},update:{common:{damage:1,cd:-.01},2:{zhDesc:"泡泡变成原来大小的2倍",diamond:4},6:{zhDesc:"泡泡变成原来大小的3倍",diamond:8},10:{zhDesc:"泡泡变成原来大小的6倍",diamond:12},coin:150,probReduce:6},init:function(e,n){a.weaponInit(e,n,"bubbleGun")}},daggerDart:{key:"daggerDart",enName:"Dagger Dart",zhName:"匕首飞镖",intro:"前期弱，后期强，强化后堪比小李飞刀，可一击致命",isShootWeapon:!0,price:150,picPath:"weapon/daggerDart/spriteFrame",bulletPrefabPath:"bullet/daggerDartBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:5,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:10,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:1.5,isShown:!0},special:{enName:"Passive Effect",zhName:"被动效果",value:"使敌人额外受到1点伤害",isShown:!1}},update:{common:{damage:1,cd:-.01},2:{zhDesc:"造成持续1滴扣血伤害，持续3秒",diamond:2},6:{zhDesc:"造成持续2滴扣血伤害，持续5秒",diamond:4},10:{zhDesc:"造成持续5滴扣血伤害，持续10秒，并且有1%概率对非BOSS怪物一击致命",diamond:10},coin:150,probReduce:6},init:function(e,n){a.weaponInit(e,n,"daggerDart")}},particleGun:{key:"particleGun",enName:"Particle Gun",zhName:"粒子枪",intro:"发射粒子进行攻击，强化后可召唤粒子雨",isShootWeapon:!0,price:200,picPath:"weapon/particleGun/spriteFrame",bulletPrefabPath:"bullet/particleGunBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:14,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:15,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:3,isShown:!0},special:{enName:"Passive Effect",zhName:"被动效果",value:"使敌人额外受到1点伤害",isShown:!1}},update:{common:{damage:2,cd:-.03},2:{zhDesc:"每次攻击有2%概率触发粒子雨(10粒子)",diamond:3},6:{zhDesc:"每次攻击有5%概率触发粒子雨(30粒子)",diamond:5},10:{zhDesc:"每次攻击有10%概率触发粒子雨(80粒子)",diamond:8},coin:200,probReduce:6},init:function(e,n){a.weaponInit(e,n,"particleGun")}},machete:{key:"machete",enName:"machete",zhName:"大砍刀",intro:"装备后会进行旋转攻击，强化后有概率触发一刀开天门技能效果",isShootWeapon:!1,price:100,picPath:"weapon/machete/spriteFrame",bulletPrefabPath:"bullet/macheteBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:6,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:0,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:2.5,isShown:!0},special:{enName:"Passive Effect",zhName:"被动效果",value:"使敌人额外受到1点伤害",isShown:!1}},update:{common:{damage:1,cd:-.02},2:{zhDesc:"每次攻击有2%概率触发一刀斩技能",diamond:2},6:{zhDesc:"每次攻击有5%概率触发一刀斩技能",diamond:5},10:{zhDesc:"每次攻击有10%概率触发一刀斩技能",diamond:8},coin:100,probReduce:5},init:function(e,n){a.weaponInit(e,n,"machete")}},sword:{key:"sword",enName:"sword",zhName:"宝剑",intro:"装备后会进行旋转攻击，强化后有概率触发万剑归宗技能效果",isShootWeapon:!1,price:100,picPath:"weapon/sword/spriteFrame",bulletPrefabPath:"bullet/swordBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:5,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:0,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:2,isShown:!0},special:{enName:"Passive Effect",zhName:"被动效果",value:"使敌人额外受到1点伤害",isShown:!1}},update:{common:{damage:1,cd:-.01},2:{zhDesc:"每次攻击有2%概率触发万剑归宗技能(10把剑)",diamond:3},6:{zhDesc:"每次攻击有5%概率触发万剑归宗技能(50把剑)",diamond:6},10:{zhDesc:"每次攻击有10%概率触发万剑归宗技能(100把剑)",diamond:10},coin:100,probReduce:5},init:function(e,n){a.weaponInit(e,n,"sword")}},laserGun:{key:"laserGun",enName:"Laser Gun",zhName:"镭射枪",intro:"发射一道激光，可攻击远处怪物，强化后可触发激光网",isShootWeapon:!1,price:300,picPath:"weapon/laserGun/spriteFrame",bulletPrefabPath:"bullet/laserGunBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:1,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:0,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:2,isShown:!0},special:{enName:"Passive Effect",zhName:"被动效果",value:"使敌人额外受到1点伤害",isShown:!1}},update:{common:{damage:1,cd:-.01},2:{zhDesc:"每次攻击有5%概率从四周射出10道激光",diamond:15},6:{zhDesc:"每次攻击有6%概率从四周射出20道激光",diamond:20},10:{zhDesc:"每次攻击有8%概率从四周射出30道激光",diamond:30},coin:300,probReduce:8},init:function(e,n){a.weaponInit(e,n,"laserGun")}},iceWand:{key:"iceWand",enName:"Ice Wand",zhName:"冰霜法杖",intro:"攻击时带有冷冻效果，被攻击的怪物将停止移动一段时间，强化后可让所有怪停止移动",isShootWeapon:!1,price:200,picPath:"weapon/iceWand/spriteFrame",bulletPrefabPath:"bullet/iceWandBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:2,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:0,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:1.8,isShown:!0},special:{enName:"Passive Effect",zhName:"附带效果",value:"攻击阶段会冰冻住怪物",isShown:!1}},update:{common:{damage:1,cd:-.02},2:{zhDesc:"每次攻击有5%概率冰封全场怪物2秒",diamond:5},6:{zhDesc:"每次攻击有8%概率冰封全场怪物2秒",diamond:10},10:{zhDesc:"每次攻击有8%概率冰封全场怪物3秒",diamond:15},coin:200,probReduce:5},init:function(e,n){a.weaponInit(e,n,"iceWand")}},bow:{key:"bow",enName:"Bow",zhName:"狩猎弓",intro:"射出光箭，强化后可触发连射效果",isShootWeapon:!0,price:150,picPath:"weapon/bow/spriteFrame",bulletPrefabPath:"bullet/bowBullet",effect:{damage:{enName:"damage",zhName:"攻击力",value:3,isShown:!0},bulletSpeed:{enName:"Bullet Speed",zhName:"子弹速度",value:15,isShown:!1},cd:{enName:"CD",zhName:"冷却秒数",value:2,isShown:!0}},update:{common:{damage:1,cd:-.02},2:{zhDesc:"每次攻击有5%概率连续射出5只光箭",diamond:4},6:{zhDesc:"每次攻击有10%概率连续射出10只光箭",diamond:7},10:{zhDesc:"每次攻击有15%概率连续射出20只光箭",diamond:12},coin:150,probReduce:5},init:function(e,n){a.weaponInit(e,n,"bow")}}},a}a(n,e);var t=n.prototype;return t.start=function(){},n.getInstace=function(){return null==this._instance&&(this._instance=new n),this._instance},t.weaponInit=function(e,a,n){var t=this,i=e.node.parent.getComponent(o).allPlayerData.cdReduce.value;i>.5&&(i=.5);var d=this.allWeaponData[n].effect.cd.value-this.allWeaponData[n].effect.cd.value*i+this.allWeaponData[n].update.common.cd*parseInt(a.children[0].getComponent(l).string);this.schedule((function l(){if("PLAY_STATE"!=e.gameManager.gameState||a.children.length<=2||a.children[2].name!=n||a.getChildByName("boom"))t.unschedule(l);else if(!a.getChildByName("block"))switch(n){case"pistol":e.spawnPistolBullet(t.allWeaponData[n],a);break;case"fireWand":e.spawnFireWandBullet(t.allWeaponData[n],a);break;case"thunderWand":e.spawnThunderWandBullet(t.allWeaponData[n],a);break;case"lightBall":e.spawnLightBallBullet(t.allWeaponData[n],a);break;case"bubbleGun":e.spawnBubbleGunBullet(t.allWeaponData[n],a);break;case"daggerDart":e.spawnDaggerDartBullet(t.allWeaponData[n],a);break;case"particleGun":e.spawnParticleGunBullet(t.allWeaponData[n],a);break;case"machete":e.spawnMacheteBullet(t.allWeaponData[n],a);break;case"sword":e.spawnSwordBullet(t.allWeaponData[n],a);break;case"laserGun":e.spawnLaserGunBullet(t.allWeaponData[n],a);break;case"iceWand":e.spawnIceWandBullet(t.allWeaponData[n],a);break;case"bow":e.spawnBowBullet(t.allWeaponData[n],a)}}),d)},n}(i))._instance=null,d=c))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WeaponManager.ts"],(function(t){var n,i,o,e,s,a,r,c,h,p,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,c=t.Vec3,h=t.UITransform,p=t.Component},function(t){u=t.WeaponManager}],execute:function(){var l,g,d,y,T;s._RF.push({},"402a9jfRbVCcZkNH6ebeZWg","WeaponJoystick",void 0);var f=a.ccclass,v=a.property;t("WeaponJoystick",(l=f("WeaponJoystick"),g=v({type:r}),l((T=n((y=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,o(n,"weapon",T,e(n)),n.angle=0,n.joystickBtn=null,n.originalPos=null,n.weaponManager=null,n.dir=new c(0,1,0),n.isTouchAreaCorrect=!1,n.joystickBtnPosRecord=[],n.isFixed=!1,n}i(n,t);var s=n.prototype;return s.start=function(){this.initNodesAndComponents(),this.recordOriginalPos(),this.initTouchEvents()},s.initNodesAndComponents=function(){this.joystickBtn=this.node.children[0],this.weaponManager=this.weapon.getComponent(u);var t=JSON.parse(localStorage.getItem("dodge-ball-settings"));this.isFixed=t.joystick,t.isAutoAim&&(this.node.active=!1)},s.recordOriginalPos=function(){this.originalPos=new c(this.node.position)},s.initTouchEvents=function(){this.node.parent.on(r.EventType.TOUCH_START,this.onTouchStart,this),this.node.parent.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.parent.on(r.EventType.TOUCH_END,this.onTouchEnd,this),this.node.parent.on(r.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},s.onTouchStart=function(t){var n=t.getUILocation(),i=this.node.parent.getComponent(h).convertToNodeSpaceAR(new c(n.x,n.y,0));this.isTouchAreaCorrect=!0,this.isFixed||this.node.setPosition(i)},s.onTouchMove=function(t){if(this.isTouchAreaCorrect){var n=t.getUILocation(),i=this.node.getComponent(h).convertToNodeSpaceAR(new c(n.x,n.y,0));this.joystickBtn.setPosition(i),this.dir=new c(this.joystickBtn.position.x,this.joystickBtn.position.y,0).normalize(),this.dir.y>=0?this.angle=180*c.angle(this.dir,new c(1,0,0))/Math.PI:this.angle=360-180*c.angle(this.dir,new c(1,0,0))/Math.PI,this.weaponManager.isRotating=!0}},s.onTouchEnd=function(t){this.node.setPosition(this.originalPos),this.joystickBtn.setPosition(c.ZERO),this.weaponManager.isRotating=!1,this.isTouchAreaCorrect=!1},s.onTouchCancel=function(t){this.node.setPosition(this.originalPos),this.joystickBtn.setPosition(c.ZERO),this.weaponManager.isRotating=!1,this.isTouchAreaCorrect=!1},s.limitjoystickBtn=function(){var t=this.joystickBtn.position.x,n=this.joystickBtn.position.y,i=new c(t,n,0).length()/(this.node.getComponent(h).width/3);i>1&&this.joystickBtn.setPosition(t/i,n/i,0)},s.update=function(t){this.limitjoystickBtn(),this.weaponManager.isRotating&&"PLAY_STATE"==this.weaponManager.gameManager.gameState&&this.weaponManager.rotate(this.angle)},n}(p)).prototype,"weapon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./WeaponData.ts","./GameManager.ts"],(function(e){var t,o,l,a,n,i,u,r,s,d,h,g,p,c,B,P,f,m,N,b,C,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,l=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,u=e.Node,r=e.Prefab,s=e.SpriteFrame,d=e.NodePool,h=e.find,g=e.UITransform,p=e.instantiate,c=e.Sprite,B=e.resources,P=e.Component,f=e.Label,m=e.Color,N=e.Vec3},function(e){b=e.Bullet},function(e){C=e.WeaponData},function(e){M=e.GameManager}],execute:function(){var w,y,D,W,v,S,z,G,A;n._RF.push({},"209fdgCUy1CwqdaYqPv1Axo","WeaponManager",void 0);var L=i.ccclass,I=i.property;e("WeaponManager",(w=L("WeaponManager"),y=I({type:u}),D=I({type:r}),W=I({type:s}),w((z=t((S=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,l(t,"bulletLayer",z,a(t)),l(t,"weaponSlot",G,a(t)),l(t,"trianglePanelSpriteFrame",A,a(t)),t.pistolBulletNodePool=new d,t.fireWandBulletNodePool=new d,t.thunderWandBulletNodePool=new d,t.lightBallBulletNodePool=new d,t.bubbleGunBulletNodePool=new d,t.daggerDartBulletNodePool=new d,t.particleGunBulletNodePool=new d,t.macheteBulletNodePool=new d,t.swordBulletNodePool=new d,t.laserGunBulletNodePool=new d,t.iceWandBulletNodePool=new d,t.bowBulletNodePool=new d,t.weaponSlotNum=1,t.maxWeaponSlotNum=10,t.speed=0,t.isRotating=!1,t.rotatingTween=null,t.gotHitWeaponslotUUIDArray=[],t.gameManager=null,t}o(t,e);var n=t.prototype;return n.start=function(){this.initNodesAndComponents()},n.initNodesAndComponents=function(){this.gameManager=h("Canvas").getComponent(M)},n.removeSomeNodesInPoolAfterWave=function(e){for(var t=0;t<e;t++){if(this.pistolBulletNodePool.size()>0)this.pistolBulletNodePool.get().destroy();if(this.fireWandBulletNodePool.size()>0)this.fireWandBulletNodePool.get().destroy();if(this.thunderWandBulletNodePool.size()>0)this.thunderWandBulletNodePool.get().destroy();if(this.lightBallBulletNodePool.size()>0)this.lightBallBulletNodePool.get().destroy();if(this.bubbleGunBulletNodePool.size()>0)this.bubbleGunBulletNodePool.get().destroy();if(this.daggerDartBulletNodePool.size()>0)this.daggerDartBulletNodePool.get().destroy();if(this.particleGunBulletNodePool.size()>0)this.particleGunBulletNodePool.get().destroy();if(this.macheteBulletNodePool.size()>0)this.macheteBulletNodePool.get().destroy();if(this.swordBulletNodePool.size()>0)this.swordBulletNodePool.get().destroy();if(this.laserGunBulletNodePool.size()>0)this.laserGunBulletNodePool.get().destroy();if(this.iceWandBulletNodePool.size()>0)this.iceWandBulletNodePool.get().destroy()}},n.clearNodePool=function(){this.pistolBulletNodePool.clear(),this.fireWandBulletNodePool.clear(),this.thunderWandBulletNodePool.clear(),this.lightBallBulletNodePool.clear(),this.bubbleGunBulletNodePool.clear(),this.daggerDartBulletNodePool.clear(),this.particleGunBulletNodePool.clear(),this.macheteBulletNodePool.clear(),this.swordBulletNodePool.clear(),this.laserGunBulletNodePool.clear(),this.iceWandBulletNodePool.clear()},n.setWeaponSlots=function(e){C.getInstace().unscheduleAllCallbacks(),this.node.removeAllChildren(),this.weaponSlotNum=e;var t=this.node.parent.getComponent(g).width,o=2*Math.PI/e,l=0;l=e<8?t*Math.sin(Math.PI/8)*2/1.1:t*Math.sin(Math.PI/e)*2/1.1;for(var a=0;a<e;a++){var n=this.node.position.x+t*Math.cos(o*a),i=this.node.position.y+t*Math.sin(o*a),u=p(this.weaponSlot);this.node.addChild(u),u.setPosition(n,i,0),u.getComponent(g).setContentSize(l,l),0==a&&(u.getComponent(c).spriteFrame=this.trianglePanelSpriteFrame)}},n.rotate=function(e){this.node.angle=e},n.addWeaponSlot=function(){this.weaponSlotNum+=1,this.setWeaponSlots(this.weaponSlotNum)},n.addWeaponToOneWeaponSlot=function(e,t,o){var l=this;void 0===t&&(t="0"),void 0===o&&(o="100");for(var a=function(a){var n=l.node.children[a];if(n.children.length<=2){n.children[0].getComponent(f).string=t,n.children[1].getComponent(f).string=o,n.getComponent(c).color=(new m).fromHEX(l.changeUpdateNumToColor(parseInt(t)));var i=new u;i.layer=1,i.name=e,n.addChild(i);var r=i.addComponent(c);r.trim=!1;var d=0,h=new N(n.position.x,n.position.y,0).normalize();d=h.y>0?180*N.angle(h,new N(1,0,0))/Math.PI:180*-N.angle(h,new N(1,0,0))/Math.PI;var p=C.getInstace().allWeaponData[e].picPath;return B.load(p,s,(function(e,t){r.spriteFrame=t;var o=n.getComponent(g).width/2.5;i.getComponent(g).setContentSize(o,o),i.angle=d,0==a&&i.setPosition(new N(i.position).subtract3f(o/2.8,0,0))})),C.getInstace().allWeaponData[e].init(l,n),1}},n=0;n<this.node.children.length&&!a(n);n++);},n.changeUpdateNumToColor=function(e){return 0==e?"ffffff":1==e?"4682B4":2==e?"50C878":3==e?"B7410E":4==e?"d95763":5==e?"D2B48C":6==e?"B08D57":7==e?"FFD700":8==e?"FF8C00":9==e?"9b59b6":10==e?"ff2400":void 0},n.spawnPistolBullet=function(e,t){var o=this,l=null;this.pistolBulletNodePool.size()>0?(l=this.pistolBulletNodePool.get(),this.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)):B.load(e.bulletPrefabPath,r,(function(a,n){l=p(n),o.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.pistolAudio)},n.spawnFireWandBullet=function(e,t){var o=this,l=null;this.fireWandBulletNodePool.size()>0?(l=this.fireWandBulletNodePool.get(),this.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)):B.load(e.bulletPrefabPath,r,(function(a,n){l=p(n),o.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.fireWandAudio)},n.spawnThunderWandBullet=function(e,t){this.thunderWandBulletNodePool.size()>0?this.thunderWandBulletNodePool.get().getComponent(b).setBulletData(e,t):B.load(e.bulletPrefabPath,r,(function(o,l){p(l).getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.thunderWandAduio)},n.spawnLightBallBullet=function(e,t){this.lightBallBulletNodePool.size()>0?this.lightBallBulletNodePool.get().getComponent(b).setBulletData(e,t):B.load(e.bulletPrefabPath,r,(function(o,l){p(l).getComponent(b).setBulletData(e,t)}))},n.spawnBubbleGunBullet=function(e,t){var o=this,l=null;this.bubbleGunBulletNodePool.size()>0?(l=this.bubbleGunBulletNodePool.get(),this.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)):B.load(e.bulletPrefabPath,r,(function(a,n){l=p(n),o.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.bubbleGunAudio)},n.spawnDaggerDartBullet=function(e,t){var o=this,l=null;this.daggerDartBulletNodePool.size()>0?(l=this.daggerDartBulletNodePool.get(),this.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)):B.load(e.bulletPrefabPath,r,(function(a,n){l=p(n),o.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.daggerDartAudio)},n.spawnParticleGunBullet=function(e,t){var o=this,l=null;this.particleGunBulletNodePool.size()>0?(l=this.particleGunBulletNodePool.get(),this.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)):B.load(e.bulletPrefabPath,r,(function(a,n){l=p(n),o.bulletLayer.addChild(l),l.getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.particleGunAudio)},n.spawnMacheteBullet=function(e,t){this.macheteBulletNodePool.size()>0?this.macheteBulletNodePool.get().getComponent(b).setBulletData(e,t):B.load(e.bulletPrefabPath,r,(function(o,l){p(l).getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.macheteAudio)},n.spawnSwordBullet=function(e,t){this.swordBulletNodePool.size()>0?this.swordBulletNodePool.get().getComponent(b).setBulletData(e,t):B.load(e.bulletPrefabPath,r,(function(o,l){p(l).getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.swordAudio)},n.spawnLaserGunBullet=function(e,t){this.laserGunBulletNodePool.size()>0?this.laserGunBulletNodePool.get().getComponent(b).setBulletData(e,t):B.load(e.bulletPrefabPath,r,(function(o,l){p(l).getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.laserGunAudio)},n.spawnIceWandBullet=function(e,t){this.iceWandBulletNodePool.size()>0?this.iceWandBulletNodePool.get().getComponent(b).setBulletData(e,t):B.load(e.bulletPrefabPath,r,(function(o,l){p(l).getComponent(b).setBulletData(e,t)}))},n.spawnBowBullet=function(e,t,o){var l=this;void 0===o&&(o=!0);var a=null;this.bowBulletNodePool.size()>0?(a=this.bowBulletNodePool.get(),this.bulletLayer.addChild(a),a.getComponent(b).isTriggeringSpecialEffect=o,a.getComponent(b).setBulletData(e,t)):B.load(e.bulletPrefabPath,r,(function(n,i){a=p(i),l.bulletLayer.addChild(a),a.getComponent(b).isTriggeringSpecialEffect=o,a.getComponent(b).setBulletData(e,t)})),this.gameManager.audioManager.playOneShot(this.gameManager.audioManager.bowAudio)},n.initAllWeapons=function(){var e=this;this.node.children.forEach((function(t){var o=t.children[2].name;C.getInstace().allWeaponData[o].init(e,t)}))},n.update=function(e){},t}(P)).prototype,"bulletLayer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(S.prototype,"weaponSlot",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"trianglePanelSpriteFrame",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=S))||v));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});